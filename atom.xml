<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EddieLee</title>
  
  <subtitle>to infinity and beyondâœ¨ğŸ›¸.</subtitle>
  <link href="https://soincredible.github.io/atom.xml" rel="self"/>
  
  <link href="https://soincredible.github.io/"/>
  <updated>2025-08-20T13:49:18.324Z</updated>
  <id>https://soincredible.github.io/</id>
  
  <author>
    <name>Eddie Lee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>UnrealEngineæºç </title>
    <link href="https://soincredible.github.io/posts/43a309b5/"/>
    <id>https://soincredible.github.io/posts/43a309b5/</id>
    <published>2025-08-16T09:39:38.000Z</published>
    <updated>2025-08-20T13:49:18.324Z</updated>
    
    <content type="html"><![CDATA[<p>è™šå¹»å¼•æ“çš„ä»£ç ä½¿ç”¨çš„æ˜¯å¤æ—©ç‰ˆæœ¬çš„C++, è·Ÿç°ä»£çš„C++æœ‰äº›è„±èŠ‚äº†, æ‰€ä»¥å¯ä»¥æŠŠè™šå¹»å¼•æ“çš„æºä»£ç ç†è§£ä¸ºæ˜¯C++çš„ä¸€ä¸ªå˜ç§</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è™šå¹»å¼•æ“çš„ä»£ç ä½¿ç”¨çš„æ˜¯å¤æ—©ç‰ˆæœ¬çš„C++, è·Ÿç°ä»£çš„C++æœ‰äº›è„±èŠ‚äº†, æ‰€ä»¥å¯ä»¥æŠŠè™šå¹»å¼•æ“çš„æºä»£ç ç†è§£ä¸ºæ˜¯C++çš„ä¸€ä¸ªå˜ç§&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>åœ¨Unityä¸­å®ç°æ‹–æ‹½ç‰©ä½“çš„åŠŸèƒ½</title>
    <link href="https://soincredible.github.io/posts/aa328bbc/"/>
    <id>https://soincredible.github.io/posts/aa328bbc/</id>
    <published>2025-08-10T08:33:19.000Z</published>
    <updated>2025-08-11T03:35:33.789Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.EventSystems;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">MB</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DraggableObj</span> : <span class="title">MonoBehaviour</span>, </span><br><span class="line">        <span class="title">IDragHandler</span>, <span class="title">IBeginDragHandler</span>, <span class="title">IEndDragHandler</span></span><br><span class="line">    </span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">enum</span> DragState</span><br><span class="line">        &#123;</span><br><span class="line">            None,</span><br><span class="line">            Idle,</span><br><span class="line">            Dragging,</span><br><span class="line">        &#125;    </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">private</span> DragState dragState = DragState.None;</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;æ‹–æ‹½ä¸­...&quot;</span>);</span><br><span class="line">            RectTransformUtility.ScreenPointToLocalPointInRectangle(transform.parent.transform <span class="keyword">as</span> RectTransform, eventData.position, Camera.main, <span class="keyword">out</span> Vector2 point);</span><br><span class="line">            transform.localPosition = point;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnBeginDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;å¼€å§‹æ‹–æ‹½&quot;</span>);</span><br><span class="line">            transform.localScale = Vector3.one * <span class="number">1.5f</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnEndDrag</span>(<span class="params">PointerEventData eventData</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Debug.Log(<span class="string">&quot;æ‹–æ‹½ç»“æŸ...&quot;</span>);</span><br><span class="line">            transform.localScale = Vector3.one;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥å°†ä¸Šé¢çš„é€»è¾‘è¿›ä¸€æ­¥æŠ½è±¡ä¸€ä¸‹, æŠŠæ¯ä¸ªæ¥å£å†…çš„è¡Œä¸ºæŠ½ç¦»å‡ºæ¥, ä½œä¸ºä¸€ä¸ªaction, åœ¨åˆé€‚çš„æ—¶æœºä¼ è¿›å».</p>]]></content>
    
    
      
      
    <summary type="html">&lt;figure class=&quot;highlight c#&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>FigmaAPIé˜…è¯»</title>
    <link href="https://soincredible.github.io/posts/8d32db40/"/>
    <id>https://soincredible.github.io/posts/8d32db40/</id>
    <published>2025-08-10T08:29:45.000Z</published>
    <updated>2025-08-11T03:35:33.787Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.figma.com/developers/api#intro">https://www.figma.com/developers/api#intro</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://www.figma.com/developers/api#intro&quot;&gt;https://www.figma.com/developers/api#intro&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Unityæºç é˜…è¯»</title>
    <link href="https://soincredible.github.io/posts/4d404b8c/"/>
    <id>https://soincredible.github.io/posts/4d404b8c/</id>
    <published>2025-08-10T02:11:30.000Z</published>
    <updated>2025-08-11T03:35:33.789Z</updated>
    
    <content type="html"><![CDATA[<p>Unityä¸­æœ‰ä¸€ç§<code>.bindings </code>æ ¼å¼çš„æ–‡ä»¶, è¿™ç±»æ–‡ä»¶ç»è¿‡æŸç§å¤„ç†ä¼šè½¬æ¢ä¸ºC#æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line">C++RAW</span><br><span class="line"></span><br><span class="line">#include &quot;UnityPrefix.h&quot;</span><br><span class="line">#include &quot;Configuration/UnityConfigure.h&quot;</span><br><span class="line">#include &quot;Runtime/Mono/MonoBehaviour.h&quot;</span><br><span class="line">#include &quot;Runtime/UI/Canvas.h&quot;</span><br><span class="line">#include &quot;Runtime/UI/UIStructs.h&quot;</span><br><span class="line">#include &quot;Runtime/UI/BatchGenerator.h&quot;</span><br><span class="line"></span><br><span class="line">#if ENABLE_PROFILER</span><br><span class="line">#include &quot;Modules/Profiler/Public/ProfilerImpl.h&quot;</span><br><span class="line">#endif</span><br><span class="line"></span><br><span class="line">CSRAW</span><br><span class="line">using System;</span><br><span class="line">using UnityEngine;</span><br><span class="line">using Object = UnityEngine.Object;</span><br><span class="line"></span><br><span class="line">namespace UnityEngine</span><br><span class="line">&#123;</span><br><span class="line">    ENUM RenderMode</span><br><span class="line">        ScreenSpaceOverlay = 0,</span><br><span class="line">        ScreenSpaceCamera = 1,</span><br><span class="line">        WorldSpace = 2</span><br><span class="line">    END</span><br><span class="line"></span><br><span class="line">    [Flags]</span><br><span class="line">    ENUM AdditionalCanvasShaderChannels</span><br><span class="line">        None = 0,</span><br><span class="line">        TexCoord1 = 1 &lt;&lt; 0,</span><br><span class="line">        TexCoord2 = 1 &lt;&lt; 1,</span><br><span class="line">        TexCoord3 = 1 &lt;&lt; 2,</span><br><span class="line">        Normal = 1 &lt;&lt; 3,</span><br><span class="line">        Tangent = 1 &lt;&lt; 4,</span><br><span class="line">    END</span><br><span class="line"></span><br><span class="line">    // CanvasRenderer is the C++ rendering backend for the UI system.</span><br><span class="line">    [RequireComponent(typeof(RectTransform))]</span><br><span class="line">    [NativeClass(&quot;UI::Canvas&quot;)]</span><br><span class="line">    CLASS Canvas : Behaviour</span><br><span class="line"></span><br><span class="line">        AUTO_PROP RenderMode renderMode GetRenderMode SetRenderMode</span><br><span class="line">        AUTO_PROP bool isRootCanvas GetIsRootCanvas</span><br><span class="line">        AUTO_PTR_PROP Camera worldCamera GetCamera SetCamera</span><br><span class="line">        AUTO_PROP Rect pixelRect GetPixelRect</span><br><span class="line">        AUTO_PROP float scaleFactor GetScaleFactor SetScaleFactor</span><br><span class="line">        AUTO_PROP float referencePixelsPerUnit GetReferencePixelsPerUnit SetReferencePixelsPerUnit</span><br><span class="line">        AUTO_PROP bool overridePixelPerfect GetOverridePixelPerfect SetOverridePixelPerfect</span><br><span class="line">        AUTO_PROP bool pixelPerfect GetPixelPerfect SetPixelPerfect</span><br><span class="line">        AUTO_PROP float planeDistance GetPlaneDistance SetPlaneDistance</span><br><span class="line"></span><br><span class="line">        AUTO_PROP int renderOrder GetRenderOrder</span><br><span class="line"></span><br><span class="line">        AUTO_PROP bool overrideSorting GetOverrideSorting SetOverrideSorting</span><br><span class="line">        AUTO_PROP int sortingOrder GetSortingOrder SetSortingOrder</span><br><span class="line">        AUTO_PROP int targetDisplay GetTargetDisplay SetTargetDisplay</span><br><span class="line"></span><br><span class="line">        OBSOLETE warning Setting normalizedSize via a int is not supported. Please use normalizedSortingGridSize</span><br><span class="line">        AUTO_PROP int sortingGridNormalizedSize GetSortingBucketNormalizedSize SetSortingBucketNormalizedSize</span><br><span class="line"></span><br><span class="line">        AUTO_PROP float normalizedSortingGridSize GetSortingBucketNormalizedSize SetSortingBucketNormalizedSize</span><br><span class="line"></span><br><span class="line">        AUTO_PROP int sortingLayerID GetSortingLayerID SetSortingLayerID</span><br><span class="line">        AUTO_PROP int cachedSortingLayerValue GetCachedSortingLayerValue</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        AUTO_PROP AdditionalCanvasShaderChannels additionalShaderChannels GetAdditionalShaderChannels SetAdditionalShaderChannels</span><br><span class="line"></span><br><span class="line">        CUSTOM_PROP string sortingLayerName</span><br><span class="line">        &#123;</span><br><span class="line">            return scripting_string_new(self-&gt;GetSortingLayerName());</span><br><span class="line">        &#125;</span><br><span class="line">        &#123;</span><br><span class="line">            self-&gt;SetSortingLayerName(value);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CUSTOM_PROP Canvas rootCanvas</span><br><span class="line">        &#123;</span><br><span class="line">            UI::Canvas* root = self-&gt;GetRootCanvas();</span><br><span class="line">            return Scripting::ScriptingWrapperFor(root == NULL ? self : root);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CUSTOM static Material GetDefaultCanvasMaterial()</span><br><span class="line">        &#123;</span><br><span class="line">            return Scripting::ScriptingWrapperFor(UI::GetDefaultUIMaterial());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CUSTOM static Material GetETC1SupportedCanvasMaterial()</span><br><span class="line">        &#123;</span><br><span class="line">            return Scripting::ScriptingWrapperFor(UI::GetETC1SupportedCanvasMaterial());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        OBSOLETE warning Shared default material now used for text and general UI elements, call Canvas.GetDefaultCanvasMaterial()</span><br><span class="line">        CUSTOM static Material GetDefaultCanvasTextMaterial()</span><br><span class="line">        &#123;</span><br><span class="line">            return Scripting::ScriptingWrapperFor(UI::GetDefaultUIMaterial());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CSRAW</span><br><span class="line">        public delegate void WillRenderCanvases();</span><br><span class="line">        public static event WillRenderCanvases willRenderCanvases;</span><br><span class="line">        [RequiredByNativeCode]</span><br><span class="line">        private static void SendWillRenderCanvases() &#123; if (willRenderCanvases != null) willRenderCanvases(); &#125;</span><br><span class="line">        public static void ForceUpdateCanvases() &#123; SendWillRenderCanvases(); &#125;</span><br><span class="line">    END</span><br><span class="line"></span><br><span class="line">    CLASS UISystemProfilerApi</span><br><span class="line">        C++RAW</span><br><span class="line">        enum SampleType &#123; Layout, Render &#125;;</span><br><span class="line">        ENUM SampleType</span><br><span class="line">            Layout,</span><br><span class="line">            Render,</span><br><span class="line">        END</span><br><span class="line">        CUSTOM static public void BeginSample(SampleType type)</span><br><span class="line">        &#123;</span><br><span class="line">#if ENABLE_PROFILER</span><br><span class="line">            if (UnityProfilerPerThread::ms_InstanceTLS != NULL)</span><br><span class="line">            &#123;</span><br><span class="line">                ProfilerInformation&amp; profilerInfo = *profiler_get_info_for_name(type == Layout ? &quot;Layout&quot; : &quot;Render&quot;, type == Layout ? kProfilerUISystemLayout : kProfilerUISystemRender);</span><br><span class="line">                PROFILER_BEGIN(profilerInfo, NULL);</span><br><span class="line">            &#125;</span><br><span class="line">#endif // ENABLE_PROFILER</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CUSTOM static public void EndSample(SampleType type)</span><br><span class="line">        &#123;</span><br><span class="line">#if ENABLE_PROFILER</span><br><span class="line">            if (UnityProfilerPerThread::ms_InstanceTLS != NULL)</span><br><span class="line">            &#123;</span><br><span class="line">                ProfilerInformation&amp; profilerInfo = *profiler_get_info_for_name(type == Layout ? &quot;Layout&quot; : &quot;Render&quot;, type == Layout ? kProfilerUISystemLayout : kProfilerUISystemRender);</span><br><span class="line">                PROFILER_END(profilerInfo);</span><br><span class="line">            &#125;</span><br><span class="line">#endif // ENABLE_PROFILER</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CUSTOM static public void AddMarker(string name, Object obj)</span><br><span class="line">        &#123;</span><br><span class="line">#if ENABLE_PROFILER &amp;&amp; UNITY_EDITOR</span><br><span class="line">            InstanceID instanceID = InstanceID_None;</span><br><span class="line">            std::string nameStr(name);</span><br><span class="line">            if (!obj.IsNull() &amp;&amp; Thread::CurrentThreadIsMainThread())</span><br><span class="line">            &#123;</span><br><span class="line">                instanceID =  obj-&gt;GetInstanceID();</span><br><span class="line">                nameStr += &quot; &quot;;</span><br><span class="line">                nameStr += obj-&gt;GetName();</span><br><span class="line">            &#125;</span><br><span class="line">            UI::GetCanvasManager().AddMarker(nameStr.c_str(), instanceID);</span><br><span class="line">#endif // ENABLE_PROFILER</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    END</span><br><span class="line"></span><br><span class="line">    CSRAW</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Unityä¸­æœ‰ä¸€ç§&lt;code&gt;.bindings &lt;/code&gt;æ ¼å¼çš„æ–‡ä»¶, è¿™ç±»æ–‡ä»¶ç»è¿‡æŸç§å¤„ç†ä¼šè½¬æ¢ä¸ºC#æ–‡ä»¶&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;spa</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>UnityUGUIè§£æ„(äºŒ)-EventSystem</title>
    <link href="https://soincredible.github.io/posts/28d70de0/"/>
    <id>https://soincredible.github.io/posts/28d70de0/</id>
    <published>2025-08-10T00:42:26.000Z</published>
    <updated>2025-08-20T13:53:56.093Z</updated>
    
    <content type="html"><![CDATA[<h1>GraphicRaycaster</h1><p>ä¸ºä»€ä¹ˆåœ¨åˆ›å»ºCanvasèŠ‚ç‚¹çš„æ—¶å€™, éƒ½è¦GrapihcRaycasterä¼šè‡ªåŠ¨åˆ›å»º<br>GrapihcRaycasterç»„ä»¶ä¸æ˜¯å¿…é¡»çš„, åˆ é™¤æ‰ä¹‹åè¿™ä¸ªCanvaså°±ä¸èƒ½å“åº”ç‚¹å‡»äº†.</p><p>è¦çœ‹æ˜ç™½ä¸‹é¢è¿™æ®µé€»è¾‘æ˜¯åœ¨å¹²ä»€ä¹ˆ</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">Raycast</span>(<span class="params">Vector2 sp, Camera eventCamera</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (!isActiveAndEnabled)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> t = transform;</span><br><span class="line">    <span class="keyword">var</span> components = ListPool&lt;Component&gt;.Get();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">bool</span> ignoreParentGroups = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">bool</span> continueTraversal = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (t != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        t.GetComponents(components);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; components.Count; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> canvas = components[i] <span class="keyword">as</span> Canvas;</span><br><span class="line">            <span class="keyword">if</span> (canvas != <span class="literal">null</span> &amp;&amp; canvas.overrideSorting)</span><br><span class="line">                continueTraversal = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> filter = components[i] <span class="keyword">as</span> ICanvasRaycastFilter;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (filter == <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> raycastValid = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> <span class="keyword">group</span> = components[i] <span class="keyword">as</span> CanvasGroup;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">group</span> != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (!<span class="keyword">group</span>.enabled)</span><br><span class="line">                    <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (ignoreParentGroups == <span class="literal">false</span> &amp;&amp; <span class="keyword">group</span>.ignoreParentGroups)</span><br><span class="line">                &#123;</span><br><span class="line">                    ignoreParentGroups = <span class="literal">true</span>;</span><br><span class="line">                    raycastValid = filter.IsRaycastLocationValid(sp, eventCamera);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="keyword">if</span> (!ignoreParentGroups)</span><br><span class="line">                    raycastValid = filter.IsRaycastLocationValid(sp, eventCamera);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                raycastValid = filter.IsRaycastLocationValid(sp, eventCamera);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!raycastValid)</span><br><span class="line">            &#123;</span><br><span class="line">                ListPool&lt;Component&gt;.Release(components);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        t = continueTraversal ? t.parent : <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    ListPool&lt;Component&gt;.Release(components);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>EventSystemçš„è§¦å‘æœºç†</h1><p>ä¾èµ–Raycastç»™çš„ä¸€äº›æ•°æ®, ç”¨è¿™äº›æ•°æ®æ‰¾åˆ°Raycastå‘½ä¸­çš„gameobject, æ‰¾åˆ°è¿™äº›gameObjectä¸Šçš„Handlerç»„ä»¶, è§¦å‘è¿™äº›Handler.</p><p>ä¸ç®¡å¸‚é¢ä¸Šçš„UnityUIçš„æ–¹æ¡ˆ(æ¯”å¦‚FGUI)å¤šç‚«é…·, æœ€ç»ˆåˆ°Unityä¸­éƒ½æ˜¯è¦èµ°UGUIçš„åº•å±‚</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;GraphicRaycaster&lt;/h1&gt;
&lt;p&gt;ä¸ºä»€ä¹ˆåœ¨åˆ›å»ºCanvasèŠ‚ç‚¹çš„æ—¶å€™, éƒ½è¦GrapihcRaycasterä¼šè‡ªåŠ¨åˆ›å»º&lt;br&gt;
GrapihcRaycasterç»„ä»¶ä¸æ˜¯å¿…é¡»çš„, åˆ é™¤æ‰ä¹‹åè¿™ä¸ªCanvaså°±ä¸èƒ½å“åº”ç‚¹å‡»äº†.&lt;/p&gt;
&lt;p&gt;è¦çœ‹æ˜ç™½ä¸‹é¢è¿™æ®µé€»</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Actoræ¨¡å‹</title>
    <link href="https://soincredible.github.io/posts/d6fe94a3/"/>
    <id>https://soincredible.github.io/posts/d6fe94a3/</id>
    <published>2025-07-29T00:59:18.000Z</published>
    <updated>2025-08-11T03:35:33.787Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>è¿‘æœŸå­¦å‰ä»–å¿ƒå¾—</title>
    <link href="https://soincredible.github.io/posts/5b1bb5d7/"/>
    <id>https://soincredible.github.io/posts/5b1bb5d7/</id>
    <published>2025-07-26T01:00:24.000Z</published>
    <updated>2025-07-28T06:49:10.581Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>UnityUGUIè§£æ„(ä¸€)â€”â€”RectTransform</title>
    <link href="https://soincredible.github.io/posts/67d7d086/"/>
    <id>https://soincredible.github.io/posts/67d7d086/</id>
    <published>2025-07-15T13:56:01.000Z</published>
    <updated>2025-08-11T03:35:33.788Z</updated>
    
    <content type="html"><![CDATA[<p>RectTransformç»§æ‰¿è‡ªTransform, å¹¶æ²¡æœ‰åŒ…å«åœ¨UGUIä½“ç³»é‡Œé¢, ä½†æ˜¯RectTransformçš„å­—æ®µç»å¤§å¤šæ•°æƒ…å†µä¸‹åªåœ¨UGUIä½“ç³»ä¸­æ‰æœ‰æ„ä¹‰.  å› æ­¤æˆ‘ä»¬å¯ä»¥å°†RectTransformçœ‹ä½œæ˜¯Unity UGUIçš„ä¸€éƒ¨åˆ†, å¹¶ä¸”å°†å…¶ä½œä¸ºUGUIç³»åˆ—ä¸­é¦–ä¸ªåˆ†æçš„å¯¹è±¡.</p><h1>é”šç‚¹(Anchor)ä¸ä¸­å¿ƒç‚¹(Pivot)</h1><h2 id="é”šç‚¹Anchor">é”šç‚¹Anchor</h2><p>è¿™ä¸ªAnchorå¹¶ä¸æ˜¯ç›´æ¥å‚ä¸ä½ç½®ä¿¡æ¯è¿ç®—çš„æ•°æ®, Unityä¼šå…ˆæ ¹æ®è¿™ä¸ªä¿¡æ¯è®¡ç®—å‡ºä¸€ä¸ªanchorReferencePosition, å†ç”¨è¿™ä¸ªå€¼è¿›è¡Œå…¶ä»–çš„è¿ç®—.<br>åœ¨Unityä¸­ é”šç‚¹æ˜¯å¯ä»¥è‡³å¤šè¢«åˆ†æˆå››ä¸ªè§’çš„, å¹¶ä¸æ˜¯ä¸€ä¸ªç‚¹. è€Œåœ¨è®¡ç®—ä¸€ä¸ªRectTransformä¸­çš„ä¸€äº›å±æ€§æ—¶éœ€è¦æŠŠé”šç‚¹ä½œä¸ºä¸€ä¸ª&quot;ç‚¹&quot; å‚ä¸è¿ç®—, ä½œä¸ºå››ä¸ªè§’ä¸é‡åˆçš„æƒ…å†µ, éœ€è¦æœ‰ä¸€ä¸ªAnchor Reference Positionæ¥ä½œä¸ºé”šç‚¹,<br>Anchor Reference Positionçš„è®¡ç®—å…¬å¼å¦‚ä¸‹:<br>$$ AnchorReferencePosition_x = (1 - pivot_x) \times x_0 + pivot_x \times x_1 $$<br>$$ AnchorReferencePosition_y = (1 - pivot_y) \times y_0 + pivot_y \times y_1 $$<br>å…¶ä¸­ (x0, y0)ä»£è¡¨çš„æ˜¯AnchorMinåœ¨è¯¥RectTransformçš„çˆ¶èŠ‚ç‚¹ä¸­çš„ä½ç½®, (x1, y1)ä»£è¡¨çš„æ˜¯AnchorMaxåœ¨è¯¥RectTransformçš„çˆ¶èŠ‚ç‚¹ä¸­çš„ä½ç½®, (pivotx, pivoty)æŒ‡çš„æ˜¯ä¸­å¿ƒç‚¹çš„å½’ä¸€åŒ–ä½ç½®åæ ‡</p><p>æœ‰ä¸€ä¸ªæ¦‚å¿µå«AnchoredPosition, è¿™ä¸ªå€¼çš„å«ä¹‰æ˜¯Pivotç‚¹ç›¸å¯¹äº<code>Anchor Reference Position</code>çš„è·ç¦», å½“é”šç‚¹çš„å››ä¸ªè§’æ²¡æœ‰é‡åˆåœ¨ä¸€ç‚¹æ—¶, æˆ‘ä»¬å¯èƒ½ä¼šä»¥ä¸ºAnchor Reference Position</p><p>AnchoredPositionå’ŒLocal Positionçš„åŒºåˆ«æ˜¯ä»€ä¹ˆ?<br>åœ¨Transform(éRectTransform)ä½“ç³»ä¸­, å­ç‰©ä½“çš„localPositionåªèƒ½é€šè¿‡è°ƒæ•´å…¶å’Œçˆ¶ç‰©ä½“çš„ç›¸å¯¹ä½ç½®æ¥å®ç°å˜åŒ–, åœ¨RectTransformä½“ç³»ä¸‹, å­ç‰©ä½“çš„localPositioné™¤äº†å—ç›¸å¯¹ä½ç½®çš„å½±å“, è¿˜ä¸çˆ¶ç‰©ä½“çš„widthã€å­ç‰©ä½“æœ¬èº«çš„pivotæœ‰å…³</p><h1>RectTransformä¸­çš„å­—æ®µ</h1><blockquote><p>ğŸ’¡æœ¬æ–‡æˆ‘ä»¬åªè®¨è®ºRectTransformä¸­æœ‰è€ŒTransformä¸­æ²¡æœ‰çš„å­—æ®µ</p></blockquote><ul><li>rect Rect æ³¨æ„RectTransformä¸­çš„rectæˆå‘˜ä¸æ”¯æŒç›´æ¥ä¿®æ”¹æ³¨æ„ä»¥ä¸Šå­—æ®µéƒ½æ˜¯ä¸å¯ä»¥é€šè¿‡RectTransformæ“ä½œå…¶å€¼çš„., å› ä¸ºæ²¡æœ‰setå±æ€§, å¤–éƒ¨æ²¡æœ‰å¯¹å®ƒçš„è®¿é—®æƒé™<ul><li>xMin, ä»£è¡¨çš„æ˜¯rectå›´æˆçŸ©å½¢åŒºåŸŸçš„å·¦ä¸‹è§’çš„æ¨ªåæ ‡å€¼, åæ ‡ç³»åŸç‚¹æ˜¯è¿™ä¸ªrectå›´æˆçš„çŸ©å½¢åŒºåŸŸçš„ä¸­å¿ƒç‚¹,</li><li>yMin, ä»£è¡¨çš„æ˜¯rectå›´æˆçŸ©å½¢åŒºåŸŸçš„å·¦ä¸‹è§’çš„çºµåæ ‡å€¼, åæ ‡ç³»åŸç‚¹æ˜¯è¿™ä¸ªrectå›´æˆçš„çŸ©å½¢åŒºåŸŸçš„ä¸­å¿ƒç‚¹,</li><li>mHeight, è¿™ä¸ªrectå›´æˆçŸ©å½¢çš„é«˜</li><li>mWidth, è¿™ä¸ªrectå›´æˆçŸ©å½¢çš„å®½</li></ul></li><li>anchorMin Vector2 ä»¥å½“å‰RectTransformçš„çˆ¶èŠ‚ç‚¹çš„rectçš„å·¦ä¸‹è§’ä¸ºåæ ‡åŸç‚¹, é”šç‚¹å·¦ä¸‹è§’çš„å½’ä¸€åŒ–ä½ç½®åæ ‡</li><li>anchorMax Vector2 ä»¥å½“å‰RectTransformçš„çˆ¶èŠ‚ç‚¹çš„rectçš„å·¦ä¸‹è§’ä¸ºåæ ‡åŸç‚¹, é”šç‚¹å³ä¸Šè§’çš„å½’ä¸€åŒ–ä½ç½®åæ ‡</li><li>sizeDelta Vector2 å½“é”šç‚¹å››è§’é‡åˆæ—¶, sizeDelta.x=rect.width=(offsetMax-offsetMin).x, sizeDelta.y=rect.height=(offsetMax-offsetMin).y å½“ä¸é‡åˆæ—¶ sizeDelta.x=(offsetMax-offsetMin).x, sizeDelta.y=(offsetMax-offsetMin).y</li><li>offsetMin Vector2 æŒ‡é”šç‚¹å·¦ä¸‹è§’ä¸rectçš„å·¦ä¸‹è§’çš„åç§»å€¼ ä»¥å½“å‰RectTransformçš„çˆ¶èŠ‚ç‚¹çš„rectçš„å·¦ä¸‹è§’ä¸ºåæ ‡åŸç‚¹</li><li>offsetMax Vector2  æŒ‡é”šç‚¹å³ä¸Šè§’ä¸rectçš„å³ä¸Šè§’çš„åç§»å€¼ ä»¥å½“å‰RectTransformçš„çˆ¶èŠ‚ç‚¹çš„rectçš„å·¦ä¸‹è§’ä¸ºåæ ‡åŸç‚¹</li><li>anchoredPosition Vector2</li><li>anchoredPosition3D Vector3 åŒ…å«anchoredPositionçš„xyåˆ†é‡, å¢åŠ äº†zåˆ†é‡ ä¸€èˆ¬ç”¨ä¸åˆ°<br>localPositionçš„å«ä¹‰æ˜¯å½“å‰RectTransformçš„pivotç›¸å¯¹äºè¯¥RectTransformçš„çˆ¶èŠ‚ç‚¹rectçš„ä¸­å¿ƒç‚¹çš„ä½ç½®, ç”±äºå¯ä»¥è°ƒæ•´çˆ¶èŠ‚ç‚¹çš„rect, æ‰€ä»¥å¯ä»¥é—´æ¥å½±å“å­ç‰©ä½“çš„localPositionå±æ€§, è€Œæˆ‘ä¹Ÿå¯ä»¥è®©rectçš„ç»å¯¹ä½ç½®ä¸å˜ é€šè¿‡æ”¹å˜pivotçš„ä½ç½®æ¥å½±å“localPositionçš„å€¼, è¿™åœ¨Transform(éRectTransform)ä½“ç³»ä¸‹æ˜¯ä¸å¤ªå¯èƒ½åšåˆ°çš„,</li></ul><p>é”šç‚¹(Anchor)æè¿°çš„æ˜¯å½“å‰UIèŠ‚ç‚¹å’Œå…¶çˆ¶èŠ‚ç‚¹çš„ä½ç½®å…³ç³», é”šç‚¹è™½ç„¶å«ç‚¹, ä½†æ˜¯ä¼šå­˜åœ¨é”šç‚¹çš„å››ä¸ªè§’æ²¡æœ‰é‡åˆçš„æƒ…å†µ. åªä¸è¿‡é”šç‚¹çš„å››è§’é‡åˆæ—¶anchor reference positionå’Œè¯¥ç‚¹é‡åˆäº†è€Œå·² unityä¼šè®¡ç®—å‡ºä¸€ä¸ªanchor reference point, å’Œpivotåšè¿ç®—å¾—åˆ°anchored position<br>ä¸­å¿ƒç‚¹(Pivot)æè¿°çš„æ˜¯å½“å‰UIèŠ‚ç‚¹çš„è½´å¿ƒä½ç½® ä¸çˆ¶èŠ‚ç‚¹æ— å…³</p><h1>IDragHandler</h1><p>åœ¨æ­¤çŒœæµ‹ , IDragHandlerçš„ç”Ÿæ•ˆé€»è¾‘æ˜¯ä»€ä¹ˆ</p><p>æ¯ä¸€å¸§ Unityéƒ½ä¼šä»æ‘„åƒæœºå‡ºå‘ç”Ÿæˆä¸€ä¸ªå°„çº¿ ç”±ä½ çš„pointeræŠ•å°„åˆ°åœºæ™¯ä¸­çš„gameObjectä¸Š, æ¯ä¸€å¸§ä½ éƒ½ä¼šæ‹¿åˆ°è¿™äº›ä¿¡æ¯ æ‹¿åˆ°è¿™äº›ç‰©ä½“, æŸ¥çœ‹è¿™äº›ç‰©ä½“ä¸ŠæŒ‚è½½çš„ç»„ä»¶æœ‰æ²¡æœ‰å®ç°IDragHandleræ¥å£, å¦‚æœæœ‰, å‡ºå‘è¿™ä¸ªIDragHnaderçš„fafa</p><p>åœ¨Unityæºç ä¸­ æœ localIdentifierInFile</p><p>BuildSerialization.cpp</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">ConvertSceneObjectsToInstanceIDBuildRemap</span><span class="params">(<span class="type">const</span> core::string&amp; path, <span class="type">const</span> WriteDataArray&amp; sceneObjects, InstanceIDBuildRemap&amp; output)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> pathIndex = <span class="built_in">GetPersistentManager</span>().<span class="built_in">GetSerializedFileIndexFromPath</span>(path);</span><br><span class="line"></span><br><span class="line">    output.<span class="built_in">reserve</span>(output.<span class="built_in">size</span>() + sceneObjects.<span class="built_in">size</span>());</span><br><span class="line">    <span class="keyword">for</span> (WriteDataArray::const_iterator i = sceneObjects.<span class="built_in">begin</span>(); i != sceneObjects.<span class="built_in">end</span>(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">Assert</span>(i-&gt;localIdentifierInFile != <span class="number">0</span>);</span><br><span class="line">        output.<span class="built_in">push_unsorted</span>(i-&gt;instanceID, <span class="built_in">SerializedObjectIdentifier</span>(pathIndex, i-&gt;localIdentifierInFile));</span><br><span class="line">    &#125;</span><br><span class="line">    output.<span class="built_in">sort</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ResourceManager.cppä¸­çš„void BuiltinResourceManager::InitializeResources()æ–¹æ³•</p><p>ä¸‹é¢è¿™æ®µä»£ç , æ¨æµ‹åº”è¯¥æ˜¯Unityç»™èµ„äº§ç”ŸæˆFileIdçš„é€»è¾‘<br>æ˜å¤©éªŒè¯ä¸€ä¸‹ å¯¹äºå¤§éƒ¨åˆ†çš„FBXä¸­çš„meshèµ„æº, ä»–ä»¬åº”è¯¥éƒ½æ˜¯å«åŒæ ·çš„åå­—, åˆå› ä¸ºä»–ä»¬éƒ½æ˜¯mesh, æ‰€ä»¥ä¼ å…¥çš„å‚æ•°ä¸€æ ·, æ‰€ä»¥åœ¨metaæ–‡ä»¶ä¸­, ä½ å¯ä»¥çœ‹åˆ°, å³ä¾¿æ˜¯å¼•ç”¨äº†ä¸åŒçš„fbxçš„mesh, å˜çš„åªæœ‰guid, fileidéƒ½æ˜¯ä¸€æ ·äº†<br>æ˜å¤©éªŒè¯ä¸€ä¸‹, ä¸¤ä¸ªmeshåä¸ä¸€æ ·çš„fbx, åº”è¯¥fileIdå°±ä¼šä¸ä¸€æ ·, è€Œä¸”æ”¹äº†meshçš„åå­—, fileIdçš„åå­—ä¹Ÿå°±ä¼šè·Ÿç€å˜</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;RectTransformç»§æ‰¿è‡ªTransform, å¹¶æ²¡æœ‰åŒ…å«åœ¨UGUIä½“ç³»é‡Œé¢, ä½†æ˜¯RectTransformçš„å­—æ®µç»å¤§å¤šæ•°æƒ…å†µä¸‹åªåœ¨UGUIä½“ç³»ä¸­æ‰æœ‰æ„ä¹‰.  å› æ­¤æˆ‘ä»¬å¯ä»¥å°†RectTransformçœ‹ä½œæ˜¯Unity UGUIçš„ä¸€éƒ¨åˆ†, å¹¶ä¸”å°†å…¶ä½œä¸ºUGUIç³»åˆ—ä¸­é¦–</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSharpåˆé›†</title>
    <link href="https://soincredible.github.io/posts/d97e22f1/"/>
    <id>https://soincredible.github.io/posts/d97e22f1/</id>
    <published>2025-07-15T13:43:56.000Z</published>
    <updated>2025-07-15T13:47:59.495Z</updated>
    
    <content type="html"><![CDATA[<p>CSharpé—®é¢˜æ‚è®°<br><a href="20505312">CSharpå‰ä¼ </a><br>CSharpä¸­çš„å§”æ‰˜<br>CSharpä¸­çš„CancellationToken<br>CSharpä¸­çš„Task<br>Dissecting-the-async-methods-in-CSharp<br>Extending-the-asynce-methods-in-CSharp-è¯‘</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;CSharpé—®é¢˜æ‚è®°&lt;br&gt;
&lt;a href=&quot;20505312&quot;&gt;CSharpå‰ä¼ &lt;/a&gt;&lt;br&gt;
CSharpä¸­çš„å§”æ‰˜&lt;br&gt;
CSharpä¸­çš„CancellationToken&lt;br&gt;
CSharpä¸­çš„Task&lt;br&gt;
Dissecting-the-async-met</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ä»£ç çƒ­æ›´æ–°åˆé›†</title>
    <link href="https://soincredible.github.io/posts/99b1bffa/"/>
    <id>https://soincredible.github.io/posts/99b1bffa/</id>
    <published>2025-06-23T11:07:40.000Z</published>
    <updated>2025-07-28T06:44:13.278Z</updated>
    
    <content type="html"><![CDATA[<h1>XLuaã€ILRuntimeã€HybridCLRçƒ­æ›´åŸç†</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;XLuaã€ILRuntimeã€HybridCLRçƒ­æ›´åŸç†&lt;/h1&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSharpå‰ä¼ </title>
    <link href="https://soincredible.github.io/posts/20505312/"/>
    <id>https://soincredible.github.io/posts/20505312/</id>
    <published>2025-06-22T00:31:38.000Z</published>
    <updated>2025-07-15T13:47:59.495Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ã€ŠCLR via C#ã€‹è¿™æœ¬ä¹¦å¸®åŠ©è¯»è€…å»ºç«‹èµ·äº†C#çš„çŸ¥è¯†æ¡†æ¶, æ˜¯ç¬”è€…èŒä¸šç”Ÿæ¶¯ä¸­åŠŸä¸å¯æ²¡çš„å¥½ä¹¦, ä¸è¿‡æœ¬ä¹¦çš„ä½œè€…Jeffrey <a href="http://xn--Richter-oc5k144o.Net">Richteræ˜¯ä»¥.Net</a> Frameworkæ¡†æ¶åœ¨Windowså¹³å°è¿›è¡Œå¼€å‘çš„è§†è§’ä¸Šä»‹ç».Netçš„ä¸€äº›ç‰¹æ€§çš„, è€Œç¬”è€…ä½œä¸ºä¸€ä¸ªUnityå…¥é—¨C#çš„åŠåŠå­åœ¨æœ€åˆé˜…è¯»æœ¬ä¹¦çš„å¾ˆé•¿ä¸€æ®µæ—¶é—´å†…æ˜¯æ²¡æœ‰çœŸæ­£ç†è§£.Netçš„æ ¸å¿ƒç‰¹æ€§çš„. åœ¨æœ¬ç¯‡åšå®¢ä¸­, ç¬”è€…å°è¯•åŸºäºè¿™æœ¬ä¹¦, åŠ ä¸Šç¬”è€…å¯¹Unityçš„ç†è§£, ç«™åœ¨Unityå¼€å‘è€…çš„è§†è§’ä¸Š, è¯ é‡Š.Netä¸­çš„ä¸€äº›å…³é”®æ€§æ¦‚å¿µ.</p></blockquote><h1>.NETå¾€äº‹</h1><p>åœ¨ã€ŠCLR via C#ã€‹<a href="http://xn--1jq840bfog6d140aln3a9iqxvd2rli4epa472o.Net">è¿™æœ¬ä¹¦é‡Œé¢å¹¶æ²¡æœ‰è¯¦ç»†è§£é‡Š.Net</a>ã€.NetCoreã€.Net Standardã€.Net Frameworkä¸€ç³»åˆ—çš„æ¦‚å¿µ, ä¹‹æ‰€ä»¥æœ‰è¿™ä¹ˆå¤šçš„æ¦‚å¿µ, ä¹Ÿæ˜¯æœ‰å†å²åŸå› çš„, äº†è§£.Netçš„å‘å±•å²èƒ½å¸®æˆ‘ä»¬æ›´å¥½åœ°ç†è§£è¿™äº›æ¦‚å¿µã€<br>.Netæ˜¯.Net C#æ˜¯C#, .Netæ˜¯ä¸€å¥—æ”¯æŒC#ä»£ç è¿è¡Œçš„æ¡†æ¶ä½“ç³», é™¤æ­¤ä¹‹å¤–.Netè¿˜æ”¯æŒF#ã€VBç­‰è¯­è¨€</p><p>.Net Frameworkã€ .NetCoreã€ .Netè¿™ä¸‰è€…æ˜¯å¯¹åŒä¸€ä¸ªå¯¹è±¡åœ¨ä¸åŒå‘å±•æ—¶æœŸçš„ä¸åŒç§°è°“, è¿™ä¸€å¯¹è±¡åœ¨ä¸åŒå‘å±•æ—¶æœŸå…·æœ‰ä¸åŒçš„ç‰¹ç‚¹.<br>ä»–ä»¬æ˜¯åŒç§æ¦‚å¿µçš„ä¸åŒå½¢æ€</p><h2 id="Net-Frameworkæ—¶æœŸ">.Net Frameworkæ—¶æœŸ</h2><p>æ—©æœŸçš„.Netåªèƒ½è¿è¡Œåœ¨<br>æ­¤æ—¶çš„.Netåªèƒ½å¤Ÿè¿è¡Œåœ¨Windowsä¸Š, è€Œä¸”C#ä»£ç çš„è¿è¡Œæ–¹å¼æ˜¯JITæ¨¡å¼</p><h2 id="Monoçš„å‡ºç°">Monoçš„å‡ºç°</h2><p>ç”±äº.Netå®Œå…¨é—­æº, æœ‰ä¸€ç¾¤äººä»é›¶æ‰‹æ“äº†ä¸€ä¸ª, ä½¿ç”¨ä½“éªŒè·Ÿ.Netä¸€æ¨¡ä¸€æ ·çš„Mono, è€Œä¸”è¿˜æ”¯æŒè·¨å¹³å°, å°±è·Ÿæ±‰å ¡ç‹å’Œè‚¯å¾·åŸºä¸€æ ·, éƒ½æ˜¯æ±‰å ¡è–¯æ¡, åƒèµ·æ¥å¤§åŒå°å¼‚, ä½†æ˜¯åšæ³•åŸæ–™å¯èƒ½å®Œå…¨ä¸åŒ, ä¹Ÿå°±æ˜¯è¯´, Monoå’Œ.Netå¯èƒ½åº•å±‚å®ç°ä¸ä¸€æ ·, ä½†æ˜¯ä¸Šå±‚è¦å®ç°çš„åŠŸèƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„: ä¸ºC#(ç¬”è€…è¿™é‡Œå°±åªè¯´C#äº†)æä¾›ä¸€å¥—èƒ½å¤Ÿæ­£ç¡®è¿è¡Œçš„ç¯å¢ƒ, çŸ¥é“è¿™ä¸ªå°±è¡Œäº†.</p><h2 id="Net-Coreæ˜¯å•¥">.Net Coreæ˜¯å•¥</h2><p>.Net Coreåœ¨åŸæ¥.NetFrameworkçš„åŸºç¡€ä¸Š, å¢åŠ äº†å¯¹äºè·¨å¹³å°çš„æ”¯æŒ</p><h2 id="Net-æ˜¯å•¥">.Net æ˜¯å•¥</h2><p><a href="http://xn--6kqv66j.Net">è‡³äº.Net</a>, æ˜¯ç›®å‰çš„å¤§ä¸€ç»ŸçŠ¶æ€, é‡Œé¢</p><p>ç»è¿‡ä¸€æ®µæ—¶é—´çš„æ¼”å˜, .Net <a href="http://xn--Core-ts5fw5zn9ou7k.Net">Coreå°±å˜æˆäº†.Net</a></p><table><thead><tr><th>ç»„ä»¶åç§°</th><th>ä½œç”¨</th><th>è¯´æ˜</th><th></th><th></th><th></th><th></th><th></th><th></th><th></th></tr></thead><tbody><tr><td>CoreCLR / .NET Runtime</td><td>æ‰˜ç®¡è¿è¡Œæ—¶/è™šæ‹Ÿæœºï¼Œè´Ÿè´£æ‰§è¡ŒILï¼Œä¸­é—´è¯­è¨€JITï¼ŒGC</td><td><a href="https://github.com/dotnet/runtime%EF%BC%88%E5%B7%B2%E5%BC%80%E6%BA%90%EF%BC%89">https://github.com/dotnet/runtimeï¼ˆå·²å¼€æºï¼‰</a></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>CoreFX / åŸºç±»åº“ï¼ˆBase Class Library, BCLï¼‰</td><td>å¸¸ç”¨ç³»ç»ŸAPIï¼šIOã€ç½‘ç»œã€é›†åˆã€å­—ç¬¦ä¸²ç­‰</td><td>ç°ä»£å«runtimeä¸­çš„â€œlibrariesâ€</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td><a href="http://ASP.NET">ASP.NET</a> Core</td><td>Webå¼€å‘æ¡†æ¶</td><td>æ”¯æŒWebæœåŠ¡å™¨ã€APIã€MVCã€Blazorã€SignalRã€gRPCç­‰å¹³å°</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Entity Framework Core</td><td>å¯¹è±¡å…³ç³»æ˜ å°„ï¼ˆORMï¼‰æ•°æ®åº“ç»„ä»¶</td><td>æ”¯æŒSQLServerã€SQLiteã€MySQLç­‰ä¸»æµæ•°æ®åº“</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>WinFormsã€WPFï¼ˆWindows Onlyï¼‰</td><td>æ¡Œé¢GUIå¼€å‘</td><td>.NET 5+æ”¯æŒåŸºæœ¬ç§»æ¤ï¼Œä½†ä»…é™Windows</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>MSBuild</td><td>æ„å»ºç³»ç»Ÿ</td><td>dotnet build å°±æ˜¯ç”¨çš„è¿™ä¸ª</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>Roslyn</td><td>C#ã€VB.NETç¼–è¯‘å™¨å’Œä»£ç åˆ†æå™¨</td><td><a href="https://github.com/dotnet/roslyn">https://github.com/dotnet/roslyn</a></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>NuGet</td><td>åŒ…ç®¡ç†å·¥å…·</td><td>åœ¨çº¿/æœ¬åœ°åŒ…ç®¡ç†</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>CLI</td><td>å‘½ä»¤è¡Œå·¥å…·ï¼ˆdotnetï¼‰</td><td>åŒ…æ‹¬dotnetã€dotnet buildã€dotnet runç­‰åŸºç¡€å‘½ä»¤</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h2 id="Monoæ˜¯å•¥">Monoæ˜¯å•¥</h2><p>Mono é¡¹ç›®å§‹äº 2001 å¹´ï¼Œç”± Ximian å…¬å¸çš„åˆ›å§‹äºº Miguel de Icaza é¢†å¯¼ã€‚Ximian æ˜¯ä¸€å®¶ä¸“æ³¨äº Linux å’Œå¼€æºè½¯ä»¶çš„å…¬å¸ã€‚Miguel de Icaza <a href="http://xn--4gqvd70lutrsxi5wc1t2biya.NET">çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸€ä¸ª.NET</a> æ¡†æ¶çš„å¼€æºå®ç°ï¼Œä»¥ä¾¿åœ¨ Linux ä¸Šè¿è¡Œã€‚</p><p>.NET æ¡†æ¶æœ€åˆç”±å¾®è½¯å¼€å‘ï¼Œä¸»è¦ç”¨äºæ„å»º Windows åº”ç”¨ç¨‹åºã€‚<a href="http://xn--6kqu55g.NET">ç”±äº.NET</a> æ¡†æ¶çš„é—­æºæ€§ï¼Œå®ƒæ— æ³•ç›´æ¥åœ¨å…¶ä»–æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚Mono é¡¹ç›®çš„å‡ºç°æ‰“ç ´äº†è¿™ä¸€é™åˆ¶ï¼Œ<a href="http://xn--2rq350b.NET">ä½¿å¾—.NET</a> å¼€å‘è€…çš„ä»£ç èƒ½å¤Ÿåœ¨å¤šç§å¹³å°ä¸Šè¿è¡Œã€‚</p><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼ŒMono é¡¹ç›®å¾—åˆ°äº†å¹¿æ³›çš„ç¤¾åŒºæ”¯æŒï¼Œå¹¶ä¸”ä¸æ–­å‘å±•å’Œå®Œå–„ã€‚å®ƒæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€ï¼ŒåŒ…æ‹¬ C#ã€Visual <a href="http://Basic.NET">Basic.NET</a> å’Œ F#ï¼Œ<a href="http://xn--phqsk73ztrc71ev35bpf9a.NET">å¹¶ä¸”å®ç°äº†è®¸å¤š.NET</a> æ¡†æ¶çš„åŠŸèƒ½ã€‚Mono <a href="http://xn--fiqqezet6cs0gs0ag5r80qxpgh48a7jsgeb81q2u9fc90a.NET">é¡¹ç›®åœ¨å¼€æºç¤¾åŒºä¸­çš„æˆåŠŸä¹Ÿä¿ƒè¿›äº†.NET</a> æŠ€æœ¯åœ¨é Windows å¹³å°ä¸Šçš„æ™®åŠã€‚</p><p><a href="http://xn--xft85uwsaj08j.xn--Net-6g3ei87f2r7a.Net">è¿˜æœ‰å°±æ˜¯.Netå‡çº§æ˜¯.Net</a> C# languageå‡çº§æ˜¯language<br>ä¸€èˆ¬æ¥è¯´, å…ˆæ˜¯C#çš„è¯­è¨€æœ‰æ›´æ–°, å¿…é¡»æ–°å¢äº†æŸç§è¯­æ³•æˆ–è€…è¯­è¨€ç‰¹æ€§ é‚£ä¹ˆé…å¥—çš„.Netä¸­å°±éœ€è¦æ”¯æŒèƒ½å¤Ÿè¯†åˆ«å¹¶é©±åŠ¨è¿™äº›è¯­æ³•, å› æ­¤ä¸€èˆ¬C#æœ‰æ–°ç‰¹æ€§å¢åŠ å¯¹åº”çš„.Netä¹Ÿæœ‰æ–°çš„å‡çº§</p><p>è¯´ç™½äº† .Netã€.NetCoreã€.NetFrameworkã€Monoæ¯ä¸€ä¸ªéƒ½æ˜¯ä¸€å¥—è®©C#ä»£ç èƒ½å¤Ÿè¿è¡Œè·‘èµ·æ¥çš„å¹³å°. è¿™å°±å¥½æ¯”å„å®¶è™šæ‹Ÿæœºå¹³å°, è€ŒC#å°±åƒæ˜¯ä½ åœ¨å¾®è½¯å®˜ç½‘ä¸Šä¸‹è½½çš„Windowsæ“ä½œç³»ç»Ÿçš„é•œåƒæ–‡ä»¶, ä½ å¯ä»¥å°†è¿™ä¸ªé•œåƒæ–‡ä»¶æŒ‚è½½åœ¨VMWareå¹³å°ä¸Š, ä¹Ÿå¯ä»¥æŒ‚è½½åœ¨Parallel Desktopå¹³å°ä¸Š, å³ä¾¿å¹³å°çš„åº•å±‚å®ç°ä¸åŒ, ä½†æ˜¯å› ä¸ºå®ƒä»¬éƒ½éµå¾ªåŒæ ·çš„è§„èŒƒ, å› æ­¤åŒæ ·çš„ä¸€æ“ä½œç³»ç»Ÿé•œåƒæ–‡ä»¶å¯ä»¥è·‘åœ¨ä¸åŒçš„è™šæ‹Ÿæœºå¹³å°ä¸Š, è¿™äº›å¹³å°éµå¾ªçš„è§„èŒƒ, ç±»æ¯”åˆ°.Netä¸­ä¹Ÿå°±æ˜¯<code>.Net Standard</code></p><h2 id="Net-Standard">.Net Standard</h2><p>.Net Standard æ˜¯é’ˆå¯¹å¤šä¸ª .Netå®ç°æ¨å‡ºçš„ä¸€å¥—æ­£å¼çš„.Net APIè§„èŒƒ. æ¨å‡º.NetStandardçš„èƒŒååŠ¨æœºæ˜¯è¦æé«˜.Netç”Ÿæ€ç³»ç»Ÿä¸­çš„ä¸€è‡´æ€§.<br>ç”±ä¸Šé¢çš„é™ˆè¿°å¯çŸ¥, .Netæœ‰å¾ˆå¤šçš„å®ç°, ä¸ºäº†èƒ½å¤Ÿè®©ä¸åŒå®ç°çš„.Netèƒ½å¤ŸååŒå·¥ä½œ, .Net Standardå‡ºç°äº†. æ¯”å¦‚åœ¨Unityå¼€å‘ä¸­, ä½ éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ‰˜ç®¡çš„dll, è¿™ä¸ªdllä½¿ç”¨.Netç¯å¢ƒå¼€å‘, è€ŒUnityæ˜¯Monoç¯å¢ƒ, ä¸ºäº†è®©dllä¸­çš„ä»£ç èƒ½å¤Ÿå’ŒUnityä¸­çš„ä»£ç æ­£ç¡®ååŒ, <a href="http://xn--Unitydll-b50n2ky0c413fdixom8b6r7cmhhzivd30a.Net">åªéœ€è¦è®©Unityå’Œdlléµå¾ªåŒæ ·çš„.Net</a> Standardç‰ˆæœ¬å°±å¯ä»¥äº†. åœ¨Unityçš„BuildSettingsä¸­çš„APICompatibilityLevelå°±æ˜¯è¿™ä¸ªä½œç”¨, ä¸åŒçš„Unityç‰ˆæœ¬å¯ä»¥å¯¹æ ‡çš„.Netç‰ˆæœ¬ä¹Ÿä¸å¤ªä¸€æ ·. æ¯”å¦‚åœ¨<code>2020.3.48</code>ç‰ˆæœ¬ä¸­, <code>API Compatibility Level</code>çš„é€‰é¡¹æ˜¯<code>.Net 4.X</code>å’Œ<code>.Net Standard 2.0</code>, è€Œåœ¨<code>2022.3.15</code>ç‰ˆæœ¬ä¸­, <code>API Compatibility Level</code>çš„é€‰é¡¹åˆ™å˜æˆäº†<code>.Net Standard 2.1</code>å’Œ<code>.Net Framework</code>. æ‰€ä»¥è¿™ä¹ˆä¸€çœ‹ä½ æ‰€ä½¿ç”¨çš„æ’ä»¶å¿…é¡»è¦æœ‰<code>API Compatibility Level</code>ç›¸å¯¹åº”çš„ç‰ˆæœ¬æ‰èƒ½å¤Ÿåœ¨Unityä¸­ä½¿ç”¨.<br><a href="http://xn--zbs584j.Net">è¯´å›.Net</a>, .Net5é‡‡ç”¨çš„ä¸åŒçš„æ–¹æ³•æ¥å»ºç«‹ä¸€è‡´æ€§, <a href="http://xn--ghqe42iv2dxrl2vvsdhtrtvcvrs3cu50i0xyjnofs9cchveoes67a.Net">è¿™ç§æ–°æ–¹æ³•åœ¨å¾ˆå¤šæƒ…å†µä¸‹éƒ½ä¸éœ€è¦ä½¿ç”¨åˆ°.Net</a> Standard.</p><p>ä½ çš„Unityå·¥ç¨‹ï¼Œå…è®¸ä»£ç èƒ½ç”¨ï¼ˆå…¼å®¹ï¼‰çš„ .NETï¼ˆæˆ–Monoï¼‰APIé›†åˆçš„æ ‡å‡†ç¨‹åº¦ã€‚</p><p>Unityçš„è„šæœ¬è¿è¡Œç¯å¢ƒï¼ˆScripting Backendï¼‰æ˜¯åŸºäºMonoï¼ˆæˆ–IL2CPPï¼‰æ¥å®ç°C#ç¯å¢ƒçš„ï¼›<br>ä½†Monoå’Œå¾®è½¯å®˜æ–¹.NETå®ç°çš„API/æ ‡å‡†å¹¶ä¸æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œæœ‰æ–°æœ‰æ—§ã€æœ‰å…¨æœ‰æ®‹ï¼›<br>API Compatibility Levelï¼Œå°±æ˜¯è®©ä½ æŒ‡å®šç”¨å“ªä¸€å¥—æ ‡å‡†çš„APIæ¥å£å­é›†ï¼š<br>æ¯”å¦‚ï¼š.NET 2.0 Subset<br>åˆæ¯”å¦‚ï¼š.NET 4.x / .NET Standard 2.0<br>æˆ–è€…æ›´é«˜ï¼ˆéšç€Unityç‰ˆæœ¬æ¼”è¿›è€Œå˜åŒ–ï¼‰<br>è¿™äº›é€‰é¡¹ï¼Œ<a href="http://xn--Unity-fg1hjcs88bgjegyy9a11h01wpp1glkcu71cohh804h.NET">å®é™…ä¸ŠèƒŒåå¯¹åº”ç€ä¸€ç»„Unityå®šåˆ¶çš„.NET</a> Base Class Library (BCL)ï¼Œå†³å®šä½ åœ¨C#è„šæœ¬é‡Œèƒ½ä¸èƒ½å¼•ç”¨ã€ç¼–è¯‘ã€åå°„ã€è°ƒç”¨æŸäº›æ ‡å‡†åº“åŠŸèƒ½ã€‚</p><p>æ–°é¡¹ç›®ï¼šä¼˜å…ˆé€‰â€œ.NET 4.xâ€æˆ–â€œ.NET Standard 2.0â€ã€‚<br>é¡¹ç›®ä¸­æœ‰ç°ä»£C#è¯­æ³•ï¼ˆå¦‚async/awaitã€LINQç­‰ï¼‰ï¼šå¿…é¡»é€‰æ–°æ ‡å‡†ã€‚<br>åšæ’ä»¶/SDKè·¨Unityå…¼å®¹ï¼šä¼˜å…ˆè€ƒè™‘â€œ.NET Standard 2.0â€ã€‚<br>æœ‰è€DLLã€Asset Storeèµ„äº§åªæ”¯æŒ2.0ï¼Œä¸”ä¸æƒ³å‡çº§ï¼šä¸´æ—¶ç”¨â€œ.NET 2.0â€ã€‚<br>æ‰‹æœºç‰ˆæœ¬æåº¦ç²¾ç®€ã€è¿½æ±‚æœ€å°åŒ…ä½“ï¼šç”¨Subsetï¼Œä½†å¾ˆå°‘æœ‰è¿™ç§æç«¯éœ€æ±‚ã€‚</p><h1>ä¸€ä¸ªC#å·¥ç¨‹ä½¿ç”¨çš„.Netç‰ˆæœ¬æ€ä¹ˆçœ‹?</h1><p>æ³¨æ„.Netç‰ˆæœ¬å’ŒC#LanguageVersionæ˜¯ä¸¤ä¸ªä¸œè¥¿,<br>å¯¹äºä½¿ç”¨Rideråˆ›å»ºçš„C#é¡¹ç›®,</p><p>Unityçš„.NetVersionèƒ½ä¸èƒ½æ”¹?</p><h1>ä¸€ä¸ªC#å·¥ç¨‹ä½¿ç”¨çš„.Netç‰ˆæœ¬æ€ä¹ˆä¿®æ”¹?</h1><h1>C#é¡¹ç›®çš„ç»„ç»‡ç»“æ„</h1><h1>Unityé¡¹ç›®çš„ä»£ç ç»„ç»‡ç»“æ„</h1><h2 id="sln-csproj-dll-asmdef-pdbçš„åŒºåˆ«å’Œè”ç³»">.sln .csproj .dll .asmdef .pdbçš„åŒºåˆ«å’Œè”ç³»</h2><h2 id="dll">.dll</h2><p>å¦‚æœä½ çš„C#é¡¹ç›®é€‰æ‹©çš„æ˜¯ClassLibrary, é‚£ä¹ˆæ„å»ºè¿™ä¸ªC#é¡¹ç›®çš„æ—¶å€™, æ„å»ºç»“æœå°±æ˜¯.dll,<br><a href="https://github.com/shimat/opencvsharp/releases">è¿™æ˜¯C#ç‰ˆæœ¬çš„OpenCVåº“</a>, ä¸‹è½½ä»–çš„releaseä½ ä¼šå‘ç°,é‡Œé¢è¿˜å¸¦ä¸€ä¸ªpdbæ–‡ä»¶.<br>.sln æ˜¯<br>.csproj ä¸€ä¸ªslnä¸‹ä¼šæœ‰å¤šä¸ªcsproj<br>.asmdef è¿™æ˜¯Unityä¸­çš„ä¸€ä¸ªæ¦‚å¿µ, æ¯åˆ›å»ºä¸€ä¸ªasmdef, Unityéƒ½ä¼šè‡ªåŠ¨ç”Ÿæˆè¿™ä¸ªasmdefå¯¹åº”çš„csproj<br>.dll dllä¸€èˆ¬æœ‰ä¸¤ç§: ä½¿ç”¨C#ç¼–è¯‘ç”Ÿæˆçš„dll, è¿™ç±»dllå±äºæ‰˜ç®¡ç±»dll, å¯¼å…¥Unityèƒ½å¤Ÿç›´æ¥è¢«Unityç¼–è¯‘å™¨è¯†åˆ«; è¿˜æœ‰ä¸€ç±»æ˜¯ä½¿ç”¨c/c++ç­‰éæ‰˜ç®¡ç±»è¯­è¨€ç¼–è¯‘ç”Ÿæˆçš„dll, è¿™ç±»dlléœ€è¦C#å…·æœ‰èƒ½å¤Ÿè°ƒç”¨åŸç”Ÿ(native)ä»£ç çš„èƒ½åŠ›, éœ€è¦ä½¿ç”¨<code>[DLLImport]</code>å±æ€§æ¥å¯¼å…¥æ–¹æ³•</p><p>å¯¹äºç®€å•çš„é¡¹ç›® å®Œå…¨æ²¡å¿…è¦åˆ›å»ºsln ä½†æ˜¯åƒRiderã€Visual Studioè¿™äº›IDEæ˜¯æ²¡æœ‰æä¾›åªåˆ›å»ºcsprojçš„é€‰é¡¹çš„, è¿™å°±æœ‰ç‚¹å¤§æå°ç”¨äº† æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨å‘½ä»¤è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dotnet new console</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ„å»ºåæ˜¯ä¸€ä¸ªdll</span></span><br><span class="line">dotnet new classlib</span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹å¼åªåˆ›å»ºcsproj, ç„¶åä½¿ç”¨Rideræˆ–è€…VSæ‰“å¼€è¿™ä¸ªcsproj, å°±å¯ä»¥ç»•è¿‡ç”Ÿæˆslnæ–‡ä»¶<br>.slnï¼ˆSolutionï¼‰æ–‡ä»¶æ˜¯ Visual Studio/VS Code/Coderush Rider ç­‰IDEç”¨æ¥ç®¡ç†ä¸€ç»„ç›¸å…³é¡¹ç›®ï¼ˆ.csprojï¼‰çš„å®¹å™¨ã€‚æ¯”å¦‚ä½ è¦åšå¤§å‹æ¶æ„ã€åŒ…æ‹¬å¤šä¸ªç±»åº“ã€åº”ç”¨ï¼Œä»¥åŠå•å…ƒæµ‹è¯•é¡¹ç›®æ—¶ï¼Œ.slnæ–‡ä»¶å¯ä»¥ç»Ÿä¸€ç®¡ç†å®ƒä»¬çš„ä¾èµ–ä¸ç»“æ„ã€‚<br>ä½†æ˜¯ï¼Œå°é¡¹ç›®ã€å•ä¸ªé¡¹ç›®æ—¶ï¼Œå®Œå…¨å¯ä»¥ä¸å»º .slnï¼Œåªç”¨ä¸€ä¸ª csproj æ–‡ä»¶ç…§æ ·ç¼–è¯‘ã€è¿è¡Œã€å¼€å‘ï¼ˆå¦‚å‘½ä»¤è¡Œä¸‹dotnet build XX.csprojï¼ŒVS Code ä¹Ÿèƒ½ç›´æ¥æ‰“å¼€ï¼‰ã€‚<br>å®ä¾‹1ï¼šä½ åœ¨ä»»æ„æ–‡ä»¶å¤¹é‡Œæ–°å»ºdotnet new consoleï¼Œå®ƒä¼šåˆ›å»ºProgram.cså’ŒXX.csprojï¼Œæ²¡æœ‰.slnï¼Œä¹Ÿèƒ½æ­£å¸¸dotnet run/buildã€‚<br>åªæœ‰éœ€è¦ç®¡ç†å¤šä¸ªé¡¹ç›®ï¼ˆæ¯”å¦‚å¼•ç”¨ç±»åº“æˆ–æµ‹è¯•å·¥ç¨‹ç­‰ï¼‰ï¼Œç”¨.slnä¼šæ›´æ–¹ä¾¿ã€‚</p><p>pdb æ–‡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>PDBï¼ˆProgram Databaseï¼‰æ˜¯Windows/Visual Studioç¯å¢ƒä¸‹çš„â€œç¨‹åºæ•°æ®åº“â€æ–‡ä»¶ã€‚<br>å†…å®¹ï¼šä¸»è¦å­˜å‚¨äº†å¯æ‰§è¡Œæ–‡ä»¶ï¼ˆexe/dllç­‰ï¼‰çš„è°ƒè¯•ä¿¡æ¯ï¼Œå¦‚ï¼š<br>æºæ–‡ä»¶å/è·¯å¾„<br>è¡Œå·<br>å±€éƒ¨å˜é‡ã€å‡½æ•°å‚æ•°å<br>ç±»å‹ä¿¡æ¯<br>ç¬¦å·è¡¨ã€æ–­ç‚¹ç­‰ä¿¡æ¯<br>ç›®çš„æ˜¯ï¼šè¿›è¡Œè°ƒè¯•æ—¶ï¼ŒIDE/è°ƒè¯•å™¨èƒ½è¿˜åŸæºä»£ç å¯¹åº”å…³ç³»ã€æ ˆã€å˜é‡åç­‰ï¼Œæ˜¯â€œè°ƒè¯•è¾…åŠ©æ–‡ä»¶â€ã€‚<br>3. dll å’Œ pdb çš„å…³ç³»</p><p>å½“ä½ ç”¨ Visual Studio ç¼–è¯‘ä¸€ä¸ª dll æ—¶ï¼ˆDebug æ¨¡å¼ï¼‰ï¼Œé€šå¸¸ä¼šç”ŸæˆåŒåçš„ pdb æ–‡ä»¶ã€‚<br>è¿™ä¸ª dll æ–‡ä»¶æ˜¯çœŸæ­£çš„åŠ¨æ€åº“ï¼Œpdb æ–‡ä»¶ä¸ç»™ç¨‹åºåŠ è½½ï¼Œåªåœ¨è°ƒè¯•/åˆ†ææ—¶è®©å¼€å‘è€…ç”¨ã€‚<br>æ²¡æœ‰ pdbï¼Œå‘å¸ƒçš„ dll ä¾ç„¶å¯ä»¥è¿è¡Œï¼Œåªæ˜¯è°ƒè¯•éš¾åº¦å¤§ã€‚</p><h1>C#ä»£ç æ˜¯æ€ä¹ˆè·‘èµ·æ¥çš„?</h1><p>åœ¨ã€ŠCLR via C#ã€‹ä¸­, ä½œè€…åªæåŠäº†JIT, å› ä¸ºAOTæ–¹å¼æ˜¯åœ¨2022å¹´åœ¨.Net7å‘å¸ƒçš„, æœ¬ä¹¦çš„æˆä¹¦æ—¶é—´åº”è¯¥æ˜¯2014å¹´, æ²¡æœ‰æåŠAOTä¹Ÿæ˜¯å¾ˆæ­£å¸¸çš„</p><h2 id="JITæ¨¡å¼">JITæ¨¡å¼</h2><p>åœ¨Unityä¸­, è¿™å¯¹åº”çš„å°±æ˜¯Monoçš„æ„å»ºæ–¹å¼</p><p>JITæ–¹å¼æ‰“åŒ…, åœ¨æ‰“åŒ…é˜¶æ®µ, æˆ‘ä»¬ç¼–å†™çš„C#ä»£ç ä¼šè¢«ç¼–è¯‘æˆIL, æ‰“å…¥ä¸€ä¸ª.dllçš„æ–‡ä»¶, è¿™å°±æ˜¯Monoçš„æ‰“åŒ…æ–¹å¼, ä½¿ç”¨è¿™ç§æ–¹å¼æ‰“çš„åŒ…, åŒ…ä½“å°, ä½†æ˜¯ç”±äºå…¶ä»£ç ä¸æ˜¯åŸç”Ÿçš„, æ‰€ä»¥è¿è¡Œæ—¶éœ€è¦ä¾èµ–CLRå°†ILä»£ç ç¼–è¯‘æˆåŸç”Ÿä»£ç æ‰§è¡Œ, æ¯”èµ·AOTæ–¹å¼ åœ¨å¯åŠ¨æ—¶é—´ä¸Šä¼šä¹…ä¸€ç‚¹, å› ä¸ºéœ€è¦ç¼–è¯‘, ä½†æ˜¯åªè¦ç¼–è¯‘äº†ä¸€æ¬¡ä¹‹å, æ‰§è¡Œæ•ˆç‡å’ŒAOTæ˜¯æ²¡ä»€ä¹ˆåŒºåˆ«çš„</p><p>ç¬”è€…è®¤ä¸ºåœ¨ä¸€å¼€å§‹.Netå¯èƒ½å°±åªæ”¯æŒJITçš„æ–¹å¼æ‰§è¡ŒC#ä»£ç , è€ŒAOTå’Œè§£é‡Šå™¨æ–¹å¼åˆ™æ˜¯è·¨å¹³å°çš„æ¦‚å¿µå¼•å…¥åˆ°.Netä¸­å, æ‰å‡ºç°çš„æ¦‚å¿µ.</p><p>éšç€.Netæ”¯æŒè·¨å¹³å°. æƒ³è¦åœ¨MacOSã€iOSä¸Šè¿è¡Œ.Netç¨‹åº, ä½¿ç”¨JITçš„æ–¹å¼å°±ä¸è¡Œäº†, å› ä¸ºè‹¹æœæ˜¯ä¸å…è®¸ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€åŠ è½½ä»£ç çš„, æ‰€æœ‰ä»£ç å¿…é¡»è¢«ç¼–è¯‘æˆæœºå™¨ç åŸç”Ÿåœ°æ‰§è¡Œ. è¿™å°±æ˜¯AOTæ¨¡å¼</p><h2 id="AOTæ¨¡å¼">AOTæ¨¡å¼</h2><p>å¾®è½¯æ˜¯åœ¨.Net7ç‰ˆæœ¬ä¸­å®ç°äº†AOTåŠŸèƒ½.</p><p>åœ¨Unityä¸­, è¿™å¯¹åº”çš„å°±æ˜¯IL2CPPçš„æ„å»ºæ–¹å¼</p><p>æˆ‘ä»¬å°±æ‹¿Unityå¼€å‘ä¸¾ä¾‹å­, å¦‚æœä½¿ç”¨AOTçš„æ–¹å¼æ‰“åŒ…, é‚£ä¹ˆåœ¨æ‰“åŒ…é˜¶æ®µ, æˆ‘ä»¬ç¼–å†™çš„C#ä»£ç å°±ä¼šå…¨éƒ¨è¢«ç¼–è¯‘æˆæœºå™¨ç , ä¹Ÿå°±æ˜¯.soæ–‡ä»¶, è¿™ç§ä»£ç å°±æ˜¯åŸç”Ÿçš„ä»£ç , ä¸¢åˆ°æœºå™¨ä¸Šå°±å°±èƒ½ç«‹åˆ»è¿è¡Œ, ä¸éœ€è¦ç¼–è¯‘, ä½†æ˜¯æœºå™¨ç éƒ½æ˜¯01, å­˜å‚¨æ•ˆç‡ä½, ç”±æˆ‘ä»¬çš„C#è„šæœ¬è½¬æˆæœºå™¨ç ä¼šé€ æˆä»£ç è†¨èƒ€, å¬èµ·æ¥æ˜¯ä¸æ˜¯å¾ˆåƒIL2CPP?</p><p>é‚£åœ¨AOTæ¨å‡ºä¹‹å‰, Unityæ˜¯æ€ä¹ˆå®ç°åœ¨iOSå¹³å°ä¸Šå‘å¸ƒçš„å‘¢? Monoæ˜¯ä¸“é—¨æä¾›äº†</p><h1>ä»£ç çƒ­æ›´</h1><h2 id="Interpreteræ¨¡å¼">Interpreteræ¨¡å¼</h2><p>è§£é‡Šå™¨, ç¬”è€…ç¬¬ä¸€æ¬¡çœ‹åˆ°è¿™ä¸ªæ¦‚å¿µå‡ºç°åœ¨C#ä¸­æ—¶, æ˜¯éå¸¸ç–‘æƒ‘çš„, å› ä¸ºç¬”è€…ç†è§£çš„è§£é‡Šå™¨, æ˜¯åƒPythoné‚£ç§è§£é‡Šå‹è¯­è¨€æ‰ä¼šä½¿ç”¨åˆ°çš„ä¸œè¥¿, è€ŒC#ä½œä¸ºä¸€ä¸ªç¼–è¯‘å‹è¯­è¨€, å…¶å®C#å¹¶ä¸æ˜¯ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„ç¼–è¯‘å‹è¯­è¨€, å› ä¸ºC#æ˜¯å…ˆç¼–è¯‘æˆILä¸­é—´è¯­è¨€, ç„¶ååœ¨è¿è¡Œæ—¶é€šè¿‡JITCompilerå°†ä¸­é—´è¯­è¨€ç¼–è¯‘æˆæœºå™¨ç æ‰§è¡Œçš„æ–¹å¼.</p><p>ä¹Ÿå°±æ˜¯, C#ä¸è§£é‡Šå‹è¯­è¨€é‚£æ ·ç›´æ¥è§£é‡Šæºä»£ç æ‰§è¡Œ, ä¹Ÿä¸åƒC++é‚£æ ·ä¸€æ¬¡æ€§æŠŠæºä»£ç ç¼–è¯‘æˆæœºå™¨ç æ‰§è¡Œ.</p><p>è§£é‡Šå™¨æ¨¡å¼å¯ä»¥ç†è§£ä¸ºæ˜¯åœ¨Unityå¼€å‘ä¸­ä»£ç çƒ­æ›´æ–°åœºæ™¯ä¸‹, ä¸šå†…å¼€å‘è€…ä¸ºäº†èƒ½å¤Ÿæ‰§è¡Œçƒ­æ›´ä»£ç (dll)è€Œå¼€å‘çš„ä¸€ç§è¿·ä½ ç‰ˆçš„CLR(è™šæ‹Ÿæœº).<br>æˆ‘å†ç†è§£ä¸€ä¸‹è§£é‡Šå™¨çš„è§’è‰², è§£é‡Šå™¨å°±æ˜¯åœ¨AOTæ‰“åŒ…æ–¹å¼ä¸‹, ä¸»åŒ…çš„.Netçš„è™šæ‹Ÿæœºè¢«å‰”é™¤ä¸§å¤±äº†è§£æç¼–è¯‘IL(dll)çš„èƒ½åŠ›, éœ€è¦ä¸€ä¸ªè¿·ä½ ç‰ˆçš„è™šæ‹Ÿæœº(ä¹Ÿå°±æ˜¯è§£é‡Šå™¨)æ¥æ‰§è¡ŒILä»£ç </p><h1>JITå’Œè§£é‡Šå™¨çš„åŒºåˆ«æ˜¯å•¥å‘¢? ä¸éƒ½æ˜¯è¿è¡Œæ—¶ç¼–è¯‘ä»£ç å˜›?</h1><p>JITæ–¹å¼æ˜¯æœ‰å®Œæ•´çš„Monoæˆ–è€…CLRè™šæ‹Ÿæœºçš„æœºåˆ¶, è€Œè§£é‡Šå™¨åˆ™æ˜¯ä¸€ç§é’ˆå¯¹Unityçƒ­æ›´åœºæ™¯ä¸‹çš„è¿·ä½ ç‰ˆè™šæ‹Ÿæœºæœºåˆ¶.</p><h2 id="Luaã€XLua">Luaã€XLua</h2><h2 id="ILRuntime">ILRuntime</h2><h2 id="HybridCLR">HybridCLR</h2><h1>C#çš„æ‰§è¡Œæœºåˆ¶</h1><p>C#ä»£ç ä¼šè¢«ç¼–è¯‘æˆILè¯­è¨€, åœ¨è¿è¡Œçš„æ—¶å€™, é€šè¿‡ä¸€ä¸ªInterpreter(è§£é‡Šå™¨)é€è¡Œè§£é‡ŠILæŒ‡ä»¤è¿è¡Œ<br>åœ¨IOSä¸Š, æ˜¯ä¸å…è®¸JITçš„æ–¹å¼è¿è¡Œä»£ç çš„, åªèƒ½ä½¿ç”¨AOTçš„æ–¹å¼è¿è¡Œ<br>åœ¨Androidç­‰å…¶ä»–è®¾å¤‡ä¸ŠAOTå’ŒJITéƒ½æ˜¯å¯ä»¥çš„</p><h1>å¦‚ä»Šè¡Œä¸šå†…ä¸»æµçš„çƒ­æ›´æ–¹æ¡ˆç©¶ç«Ÿæ˜¯æ€ä¹ˆå½¢æˆçš„?</h1><ul><li>ç”±äºIOSå¯¹äºJITçš„é™åˆ¶, å¯¼è‡´ä¸»åŒ…å¿…é¡»ä½¿ç”¨AOTçš„æ–¹å¼æ‰“åŒ…, <a href="http://xn--AOT-0y9d42pwx1aclan9eb47e78s.Net">è€ŒAOTæ‰“åŒ…ä¼šç›´æ¥æŠŠ.Net</a> Monoè™šæ‹Ÿæœºå‰”é™¤æ‰, å°†C#ç›´æ¥è½¬æˆC++åŸç”Ÿä»£ç . è¿™å°±ä¼šå¯¼è‡´ä¸»åŒ…ä¸å…·å¤‡è¯†åˆ«dllèƒ½åŠ›</li><li>æ¥ç€, ç”±äºå„ä¸ªæ“ä½œç³»ç»Ÿå¹³å°å¯¹äºåŸç”Ÿä»£ç çš„åŠ¨æ€åŠ è½½æ˜¯æœ‰é™åˆ¶çš„ï¼ˆæ¯”å¦‚ dlopen åŠ æ–° so/dllï¼‰, æ‰€ä»¥æƒ³è¦åœ¨è¿è¡Œæ—¶åŠ¨æ€çš„åŠ è½½ä¸€æ®µé€»è¾‘è¿›æ¥, åªèƒ½ä½¿ç”¨éåŸç”Ÿä»£ç , äºæ˜¯çƒ­æ›´é€šå¸¸é€‰æ‹©DLLï¼ˆILï¼‰</li><li>è¦è®©åº•åŒ…èƒ½è®¤è¯†å’Œè¿è¡Œâ€œçƒ­æ›´dllâ€é‡Œçš„ C# ä»£ç ï¼Œå°±å¾—æœ‰.NETè™šæ‹Ÿæœºã€‚ä½†AOTæ‰“åŒ…è®©è™šæ‹Ÿæœºç›¸å…³èƒ½åŠ›è¢«ç§»é™¤/é˜‰å‰²ï¼Œä¸è®¤dllã€‚ ä½†æ˜¯è™šæ‹Ÿæœºåœ¨AOTæ‰“åŒ…çš„æ—¶å€™å·²ç»å‡ ä¹è¢«å®Œå…¨å‰”é™¤æ‰äº†, å› æ­¤æˆ‘ä»¬å¿…é¡»è®©å®ƒæ¢å¤è¯†åˆ«dllçš„åŠŸèƒ½,</li><li>è¦æƒ³æ¢å¤è¯†åˆ«dllçš„èƒ½åŠ›ï¼Œå°±å¾—é›†æˆæ–°çš„è™šæ‹Ÿæœºæˆ–è§£é‡Šèƒ½åŠ›ï¼ˆæ¯”å¦‚ILRuntime/HybridCLRï¼‰ã€‚HybridCLRçš„æ„ä¹‰å°±æ˜¯è®©AOTåŒ…æ¢å¤å……åˆ†ç”šè‡³å¾ˆå¤§ç¨‹åº¦åŸç”Ÿçš„DLLè¯†åˆ«/è¿è¡Œèƒ½åŠ›ã€‚è¿™å°±æ˜¯HybridCLRæ‰€åšçš„äº‹æƒ…åœ¨AOTæ‰“åŒ…æ¨¡å¼å‰”é™¤æ‰Monoè™šæ‹Ÿæœºè¯†åˆ«dllä»£ç èƒ½åŠ›çš„æƒ…å†µä¸‹, é‡å†™AOTçš„æ‰“åŒ…æ–¹å¼, è®©å…¶ä¿ç•™èƒ½å¤Ÿè¯†åˆ«dllä»£ç çš„èƒ½åŠ›.</li></ul><h1>ä»£ç çƒ­æ›´æ–°</h1><p>ä¸ºä»€ä¹ˆä»£ç çƒ­æ›´æ–°éƒ½é€‰æ‹©ä½¿ç”¨JIT(å°†çƒ­æ›´ä»£ç ç¼–è¯‘æˆdll)çš„æ–¹å¼, è€Œä¸é€‰æ‹©AOTåŸç”Ÿæ–¹å¼å‘¢?</p><h1>çƒ­æ›´çš„ä»£ç å’Œçƒ­æ›´çš„èµ„æº å“ªä¸ªåº”è¯¥å…ˆåŠ è½½?</h1><p>çƒ­æ›´ä»£ç çš„è°ƒç”¨æ–¹å¼<br>æœ‰ä¸€ç§å¾ˆå–å·§çš„æ–¹å¼åŠ è½½çƒ­æ›´ä»£ç , é‚£å°±æ˜¯æŠŠçƒ­æ›´ä»£ç æŒ‚è½½åˆ°æŸä¸€ä¸ªé¢„åˆ¶ä½“ä¸Š, é€šè¿‡Unityçš„Awakeæ–¹æ³•è°ƒç”¨çƒ­æ›´ä»£ç çš„å…¥å£<br>AOTç¨‹åºé›† å°±æ˜¯åº•åŒ…ç¨‹åºé›† AOTæ˜¯ä¸€ç§ä»£ç ç¼–è¯‘æ–¹å¼ å®ƒä¼š</p><p>ä»€ä¹ˆæ˜¯streaming path? ä»€ä¹ˆæ˜¯persistent path?</p><h1>ä¸€äº›Unityä¸­æ— æ³•å†…ç½®çš„dllçš„å¤„ç†</h1><p><a href="https://blog.csdn.net/lanchunhui/article/details/53239441">https://blog.csdn.net/lanchunhui/article/details/53239441</a></p><p><a href="https://zh.wikipedia.org/zh-hans/%E6%AD%A3%E6%80%81%E5%88%86%E5%B8%83">https://zh.wikipedia.org/zh-hans/æ­£æ€åˆ†å¸ƒ</a></p><p><a href="https://blog.csdn.net/qq_17347313/article/details/106995687">https://blog.csdn.net/qq_17347313/article/details/106995687</a><br>C#ä¸­æ­£æ€åˆ†å¸ƒçš„ç¬¬ä¸‰æ–¹åº“</p><h1>æ­£æ€åˆ†å¸ƒ</h1><h2 id="æ ‡å‡†æ­£æ€åˆ†å¸ƒ">æ ‡å‡†æ­£æ€åˆ†å¸ƒ</h2><h1>æ­£åæ€åˆ†å¸ƒ</h1><h1>ç´¯ç§¯åˆ†å¸ƒå‡½æ•°</h1><h1>å‚è€ƒ</h1><ul><li><a href="https://www.cnblogs.com/SunSpring/p/15047424.html">.net æ¸©æ•…çŸ¥æ–°ï¼šã€2ã€‘ .Net Framework ã€.Net ã€ .NET Standardçš„æ¦‚å¿µä¸åŒºåˆ«</a></li><li><a href="https://blog.csdn.net/codywangziham01/article/details/123689658">AOT å’Œ JITã€ IL2CPPå’ŒMonoã€ CLRã€ ILRuntimeçƒ­æ›´æ–°åŸç†</a></li><li><a href="https://www.cnblogs.com/fly-100/p/4594380.html">Unityè·¨å¹³å°åŸç†</a></li><li><a href="https://zhuanlan.zhihu.com/p/88692056">Unityä»å‘å¸ƒåˆ°æµè¡Œç»å†äº†ä»€ä¹ˆé‡å¤§å˜åŒ–ï¼ˆ2ï¼‰</a></li><li><a href="https://blog.csdn.net/gz_huangzl/article/details/52486255">Unityå°†æ¥æ—¶ï¼šIL2CPPæ˜¯ä»€ä¹ˆï¼Ÿæœ‰äº†Monoä¸ºä»€ä¹ˆè¿˜éœ€è¦IL2CPP?</a></li><li><a href="https://blog.csdn.net/Funniyuan/article/details/136002603">.NET å‘å±•å†ç¨‹ä¸æœªæ¥</a></li><li><a href="https://my.oschina.net/emacs_9244658/blog/18230886">Mono è½¯ä»¶å‘å±•å†ç¨‹è¯¦è§£</a></li><li><a href="https://www.cnblogs.com/willick/p/15038133.html">.NET çš„å‘å±•ç®€å²</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ã€ŠCLR via C#ã€‹è¿™æœ¬ä¹¦å¸®åŠ©è¯»è€…å»ºç«‹èµ·äº†C#çš„çŸ¥è¯†æ¡†æ¶, æ˜¯ç¬”è€…èŒä¸šç”Ÿæ¶¯ä¸­åŠŸä¸å¯æ²¡çš„å¥½ä¹¦, ä¸è¿‡æœ¬ä¹¦çš„ä½œè€…Jeffrey &lt;a href=&quot;http://xn--Richter-oc5k144o.Net&quot;&gt;Richteræ˜¯ä»¥.Net&lt;/a&gt; </summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>äººæ€§çš„å¼±ç‚¹</title>
    <link href="https://soincredible.github.io/posts/109e75d5/"/>
    <id>https://soincredible.github.io/posts/109e75d5/</id>
    <published>2025-06-18T10:58:23.000Z</published>
    <updated>2025-06-23T13:51:07.889Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>UnityEditorå¼€å‘ä¸­Singletonçš„è®¾è®¡</title>
    <link href="https://soincredible.github.io/posts/1477ebaf/"/>
    <id>https://soincredible.github.io/posts/1477ebaf/</id>
    <published>2025-06-11T08:14:28.000Z</published>
    <updated>2025-06-23T02:20:26.329Z</updated>
    
    <content type="html"><![CDATA[<h1>åœ¨Editorä¸‹åˆ›å»ºå•ä¾‹</h1><p>çµæ„Ÿæ¥è‡ªUnityçš„<a href="https://sites.google.com/view/monkey-user-guide/getting-started">MonKeyæ’ä»¶</a></p><h2 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯</h2><p>æˆ‘æœ‰ä¸€äº›ç”±<code>ScriptableObject</code>ã€<code>json</code>æˆ–è€…åˆ«çš„æ ¼å¼ç»„ç»‡çš„ä¸€ç»„æ•°æ®, æˆ‘å¸Œæœ›åœ¨Editoræ¨¡å¼ä¸‹å¼€å‘ä¸€å¥—å·¥å…·, èƒ½è®©æˆ‘å¯¹è¿™ä¸€ç»„æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥, æ ¹æ®MVCæ¶æ„çš„æ€æƒ³, å¿…é¡»æœ‰ä¸€ä¸ª<code>Manager</code>æ¥ç»´æŠ¤è¿™ä¸€ç»„æ•°æ®çš„å¢åˆ æ”¹æŸ¥, å¹¶ä¸”è¯¥<code>Manager</code>çš„ç”Ÿå‘½å‘¨æœŸéœ€è¦å’ŒUnity Editorçš„ç”Ÿå‘½å‘¨æœŸä¿æŒä¸€è‡´.</p><h2 id="å…³é”®è§’è‰²">å…³é”®è§’è‰²</h2><ul><li><a href="https://docs.unity3d.com/ScriptReference/InitializeOnLoadAttribute.html"><code>InitializeOnLoad</code></a>å±æ€§, æ ¹æ®å®˜æ–¹çš„æè¿°, è¯¥å±æ€§ä¼šåœ¨UnityEditoræ‰“å¼€å’Œä»£ç é‡æ–°ç¼–è¯‘çš„æ—¶å€™åˆå§‹åŒ–Editorè„šæœ¬. ä½ éœ€è¦ç»™è¿™ä¸ªEditorè„šæœ¬æä¾›ä¸€ä¸ªé™æ€çš„æ„é€ å‡½æ•°, <strong>æ³¨æ„</strong> å®˜æ–¹æåˆ°äº† åº”è¯¥é¿å…åœ¨InitialzeOnLoadä¸­è¿›è¡Œèµ„äº§åŠ è½½çš„æ“ä½œ, å› ä¸ºInitialzeOnLoadæ˜¯åœ¨èµ„äº§å¯¼å…¥å®Œæˆå‰è¢«è°ƒç”¨çš„, è¯¥æ“ä½œæœ‰å¯èƒ½ä¼šå¯¼è‡´èµ„äº§åŠ è½½å¤±è´¥. è¦åœ¨éœ€è¦è¿›è¡Œèµ„äº§æ“ä½œçš„åŸŸé‡è½½åè¿›è¡Œåˆå§‹åŒ–, å¯ä»¥ä½¿ç”¨<code>AssetPostprocessor.OnPostprocessAllAssets</code>å›è°ƒ. ä½†Unity2020ç‰ˆæœ¬ä¸­æ˜¯æ²¡æœ‰è¿™ä¸ªæ¥å£çš„, è¯¥å›è°ƒæ”¯æŒæ‰€æœ‰èµ„äº§æ“ä½œ, å¹¶æœ‰ä¸€ä¸ªå‚æ•°æç¤ºæ˜¯å¦è¿›è¡Œäº†åŸŸé‡è½½. Unityä¸èƒ½ä¿è¯ å› æ­¤ä½¿ç”¨æ‡’æ±‰æ¨¡å¼, å°†åœ¨åˆå§‹åŒ–æ“ä½œä¸­ä¸èƒ½åŠ è½½èµ„æºçš„æ“ä½œå˜ä¸ºäº†åœ¨åˆå§‹åŒ–çš„è¿‡ç¨‹ä¸­ä¸èƒ½è®¿é—®Instanceçš„æ“ä½œ, å°†åŠ è½½èµ„æºçš„æ“ä½œæ”¾åœ¨é¦–æ¬¡è®¿é—®Instanceä¹‹å å¯¹äºä¸€ä¸ªEditorå•ä¾‹, å¦‚æœè¯¥å•ä¾‹éœ€è¦åšä¸€äº›åŠ è½½æ“ä½œ, é‚£ä¹ˆå°±è®©è¿™ä¸ªå•ä¾‹å®ç°IAssetProcessæ¥å£,</li></ul><p>EditorSingletonçš„å®ç°</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;åœ¨Editorä¸‹åˆ›å»ºå•ä¾‹&lt;/h1&gt;
&lt;p&gt;çµæ„Ÿæ¥è‡ªUnityçš„&lt;a href=&quot;https://sites.google.com/view/monkey-user-guide/getting-started&quot;&gt;MonKeyæ’ä»¶&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&quot;ä½¿ç”¨åœºæ™¯&quot;&gt;</summary>
      
    
    
    
    <category term="UnityEditorå¼€å‘" scheme="https://soincredible.github.io/categories/UnityEditor%E5%BC%80%E5%8F%91/"/>
    
    
  </entry>
  
  <entry>
    <title>UnityUGUITextå®ç°æè¾¹</title>
    <link href="https://soincredible.github.io/posts/9125ebdc/"/>
    <id>https://soincredible.github.io/posts/9125ebdc/</id>
    <published>2025-05-27T15:41:18.000Z</published>
    <updated>2025-06-25T08:21:13.783Z</updated>
    
    <content type="html"><![CDATA[<h1>é€šè¿‡é¡¶ç‚¹æ–¹å¼å®ç°æè¾¹</h1><h2 id="UGUIä¸­è‡ªå¸¦çš„Outline">UGUIä¸­è‡ªå¸¦çš„Outline</h2><h1>é€šè¿‡Shaderæ–¹å¼å®ç°æè¾¹</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;é€šè¿‡é¡¶ç‚¹æ–¹å¼å®ç°æè¾¹&lt;/h1&gt;
&lt;h2 id=&quot;UGUIä¸­è‡ªå¸¦çš„Outline&quot;&gt;UGUIä¸­è‡ªå¸¦çš„Outline&lt;/h2&gt;
&lt;h1&gt;é€šè¿‡Shaderæ–¹å¼å®ç°æè¾¹&lt;/h1&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>UnityUGUIè§£æ„</title>
    <link href="https://soincredible.github.io/posts/e0e34b4b/"/>
    <id>https://soincredible.github.io/posts/e0e34b4b/</id>
    <published>2025-05-27T07:55:46.000Z</published>
    <updated>2025-07-15T13:47:59.496Z</updated>
    
    <content type="html"><![CDATA[<h1>å¼•å­â€”â€”UGUIä¸­çš„Textå¦‚ä½•è¢«ç»˜åˆ¶åˆ°å±å¹•ä¸Š?</h1><p>å‚ä¸ç»˜åˆ¶Textçš„è§’è‰²:</p><ul><li>VertexHelper</li><li>TextGenerator</li><li>Fontå’ŒFontData</li><li>BaseMeshEffect</li></ul><p>è¿™æ˜¯å­—ä½“ä½¿ç”¨çš„Shader</p><figure class="highlight plaintext"><figcaption><span>Shader</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">// Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt)</span><br><span class="line"></span><br><span class="line">Shader &quot;GUI/Text Shader&quot; &#123;</span><br><span class="line">    Properties &#123;</span><br><span class="line">        _MainTex (&quot;Font Texture&quot;, 2D) = &quot;white&quot; &#123;&#125;</span><br><span class="line">        _Color (&quot;Text Color&quot;, Color) = (1,1,1,1)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    SubShader &#123;</span><br><span class="line"></span><br><span class="line">        Tags &#123;</span><br><span class="line">            &quot;Queue&quot;=&quot;Transparent&quot;</span><br><span class="line">            &quot;IgnoreProjector&quot;=&quot;True&quot;</span><br><span class="line">            &quot;RenderType&quot;=&quot;Transparent&quot;</span><br><span class="line">            &quot;PreviewType&quot;=&quot;Plane&quot;</span><br><span class="line">        &#125;</span><br><span class="line">        Lighting Off Cull Off ZTest Always ZWrite Off</span><br><span class="line">        Blend SrcAlpha OneMinusSrcAlpha</span><br><span class="line"></span><br><span class="line">        Pass &#123;</span><br><span class="line">            CGPROGRAM</span><br><span class="line">            #pragma vertex vert</span><br><span class="line">            #pragma fragment frag</span><br><span class="line">            #pragma multi_compile _ UNITY_SINGLE_PASS_STEREO STEREO_INSTANCING_ON STEREO_MULTIVIEW_ON</span><br><span class="line">            #include &quot;UnityCG.cginc&quot;</span><br><span class="line"></span><br><span class="line">            struct appdata_t &#123;</span><br><span class="line">                float4 vertex : POSITION;</span><br><span class="line">                fixed4 color : COLOR;</span><br><span class="line">                float2 texcoord : TEXCOORD0;</span><br><span class="line">                UNITY_VERTEX_INPUT_INSTANCE_ID</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            struct v2f &#123;</span><br><span class="line">                float4 vertex : SV_POSITION;</span><br><span class="line">                fixed4 color : COLOR;</span><br><span class="line">                float2 texcoord : TEXCOORD0;</span><br><span class="line">                UNITY_VERTEX_OUTPUT_STEREO</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            sampler2D _MainTex;</span><br><span class="line">            uniform float4 _MainTex_ST;</span><br><span class="line">            uniform fixed4 _Color;</span><br><span class="line"></span><br><span class="line">            v2f vert (appdata_t v)</span><br><span class="line">            &#123;</span><br><span class="line">                v2f o;</span><br><span class="line">                UNITY_SETUP_INSTANCE_ID(v);</span><br><span class="line">                UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(o);</span><br><span class="line">                o.vertex = UnityObjectToClipPos(v.vertex);</span><br><span class="line">                o.color = v.color * _Color;</span><br><span class="line">                o.texcoord = TRANSFORM_TEX(v.texcoord,_MainTex);</span><br><span class="line">                return o;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fixed4 frag (v2f i) : SV_Target</span><br><span class="line">            &#123;</span><br><span class="line">                fixed4 col = i.color;</span><br><span class="line">                col.a *= tex2D(_MainTex, i.texcoord).a;</span><br><span class="line">                return col;</span><br><span class="line">            &#125;</span><br><span class="line">            ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™æ˜¯æ‰€æœ‰çš„UGUIé»˜è®¤ä½¿ç”¨çš„Shader</p><figure class="highlight plaintext"><figcaption><span>Shader</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br></pre></td><td class="code"><pre><span class="line">// Unity built-in shader source. Copyright (c) 2016 Unity Technologies. MIT license (see license.txt)</span><br><span class="line"></span><br><span class="line">Shader &quot;UI/Default&quot;</span><br><span class="line">&#123;</span><br><span class="line">    Properties</span><br><span class="line">    &#123;</span><br><span class="line">        [PerRendererData] _MainTex (&quot;Sprite Texture&quot;, 2D) = &quot;white&quot; &#123;&#125;</span><br><span class="line">        _Color (&quot;Tint&quot;, Color) = (1,1,1,1)</span><br><span class="line"></span><br><span class="line">        _StencilComp (&quot;Stencil Comparison&quot;, Float) = 8</span><br><span class="line">        _Stencil (&quot;Stencil ID&quot;, Float) = 0</span><br><span class="line">        _StencilOp (&quot;Stencil Operation&quot;, Float) = 0</span><br><span class="line">        _StencilWriteMask (&quot;Stencil Write Mask&quot;, Float) = 255</span><br><span class="line">        _StencilReadMask (&quot;Stencil Read Mask&quot;, Float) = 255</span><br><span class="line"></span><br><span class="line">        _ColorMask (&quot;Color Mask&quot;, Float) = 15</span><br><span class="line"></span><br><span class="line">        [Toggle(UNITY_UI_ALPHACLIP)] _UseUIAlphaClip (&quot;Use Alpha Clip&quot;, Float) = 0</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    SubShader</span><br><span class="line">    &#123;</span><br><span class="line">        Tags</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;Queue&quot;=&quot;Transparent&quot;</span><br><span class="line">            &quot;IgnoreProjector&quot;=&quot;True&quot;</span><br><span class="line">            &quot;RenderType&quot;=&quot;Transparent&quot;</span><br><span class="line">            &quot;PreviewType&quot;=&quot;Plane&quot;</span><br><span class="line">            &quot;CanUseSpriteAtlas&quot;=&quot;True&quot;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Stencil</span><br><span class="line">        &#123;</span><br><span class="line">            Ref [_Stencil]</span><br><span class="line">            Comp [_StencilComp]</span><br><span class="line">            Pass [_StencilOp]</span><br><span class="line">            ReadMask [_StencilReadMask]</span><br><span class="line">            WriteMask [_StencilWriteMask]</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Cull Off</span><br><span class="line">        Lighting Off</span><br><span class="line">        ZWrite Off</span><br><span class="line">        ZTest [unity_GUIZTestMode]</span><br><span class="line">        Blend One OneMinusSrcAlpha</span><br><span class="line">        ColorMask [_ColorMask]</span><br><span class="line"></span><br><span class="line">        Pass</span><br><span class="line">        &#123;</span><br><span class="line">            Name &quot;Default&quot;</span><br><span class="line">        CGPROGRAM</span><br><span class="line">            #pragma vertex vert</span><br><span class="line">            #pragma fragment frag</span><br><span class="line">            #pragma target 2.0</span><br><span class="line"></span><br><span class="line">            #include &quot;UnityCG.cginc&quot;</span><br><span class="line">            #include &quot;UnityUI.cginc&quot;</span><br><span class="line"></span><br><span class="line">            #pragma multi_compile_local _ UNITY_UI_CLIP_RECT</span><br><span class="line">            #pragma multi_compile_local _ UNITY_UI_ALPHACLIP</span><br><span class="line"></span><br><span class="line">            struct appdata_t</span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex   : POSITION;</span><br><span class="line">                float4 color    : COLOR;</span><br><span class="line">                float2 texcoord : TEXCOORD0;</span><br><span class="line">                UNITY_VERTEX_INPUT_INSTANCE_ID</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            struct v2f</span><br><span class="line">            &#123;</span><br><span class="line">                float4 vertex   : SV_POSITION;</span><br><span class="line">                fixed4 color    : COLOR;</span><br><span class="line">                float2 texcoord  : TEXCOORD0;</span><br><span class="line">                float4 worldPosition : TEXCOORD1;</span><br><span class="line">                float4  mask : TEXCOORD2;</span><br><span class="line">                UNITY_VERTEX_OUTPUT_STEREO</span><br><span class="line">            &#125;;</span><br><span class="line"></span><br><span class="line">            sampler2D _MainTex;</span><br><span class="line">            fixed4 _Color;</span><br><span class="line">            fixed4 _TextureSampleAdd;</span><br><span class="line">            float4 _ClipRect;</span><br><span class="line">            float4 _MainTex_ST;</span><br><span class="line">            float _UIMaskSoftnessX;</span><br><span class="line">            float _UIMaskSoftnessY;</span><br><span class="line"></span><br><span class="line">            v2f vert(appdata_t v)</span><br><span class="line">            &#123;</span><br><span class="line">                v2f OUT;</span><br><span class="line">                UNITY_SETUP_INSTANCE_ID(v);</span><br><span class="line">                UNITY_INITIALIZE_VERTEX_OUTPUT_STEREO(OUT);</span><br><span class="line">                float4 vPosition = UnityObjectToClipPos(v.vertex);</span><br><span class="line">                OUT.worldPosition = v.vertex;</span><br><span class="line">                OUT.vertex = vPosition;</span><br><span class="line"></span><br><span class="line">                float2 pixelSize = vPosition.w;</span><br><span class="line">                pixelSize /= float2(1, 1) * abs(mul((float2x2)UNITY_MATRIX_P, _ScreenParams.xy));</span><br><span class="line"></span><br><span class="line">                float4 clampedRect = clamp(_ClipRect, -2e10, 2e10);</span><br><span class="line">                float2 maskUV = (v.vertex.xy - clampedRect.xy) / (clampedRect.zw - clampedRect.xy);</span><br><span class="line">                OUT.texcoord = TRANSFORM_TEX(v.texcoord.xy, _MainTex);</span><br><span class="line">                OUT.mask = float4(v.vertex.xy * 2 - clampedRect.xy - clampedRect.zw, 0.25 / (0.25 * half2(_UIMaskSoftnessX, _UIMaskSoftnessY) + abs(pixelSize.xy)));</span><br><span class="line"></span><br><span class="line">                OUT.color = v.color * _Color;</span><br><span class="line">                return OUT;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            fixed4 frag(v2f IN) : SV_Target</span><br><span class="line">            &#123;</span><br><span class="line">                half4 color = IN.color * (tex2D(_MainTex, IN.texcoord) + _TextureSampleAdd);</span><br><span class="line"></span><br><span class="line">                #ifdef UNITY_UI_CLIP_RECT</span><br><span class="line">                half2 m = saturate((_ClipRect.zw - _ClipRect.xy - abs(IN.mask.xy)) * IN.mask.zw);</span><br><span class="line">                color.a *= m.x * m.y;</span><br><span class="line">                #endif</span><br><span class="line"></span><br><span class="line">                #ifdef UNITY_UI_ALPHACLIP</span><br><span class="line">                clip (color.a - 0.001);</span><br><span class="line">                #endif</span><br><span class="line"></span><br><span class="line">                color.rgb *= color.a;</span><br><span class="line"></span><br><span class="line">                return color;</span><br><span class="line">            &#125;</span><br><span class="line">        ENDCG</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>å‚è€ƒèµ„æ–™</h1><ul><li><a href="https://docs.unity3d.com/2022.3/Documentation/ScriptReference/TextGenerator.html">Unity TextGenerator API</a></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;å¼•å­â€”â€”UGUIä¸­çš„Textå¦‚ä½•è¢«ç»˜åˆ¶åˆ°å±å¹•ä¸Š?&lt;/h1&gt;
&lt;p&gt;å‚ä¸ç»˜åˆ¶Textçš„è§’è‰²:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VertexHelper&lt;/li&gt;
&lt;li&gt;TextGenerator&lt;/li&gt;
&lt;li&gt;Fontå’ŒFontData&lt;/li&gt;
&lt;li&gt;BaseMeshE</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>çº¿æ€§ä»£æ•°åœ¨æ¸¸æˆå¼€å‘ä¸­çš„åº”ç”¨</title>
    <link href="https://soincredible.github.io/posts/fd0318d/"/>
    <id>https://soincredible.github.io/posts/fd0318d/</id>
    <published>2025-05-27T03:38:12.000Z</published>
    <updated>2025-06-23T02:20:26.330Z</updated>
    
    <content type="html"><![CDATA[<h1>åˆ¤æ–­ä¸€ä¸ªå‘é‡ä¸åæ ‡è½´çš„é‡åˆåº¦</h1><p>å‘é‡ä¸æ¯ä¸ªåæ ‡è½´å‘é‡è¿›è¡Œç‚¹ç§¯, æ³¨æ„è¿™é‡Œè¦æ±‚å‚ä¸è¿ç®—çš„æ‰€æœ‰å‘é‡éƒ½æ˜¯å½’ä¸€åŒ–çš„, ç‚¹ç§¯ç»“æœä¼šå¾—åˆ°ä¸€ä¸ªå¸¸æ•°, å¯¹è¿™ä¸ªå¸¸æ•°å–ç»å¯¹å€¼, ç»“æœè¶Šå¤§ä»£è¡¨ä¸è¯¥å‘¨å‘é‡è¶Šé‡åˆ, å¸¸æ•°çš„æ­£è´Ÿä»£è¡¨çš„æ˜¯ä¸åæ ‡è½´çš„æ­£æ–¹å‘è¿˜æ˜¯è´Ÿæ–¹å‘é‡åˆåº¦æ›´é«˜.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;åˆ¤æ–­ä¸€ä¸ªå‘é‡ä¸åæ ‡è½´çš„é‡åˆåº¦&lt;/h1&gt;
&lt;p&gt;å‘é‡ä¸æ¯ä¸ªåæ ‡è½´å‘é‡è¿›è¡Œç‚¹ç§¯, æ³¨æ„è¿™é‡Œè¦æ±‚å‚ä¸è¿ç®—çš„æ‰€æœ‰å‘é‡éƒ½æ˜¯å½’ä¸€åŒ–çš„, ç‚¹ç§¯ç»“æœä¼šå¾—åˆ°ä¸€ä¸ªå¸¸æ•°, å¯¹è¿™ä¸ªå¸¸æ•°å–ç»å¯¹å€¼, ç»“æœè¶Šå¤§ä»£è¡¨ä¸è¯¥å‘¨å‘é‡è¶Šé‡åˆ, å¸¸æ•°çš„æ­£è´Ÿä»£è¡¨çš„æ˜¯ä¸åæ ‡è½´çš„æ­£æ–¹å‘è¿˜æ˜¯è´Ÿæ–¹å‘é‡åˆåº¦æ›´é«˜.&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSharpä¸­çš„CancellationToken</title>
    <link href="https://soincredible.github.io/posts/7331d0f1/"/>
    <id>https://soincredible.github.io/posts/7331d0f1/</id>
    <published>2025-05-24T01:08:07.000Z</published>
    <updated>2025-05-27T01:40:32.452Z</updated>
    
    <content type="html"><![CDATA[<h1>å‚è€ƒèµ„æ–™</h1><p><a href="https://medium.com/@mitesh_shah/a-deep-dive-into-c-s-cancellationtoken-44bc7664555f">A Deep Dive into C#â€™s CancellationToken</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;å‚è€ƒèµ„æ–™&lt;/h1&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/@mitesh_shah/a-deep-dive-into-c-s-cancellationtoken-44bc7664555f&quot;&gt;A Deep Dive into C#â€™s Cancell</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>SVNâ€”â€”SubVersionå­¦ä¹ è®°å½•</title>
    <link href="https://soincredible.github.io/posts/fb782408/"/>
    <id>https://soincredible.github.io/posts/fb782408/</id>
    <published>2025-05-22T13:04:39.000Z</published>
    <updated>2025-07-22T08:55:41.941Z</updated>
    
    <content type="html"><![CDATA[<p>SVNä¸­çš„ä¸¤ç§å†²çª</p><h2 id="1-æ–‡ä»¶å†²çªï¼ˆfile-conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ">1. æ–‡ä»¶å†²çªï¼ˆfile conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul><li><strong>æ–‡ä»¶å†²çª</strong>æŒ‡çš„æ˜¯ï¼š<br>å¤šäººå¯¹<strong>åŒä¸€ä¸ªæ–‡ä»¶çš„åŒä¸€ä¸ªéƒ¨åˆ†</strong>è¿›è¡Œäº†ä¸åŒä¿®æ”¹ã€‚</li><li>ä¾‹å¦‚ï¼šä½ å’ŒåŒäº‹åŒæ—¶ç¼–è¾‘Â <code>a.txt</code>Â çš„ç¬¬5è¡Œå†…å®¹ï¼Œæäº¤æ›´æ–°æ—¶å°±ä¼šå‘ç”Ÿæ–‡ä»¶å†²çªã€‚</li></ul><h3 id="å¸¸è§è¡¨ç°">å¸¸è§è¡¨ç°</h3><ul><li>SVN ä¼šæŠŠæœ‰å†²çªçš„éƒ¨åˆ†æ’å…¥ä¸€äº›Â <code>&lt;&lt;&lt;&lt;&lt;&lt;&lt;</code>ã€<code>=======</code>ã€<code>&gt;&gt;&gt;&gt;&gt;&gt;&gt;</code>Â æ ‡è®°ï¼Œç­‰ä½ æ‰‹åŠ¨åˆå¹¶/é€‰æ‹©ã€‚</li><li>ä½ éœ€è¦æ‰“å¼€æ–‡ä»¶åˆå¹¶æˆ–ç›´æ¥é‡æ–°ç¼–è¾‘ã€‚</li></ul><hr><h2 id="2-æ ‘å†²çªï¼ˆtree-conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ">2. æ ‘å†²çªï¼ˆtree conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ</h2><ul><li><strong>æ ‘å†²çª</strong>æ˜¯ SVN 1.6 åŠä»¥åçš„æ¦‚å¿µã€‚</li><li>æ‰€è°“â€œæ ‘â€å…¶å®æŒ‡<strong>ç›®å½•ç»“æ„/æ–‡ä»¶ç»“æ„ï¼ˆä¸æ˜¯æ ‘çŠ¶æ§ä»¶ï¼Œä¹Ÿä¸æ˜¯æ•°æ®ç»“æ„çš„æ ‘ï¼Œè€Œæ˜¯æ•´ä¸ªé¡¹ç›®çš„æ–‡ä»¶ã€æ–‡ä»¶å¤¹ç»„æˆçš„ç›®å½•æ ‘ï¼‰</strong>ã€‚</li><li><strong>æ ‘å†²çªå‡ºç°åœ¨ï¼š</strong><br>é’ˆå¯¹ç›®å½•ç»“æ„æ“ä½œï¼ˆå¦‚æ–‡ä»¶/æ–‡ä»¶å¤¹çš„æ–°å¢ã€é‡å‘½åã€åˆ é™¤ã€ç§»åŠ¨ï¼‰æ—¶ï¼Œä¸åŒäººå¯¹åŒä¸€éƒ¨åˆ†ç›®å½•æ ‘åšäº†<strong>ç»“æ„æ€§å˜åŒ–</strong>ï¼Œå¹¶å‘ç”Ÿäº†å†²çªã€‚</li></ul><h3 id="å…¸å‹ä¾‹å­">å…¸å‹ä¾‹å­</h3><ol><li><strong>ä½ åˆ é™¤äº†æŸä¸ªæ–‡ä»¶/æ–‡ä»¶å¤¹ï¼ŒåŒäº‹ä¿®æ”¹äº†è¿™ä¸ªæ–‡ä»¶</strong><ul><li>ä½ åˆ äº†<code>A/B/C.cs</code>ï¼ŒåŒäº‹è¿˜åœ¨åŒä¸€ç‰ˆæœ¬ä¸Šç¼–è¾‘<code>C.cs</code>ï¼Œä½ ä»¬éƒ½æäº¤ï¼Œç„¶åæ›´æ–°ã€‚ä½ å°±ä¼šé‡åˆ°<code>tree conflict</code>ã€‚</li></ul></li><li><strong>ä¸€æ–¹ç§»åŠ¨/é‡å‘½åç›®å½•ï¼Œå¦ä¸€æ–¹åœ¨åŸåœ°æ–°å»ºæˆ–ä¿®æ”¹æ–‡ä»¶</strong></li><li><strong>çˆ¶ç›®å½•è¢«åˆ é™¤ã€å­æ–‡ä»¶è¢«ä¿®æ”¹æˆ–åä¹‹</strong></li><li><strong>ä»»ä½•ç›®å½•æˆ–è€…æ–‡ä»¶åœ¨ç»“æ„ä¸Šå‘ç”Ÿå˜åŒ–ï¼Œè€Œéå†…å®¹ä¿®æ”¹</strong></li></ol><h1>SVNæ’¤å›æŸä¸€æ¬¡æäº¤</h1><p>ä½ æƒ³æ’¤é”€130æ¬¡æäº¤çš„å†…å®¹ï¼ˆå¯èƒ½æ­¤åè¿˜æœ‰131ã€132ã€133â€¦çš„æ­£å¸¸æäº¤ï¼‰ï¼Œåªæ’¤é”€è¿™æ¬¡çš„å†…å®¹ï¼Œå…¶åçš„å˜åŠ¨ç»§ç»­å­˜åœ¨ã€‚<br>æ“ä½œå‘½ä»¤</p><p>svn merge -c -130 ä½ çš„å·¥ä½œå‰¯æœ¬ç›®å½•<br>svn commit -m â€œæ’¤é”€r130æäº¤å†…å®¹â€<br>-cå‚æ•°åé¢åŠ ä¸Šè´Ÿå·-130ï¼Œè¡¨ç¤ºâ€œæ’¤é”€ r130â€çš„å˜æ›´ã€‚<br>æ‰§è¡Œåè®°å¾—åˆ°å·¥ä½œå‰¯æœ¬çœ‹ä¸‹å˜åŠ¨ï¼Œå†commitã€‚<br>ä¸¾ä¾‹</p><p>å¦‚ä½ çš„é¡¹ç›®åœ°å€ä¸ºhttp://xxx.com/svn/project/trunkï¼Œä½ åœ¨trunkç›®å½•ä¸‹ï¼š</p><p>svn merge -c -130 .<br>svn commit -m â€œæ’¤é”€ç¬¬130æ¬¡æäº¤â€</p><h1>SVNæŸ¥çœ‹å½“å‰Revision</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn info</span><br></pre></td></tr></table></figure><h1>å†™ä¸€ä¸ªå¯ä»¥æŸ¥è¯¢å½“å¤©æäº¤è®°å½•çš„shellè„šæœ¬</h1><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="meta prompt_">  </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç”¨æ³•: ./svn_tag_summary.sh /path/to/your/svn/working_copy</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SVN_PATH=&quot;$1&quot;</span><br><span class="line"></span><br><span class="line">AUTHOR=&quot;liyinuo@tuyoogame.com&quot;</span><br><span class="line"></span><br><span class="line">TODAY=$(date +&quot;%Y-%m-%d&quot;)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [[ ! -d &quot;$SVN_PATH/.svn&quot; ]]; then</span><br><span class="line"></span><br><span class="line">echo &quot;è·¯å¾„ $SVN_PATH ä¸æ˜¯svnä»“åº“&quot;</span><br><span class="line"></span><br><span class="line">exit 1</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">cd &quot;$SVN_PATH&quot; || exit 1</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è·å–ä»Šå¤©è¯¥ä½œè€…çš„æäº¤è®°å½•</span></span><br><span class="line"></span><br><span class="line">svn log -r &#123;$&#123;TODAY&#125;T00:00:00&#125;:&#123;$&#123;TODAY&#125;T23:59:59&#125; --search &quot;$AUTHOR&quot; --verbose --xml &gt; __svn_today.xml</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if ! grep -q &quot;&lt;logentry&quot; __svn_today.xml; then</span><br><span class="line"></span><br><span class="line">echo &quot;æ²¡æœ‰ä»Šå¤©ä½œè€… $AUTHOR çš„æäº¤è®°å½•&quot;</span><br><span class="line"></span><br><span class="line">rm -f __svn_today.xml</span><br><span class="line"></span><br><span class="line">exit 0</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å–æ‰€æœ‰ commit message</span></span><br><span class="line"></span><br><span class="line">msgs=$(xmllint --xpath &#x27;//logentry[author=&quot;&#x27;$AUTHOR&#x27;&quot;]/msg/text()&#x27; __svn_today.xml 2&gt;/dev/null | grep -v &#x27;^$&#x27;)</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å„åˆ†ç±»å­—ç¬¦ä¸²</span></span><br><span class="line"></span><br><span class="line">feat_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">fix_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">refactor_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">docs_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">test_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">chore_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">other_msgs=&quot;&quot;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">while IFS= read -r line; do</span><br><span class="line"></span><br><span class="line">if [[ &quot;$line&quot; =~ ^\[feat\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">feat_msgs=&quot;$&#123;feat_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">elif [[ &quot;$line&quot; =~ ^\[fix\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">fix_msgs=&quot;$&#123;fix_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">elif [[ &quot;$line&quot; =~ ^\[refactor\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">refactor_msgs=&quot;$&#123;refactor_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">elif [[ &quot;$line&quot; =~ ^\[docs\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">docs_msgs=&quot;$&#123;docs_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">elif [[ &quot;$line&quot; =~ ^\[test\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">test_msgs=&quot;$&#123;test_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">elif [[ &quot;$line&quot; =~ ^\[chore\][[:space:]]*[:ï¼š]? ]]; then</span><br><span class="line"></span><br><span class="line">chore_msgs=&quot;$&#123;chore_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">else</span><br><span class="line"></span><br><span class="line">other_msgs=&quot;$&#123;other_msgs&#125;$&#123;line&#125;&quot;$&#x27;\n&#x27;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">done &lt;&lt;&lt; &quot;$msgs&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;ä½œè€…: $AUTHOR ä»Šå¤©çš„æäº¤åˆ†ç±»å¦‚ä¸‹ï¼š&quot;</span><br><span class="line"></span><br><span class="line">echo</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$feat_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [feat] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$feat_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$fix_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [fix] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$fix_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$refactor_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [refactor] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$refactor_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$docs_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [docs] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$docs_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$test_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [test] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$test_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$chore_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [chore] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$chore_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">if [ -n &quot;$other_msgs&quot; ]; then</span><br><span class="line"></span><br><span class="line">echo &quot;---------------- [other] ----------------&quot;</span><br><span class="line"></span><br><span class="line">echo &quot;$other_msgs&quot;</span><br><span class="line"></span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">rm -f __svn_today.xml</span><br></pre></td></tr></table></figure><h3 id="1-SVN-åˆ é™¤ä¸€ä¸ªæ–‡ä»¶åå¦‚ä½•ç”¨å‘½ä»¤è¡Œæäº¤è¿™ä¸ªä¿®æ”¹">1. SVN åˆ é™¤ä¸€ä¸ªæ–‡ä»¶åå¦‚ä½•ç”¨å‘½ä»¤è¡Œæäº¤è¿™ä¸ªä¿®æ”¹</h3><p>åˆ é™¤æ–‡ä»¶åï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p><h4 id="ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶">ï¼ˆ1ï¼‰åˆ é™¤æ–‡ä»¶</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn delete æ–‡ä»¶å</span><br><span class="line"># æ¯”å¦‚</span><br><span class="line">svn delete test.txt</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn del test.txt</span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰æäº¤åˆ é™¤æ“ä½œ">ï¼ˆ2ï¼‰æäº¤åˆ é™¤æ“ä½œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn commit -m &quot;åˆ é™¤äº†test.txtæ–‡ä»¶&quot;</span><br></pre></td></tr></table></figure><hr><h3 id="2-SVN-ä½¿ç”¨å‘½ä»¤è¡Œ-Add-to-working-copy">2. SVN ä½¿ç”¨å‘½ä»¤è¡Œ Add to working copy</h3><p>å¦‚æœæ‚¨æƒ³å°†æŸä¸ªæ–‡ä»¶æˆ–ç›®å½•æ·»åŠ åˆ°æ‚¨çš„å·¥ä½œå‰¯æœ¬ï¼ˆworking copyï¼‰ï¼Œå³åŒ…å«åˆ°ç‰ˆæœ¬æ§åˆ¶ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p><h4 id="ï¼ˆ1ï¼‰æ·»åŠ æ–‡ä»¶æˆ–ç›®å½•">ï¼ˆ1ï¼‰æ·»åŠ æ–‡ä»¶æˆ–ç›®å½•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">svn add æ–‡ä»¶åæˆ–ç›®å½•å</span><br><span class="line"># æ¯”å¦‚</span><br><span class="line">svn add newfile.txt</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯æ–°æ–‡ä»¶å¤¹ï¼Œå¯ä»¥é€’å½’æ·»åŠ å†…éƒ¨å…¨éƒ¨æ–°æ–‡ä»¶ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn add newfolder --force</span><br></pre></td></tr></table></figure><h4 id="ï¼ˆ2ï¼‰æäº¤æ·»åŠ æ“ä½œ">ï¼ˆ2ï¼‰æäº¤æ·»åŠ æ“ä½œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">svn commit -m &quot;æ·»åŠ äº†æ–°æ–‡ä»¶ï¼ˆæˆ–æ–‡ä»¶å¤¹ï¼‰&quot;</span><br></pre></td></tr></table></figure><hr><h3 id="æ€»ç»“">æ€»ç»“</h3><ul><li><p><strong>åˆ é™¤åæäº¤ï¼š</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn delete æ–‡ä»¶</span><br><span class="line">svn commit -m &quot;è¯´æ˜&quot;</span><br></pre></td></tr></table></figure></li><li><p><strong>æ–°å¢åæäº¤ï¼š</strong></p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">svn add æ–‡ä»¶</span><br><span class="line">svn commit -m &quot;è¯´æ˜&quot;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;SVNä¸­çš„ä¸¤ç§å†²çª&lt;/p&gt;
&lt;h2 id=&quot;1-æ–‡ä»¶å†²çªï¼ˆfile-conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ&quot;&gt;1. æ–‡ä»¶å†²çªï¼ˆfile conflictï¼‰æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ–‡ä»¶å†²çª&lt;/strong&gt;æŒ‡çš„æ˜¯ï¼š&lt;br&gt;
å¤šäººå¯¹&lt;strong&gt;åŒä¸€ä¸ªæ–‡ä»¶çš„</summary>
      
    
    
    
    <category term="ç‰ˆæœ¬ç®¡ç†å·¥å…·" scheme="https://soincredible.github.io/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/"/>
    
    
    <category term="SVN" scheme="https://soincredible.github.io/tags/SVN/"/>
    
  </entry>
  
  <entry>
    <title>ç¨‹åºå‘˜è¶…å¼ºå¤§è„‘</title>
    <link href="https://soincredible.github.io/posts/823ad99a/"/>
    <id>https://soincredible.github.io/posts/823ad99a/</id>
    <published>2025-05-22T12:59:53.000Z</published>
    <updated>2025-07-28T06:54:16.043Z</updated>
    
    <content type="html"><![CDATA[<h1>å‰–æç¨‹åºè®¾è®¡ä¹‹æƒ‘</h1><h2 id="é˜…è¯»ä»£ç ä¸­é‡åˆ°çš„ä¸‰ç§å›°æƒ‘">é˜…è¯»ä»£ç ä¸­é‡åˆ°çš„ä¸‰ç§å›°æƒ‘</h2><ul><li>ç¼ºä¹çŸ¥è¯†, ä¸äº†è§£æ­£åœ¨é˜…è¯»çš„ç¼–ç¨‹è¯­è¨€ã€ç®—æ³•æˆ–é¢†åŸŸ.</li><li>ç¼ºä¹ä¿¡æ¯, æ— æ³•è·å¾—ç†è§£ä»£ç æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯, å°¤å…¶æ˜¯å¦‚ä»Šçš„ä»£ç ç»å¸¸ä½¿ç”¨å„ç§åº“ã€æ¨¡å—æˆ–åŒ…, æƒ³è¯»æ‡‚ä»£ç å°±éœ€è¦æ£€ç´¢å¤§é‡ä¿¡æ¯, è€Œåœ¨æ”¶é›†æ–°ä¿¡æ¯çš„åŒæ—¶è¿˜ä¸èƒ½å¿˜è®°åŸæœ¬åº”è¯¥å®Œæˆçš„ä»»åŠ¡. ä»£ç ä¸­çœ‹åˆ°ä¸€ä¸ªæ¥å£ä¸æ¸…æ¥šä»–çš„ä½œç”¨æ˜¯å±äºç¼ºä¹ä¿¡æ¯</li><li>ç¼ºä¹åŠ å·¥èƒ½åŠ›, ä»£ç æœ‰æ—¶è¿‡äºå¤æ‚, è¶…å‡ºäº†å¤§è„‘çš„åŠ å·¥èƒ½åŠ›.</li></ul><h2 id="å½±å“ç¨‹åºè®¾è®¡çš„ä¸åŒè®¤çŸ¥è¿‡ç¨‹">å½±å“ç¨‹åºè®¾è®¡çš„ä¸åŒè®¤çŸ¥è¿‡ç¨‹</h2><ul><li>é•¿æ—¶è®°å¿†(long-term memory), å¯ä»¥æ— é™æœŸå­˜å‚¨æ‰€æœ‰è®°å¿†, ç¼ºä¹çŸ¥è¯†æ„å‘³ç€é•¿æ—¶è®°å¿†ä¸­ç¼ºå°‘è¶³å¤Ÿçš„ç›¸å…³äº‹å®. é•¿æ—¶è®°å¿†ä¼šå­˜å‚¨å‡ ç±»ç›¸å…³çš„ç¼–ç¨‹ä¿¡æ¯, ä¾‹å¦‚æˆåŠŸè¿ç”¨æŸç§ç¼–ç¨‹æŠ€å·§çš„è®°å¿†ã€Javaå…³é”®å­—çš„å«ä¹‰ã€è‹±è¯­å•è¯çš„å«ä¹‰æˆ–è€…Javaä¸­intå‹å˜é‡çš„æœ€å¤§å€¼(2147483647).</li><li>çŸ­æ—¶è®°å¿†(short-term memory), å¤§è„‘è·å–çš„ä¿¡æ¯æš‚æ—¶å­˜å‚¨äºçŸ­æ—¶è®°å¿†, å¤§è„‘æ¥å—å¤–éƒ¨çš„ä¿¡æ¯æ—¶, ä¸ä¼šç›´æ¥è¿›å…¥é•¿æ—¶è®°å¿†, è€Œæ˜¯é¦–å…ˆè¿›å…¥å®¹é‡æœ‰é™çš„çŸ­æ—¶è®°å¿†. çŸ­æ—¶è®°å¿†çš„å®¹é‡ä¼—è¯´çº·çº­, ä½†æ˜¯å¤§å¤šæ•°ç§‘å­¦å®¶è®¤ä¸ºè¿™ç§è®°å¿†åªèƒ½å­˜å‚¨å°‘é‡çš„ä¿¡æ¯å…ƒç´ , é€šå¸¸ä¸ä¼šè¶…è¿‡12ä¸ª. ä¾‹å¦‚, åœ¨é˜…è¯»ç¨‹åºæ—¶, å¤§è„‘ä¼šæŠŠç¨‹åºä½¿ç”¨çš„å…³é”®å­—ã€å˜é‡åå’Œæ•°æ®ç»“æ„æš‚æ—¶ä¿å­˜åœ¨çŸ­æ—¶è®°å¿†ä¸­.</li><li>å·¥ä½œè®°å¿†(working memory), å¦‚æœæŠŠé•¿æ—¶è®°å¿†æ¯”åšç¡¬ç›˜, çŸ­æ—¶è®°å¿†æ¯”åšå†…å­˜, é‚£ä¹ˆå·¥ä½œè®°å¿†å°±ç›¸å½“äºå¤§è„‘çš„â€œå¤„ç†å™¨â€. åœ¨é˜…è¯»ä»£ç çš„è¿‡ç¨‹ä¸­, å¤§è„‘è¿˜ä¼šè¿›è¡Œæ›´å¤šçš„æ´»åŠ¨. ç¨‹åºå‘˜ä¼šå°è¯•å¿ƒç®—å¹¶æ¢³ç†ä»£ç çš„æ‰§è¡Œç»“æœ, è¿™ä¸ªè¿‡ç¨‹ç§°ä¸º<strong>è¿½è¸ª</strong>, ä¹Ÿå°±æ˜¯åœ¨è„‘æµ·é‡Œç¼–è¯‘å¹¶æ‰§è¡Œä»£ç . å¤§è„‘å†…éƒ¨ç”¨äºè¿½è¸ªä»¥åŠè¿›è¡Œå…¶ä»–å¤æ‚è®¤çŸ¥æ´»åŠ¨çš„æœºåˆ¶ç§°ä¸ºå·¥ä½œè®°å¿†, è¿™ç§è®°å¿†ç›¸å½“äºè®¡ç®—æœºç”¨æ¥æ‰§è¡Œè®¡ç®—ä»»åŠ¡çš„å¤„ç†å™¨. å¦‚æœå¤§è„‘æ„Ÿè§‰éœ€è¦å€ŸåŠ©å¤–éƒ¨åª’ä»‹æ¥å­˜å‚¨ä¿¡æ¯, åˆ™å¯èƒ½æ„å‘³ç€å·¥ä½œè®°å¿†çš„è´Ÿæ‹…è¿‡é‡, éš¾ä»¥åŠ å·¥æ›´å¤šçš„ä¿¡æ¯.</li></ul><p>é•¿æ—¶è®°å¿†ã€çŸ­æ—¶è®°å¿†ã€å·¥ä½œè®°å¿†è¿™ä¸‰ç§è®¤çŸ¥è¿‡ç¨‹åœ¨é˜…è¯»ä»£ç çš„è¿‡ç¨‹ä¸­éƒ½ä¼šå‚ä¸ã€ç›¸è¾…ç›¸æˆ.</p><img src="/posts/823ad99a/image.png" class=""><h1>å°èŠ‚</h1><ul><li>ç¼ºä¹çŸ¥è¯†ä¼šå½±å“é•¿æ—¶è®°å¿†.</li><li>ç¼ºä¹ä¿¡æ¯ä¼šå½±å“çŸ­æ—¶è®°å¿†.</li><li>ç¼ºä¹åŠ å·¥èƒ½åŠ›ä¼šå½±å“å·¥ä½œè®°å¿†.</li></ul><h1>å¿«é€Ÿé˜…è¯»ä»£ç </h1><p>æé«˜å¿«é€ŸæŸ¥æ‰¾ç›¸å…³ä¿¡æ¯çš„èƒ½åŠ›æœ‰åŠ©äºå‡å°‘åå¤æµè§ˆä»£ç çš„æ¬¡æ•°. å¦‚æœä»£ç é˜…è¯»æ°´å¹³å¾ˆé«˜, é‚£ä¹ˆè¿˜å¯ä»¥é™ä½æµè§ˆä»£ç ä»¥æŸ¥æ‰¾å…¶ä»–ä¿¡æ¯çš„é¢‘ç‡. èŠ±åœ¨é˜…è¯»ä»£ç æ–¹é¢çš„æ—¶é—´è¶Šå°‘, ç•™ç»™ä¿®å¤é”™è¯¯æˆ–è€…æ·»åŠ æ–°åŠŸèƒ½çš„æ—¶é—´å°±è¶Šå¤š, ç¨‹åºå‘˜çš„æ•ˆç‡å› è€Œè¶Šé«˜.</p><h2 id="å¿«é€Ÿé˜…è¯»ä»£ç ">å¿«é€Ÿé˜…è¯»ä»£ç </h2><h2 id="å¼¥è¡¥è®°å¿†å®¹é‡ä¸è¶³çš„çŸ­æ¿">å¼¥è¡¥è®°å¿†å®¹é‡ä¸è¶³çš„çŸ­æ¿</h2><p>æ—¢ç„¶ç¼ºä¹ä¿¡æ¯ä¼šå½±å“çŸ­æ—¶è®°å¿†, å› ä¸ºçŸ­æ—¶è®°å¿†çš„å®¹é‡ååˆ†æœ‰é™. æƒ³åˆ°æå‡çŸ­æ—¶è®°å¿†çš„å®¹é‡å¹¶ä¸å®¹æ˜“, æˆ‘ä»¬æ›´åº”è¯¥å»æé«˜è‡ªå·±æŠŠé›¶æ•£çš„å°å—å˜æˆç»„å—(chunk), è™½ç„¶æˆ‘ä»¬èƒ½å¤ŸæŒæœ‰çš„ä¿¡æ¯ç´ æ²¡æœ‰å˜, ä½†æ˜¯å•ä¸ªä¿¡æ¯å…ƒç´ åŒ…å«çš„å†…å®¹æ›´ä¸°å¯Œ, æ›´é›†æˆ, æ›´æ¨¡å—åŒ–</p><h2 id="çœ‹åˆ°çš„ä»£ç æ¯”è¯»åˆ°çš„ä»£ç å¤š">çœ‹åˆ°çš„ä»£ç æ¯”è¯»åˆ°çš„ä»£ç å¤š</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;å‰–æç¨‹åºè®¾è®¡ä¹‹æƒ‘&lt;/h1&gt;
&lt;h2 id=&quot;é˜…è¯»ä»£ç ä¸­é‡åˆ°çš„ä¸‰ç§å›°æƒ‘&quot;&gt;é˜…è¯»ä»£ç ä¸­é‡åˆ°çš„ä¸‰ç§å›°æƒ‘&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;ç¼ºä¹çŸ¥è¯†, ä¸äº†è§£æ­£åœ¨é˜…è¯»çš„ç¼–ç¨‹è¯­è¨€ã€ç®—æ³•æˆ–é¢†åŸŸ.&lt;/li&gt;
&lt;li&gt;ç¼ºä¹ä¿¡æ¯, æ— æ³•è·å¾—ç†è§£ä»£ç æ‰€éœ€çš„å…¨éƒ¨ä¿¡æ¯, å°¤å…¶æ˜¯å¦‚ä»Šçš„ä»£ç ç»å¸¸ä½¿ç”¨å„ç§åº“</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSharpä¸­çš„å§”æ‰˜</title>
    <link href="https://soincredible.github.io/posts/4f9ac505/"/>
    <id>https://soincredible.github.io/posts/4f9ac505/</id>
    <published>2025-05-22T01:00:06.000Z</published>
    <updated>2025-07-09T02:36:20.979Z</updated>
    
    <content type="html"><![CDATA[<h1>å§”æ‰˜</h1><p>ä¸€ç¯‡å¾ˆå¥½çš„åšå®¢https://www.cnblogs.com/skysoot/archive/2012/04/05/2433639.html</p><p>C#ä¸­çš„å§”æ‰˜ç±»ä¼¼äºCæˆ–C++ä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚å§”æ‰˜æ˜¯å­˜æœ‰å¯¹æŸä¸ªæ–¹æ³•çš„å¼•ç”¨çš„ä¸€ç§å¼•ç”¨ç±»å‹å˜é‡ï¼Œå¼•ç”¨å¯åœ¨è¿è¡Œæ—¶è¢«æ”¹å˜ã€‚</p><p>å§”æ‰˜ç‰¹åˆ«ç”¨äºå®ç°äº‹ä»¶å’Œå›è°ƒæ–¹æ³•ã€‚æ‰€æœ‰çš„å§”æ‰˜éƒ½æ´¾ç”Ÿè‡ª<code>System.Delegate</code>ç±»ã€‚</p><h2 id="ä»å®é™…é—®é¢˜å‡ºå‘æ¥ç†è§£å§”æ‰˜">ä»å®é™…é—®é¢˜å‡ºå‘æ¥ç†è§£å§”æ‰˜</h2><h3 id="å°†æ–¹æ³•ä½œä¸ºæ–¹æ³•çš„å‚æ•°">å°†æ–¹æ³•ä½œä¸ºæ–¹æ³•çš„å‚æ•°</h3><p>è¿™ä¸ªæ ‡é¢˜éå¸¸åœ°æ‹—å£ï¼Œä½†æˆ‘ä»¬å…ˆä¸ç®¡å®ƒï¼Œæ¥çœ‹ä¸¤ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">EnglishGreeting(name);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EnglishGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">  Console.WriteLine(<span class="string">&quot;Good Moring,&quot;</span> + name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…ˆä¸ç®¡è¿™ä¸¤ä¸ªæ–¹æ³•æœ‰æ²¡æœ‰å®é™…çš„æ„ä¹‰ï¼Œæˆ‘ä»¬ç°åœ¨æƒ³é€šè¿‡è¿™ä¸¤ä¸ªæ–¹æ³•æ¥å‘æŸäººé—®å¥½ï¼Œå½“ä¼ å…¥æŸäººçš„å§“åæ—¶ï¼Œæ¯”å¦‚è¯´&quot;Joe&quot;è¿›å»çš„æ—¶å€™ï¼Œåœ¨è¿™ä¸ªæ–¹æ³•ä¸­å°†è°ƒç”¨EnglishGreetingæ–¹æ³•ï¼Œå†æ¬¡ä¼ é€’nameå‚æ•°ï¼ŒEnglishGreetingæ–¹æ³•åˆ™ç”¨äºå‘å±å¹•è¾“å‡º&quot;Good Moring, Joe&quot;ã€‚</p><p>é‚£ä¹ˆç°åœ¨ï¼Œå‡è®¾è¿™ä¸ªç¨‹åºè¦è¿›è¡Œå…¨çƒåŒ–äº†ï¼Œæˆ‘ä½œä¸ºä¸€ä¸ªä¸­å›½äººï¼Œæˆ‘ä¸ç†è§£&quot;Good Moring&quot;æ˜¯ä»€ä¹ˆæ„æ€ï¼Œé‚£æˆ‘å°±åªèƒ½å†åŠ ä¸€ä¸ªä¸­æ–‡çš„é—®å€™æ–¹æ³•ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ChineseGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>&#123;</span><br><span class="line">Console.WriteLine(<span class="string">&quot;æ—©ä¸Šå¥½ï¼Œ&quot;</span>+name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™GreetPeopleä¹Ÿéœ€è¦æ”¹ä¸€ä¸‹äº†ï¼Œä¸ç„¶å¦‚ä½•åˆ¤æ–­åˆ°åº•ç”¨å“ªä¸ªç‰ˆæœ¬çš„Greetingé—®å€™æ–¹æ³•åˆé€‚å‘¢ï¼Ÿå½“ç„¶åœ¨è¿›è¡Œè¿™ä¸ªä¹‹å‰ï¼Œæˆ‘ä»¬æœ€å¥½å†å®šä¹‰ä¸€ä¸ªæšä¸¾ä½œä¸ºåˆ¤æ–­çš„ä¾æ®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="built_in">enum</span> Language&#123;</span><br><span class="line">English, Chinese</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name, Language lang</span>)</span>&#123;</span><br><span class="line"><span class="keyword">switch</span>(lang)&#123;</span><br><span class="line"><span class="keyword">case</span> Language.English:</span><br><span class="line">EnglishGreeting(name);</span><br><span class="line"><span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> Language.Chinese:</span><br><span class="line">    ChineseGreeting(name);</span><br><span class="line">    <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>OKï¼Œå°½ç®¡è¿™æ ·è§£å†³äº†é—®é¢˜ï¼Œä½†æ˜¯è¿™ä¸ªæ–¹æ³•çš„å¯æ‰©å±•æ€§å¤ªå·®äº†ï¼Œå¦‚æœä¹‹åæˆ‘ä»¬è¿˜è¦å†æ·»åŠ éŸ©æ–‡ç‰ˆã€æ—¥æ–‡ç‰ˆï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸åå¤ä¿®æ”¹æšä¸¾å’ŒGreetPeopleçš„æ–¹æ³•ï¼Œæ¥é€‚åº”æ–°çš„éœ€æ±‚ã€‚</p><p>é‚£ä¹ˆåœ¨è€ƒè™‘æ–°çš„è§£å†³æ–¹æ¡ˆä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹çœ‹GreetPeopleçš„æ–¹æ³•ç­¾åï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name, Language lang</span>)</span>;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬åªçœ‹<code>string name</code>ï¼Œåœ¨è¿™é‡Œï¼Œstringæ˜¯å‚æ•°ç±»å‹ï¼Œnameæ˜¯å‚æ•°å˜é‡ï¼Œå½“æˆ‘ä»¬èµ‹ç»™nameå­—ç¬¦ä¸²&quot;Joe&quot;æ—¶ï¼Œä»–å°±ä»£è¡¨äº†&quot;Joe&quot;è¿™ä¸ªå€¼ï¼›å½“æˆ‘ä»¬èµ‹ç»™ä»–&quot;å‘¨æ°ä¼¦&quot;æ—¶ï¼Œå®ƒåˆä»£è¡¨ç€&quot;å‘¨æ°ä¼¦&quot;è¿™ä¸ªå€¼ã€‚ç„¶åï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–¹æ³•ä½“å†…å¯¹è¿™ä¸ªnameè¿›è¡Œå…¶ä»–çš„æ“ä½œã€‚</p><p>é‚£æˆ‘ä»¬å†ä»”ç»†æƒ³ä¸€æƒ³ï¼Œå‡å¦‚GreetPeopleæ–¹æ³•å¯ä»¥æ¥å—ä¸€ä¸ªå‚æ•°å˜é‡ï¼Œè¿™ä¸ªå˜é‡å¯ä»¥ä»£è¡¨å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå½“æˆ‘ä»¬ç»™è¿™ä¸ªå˜é‡èµ‹å€¼EnglishGreetingçš„æ—¶å€™å®ƒä»£è¡¨ç€EnglishGreeting()è¿™ä¸ªæ–¹æ³•ï¼›å½“æˆ‘ä»¬ç»™å®ƒèµ‹å€¼ChineseGreetingçš„æ—¶å€™ï¼Œå®ƒåˆä»£è¡¨ç€ChineseGreeting()çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†è¿™ä¸ªå‚æ•°å˜é‡å‘½åä¸ºMakeGreetingï¼Œé‚£ä¹ˆä¸æ˜¯å¯ä»¥å¦‚åŒç»™nameèµ‹å€¼çš„æ—¶å€™ä¸€æ ·ï¼Œåœ¨è°ƒç”¨Greet People()æ–¹æ³•çš„æ—¶å€™ï¼Œç»™è¿™ä¸ªMakeGreetingå‚æ•°ä¹Ÿé™„ä¸Šå€¼ä¹ˆï¼Œç„¶åæˆ‘ä»¬åœ¨æ–¹æ³•ä½“å†…ï¼Œä¹Ÿå¯ä»¥åƒä½¿ç”¨åˆ«çš„å‚æ•°ä¸€æ ·ä½¿ç”¨MakeGreetingã€‚ä½†æ˜¯ï¼Œç”±äºMakeGreetingä»£è¡¨ç€ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒçš„ä½¿ç”¨æ–¹å¼åº”è¯¥å’Œå®ƒè¢«èµ‹çš„æ–¹æ³•æ˜¯ä¸€æ ·çš„ï¼Œæ¯”å¦‚<code>MakeGreeting(name)</code>ï¼›</p><p>å¥½äº†ï¼Œæœ‰äº†æ€è·¯äº†ï¼Œæˆ‘ä»¬ç°åœ¨å°±æ¥æ”¹æ”¹GreetPeople()æ–¹æ³•ï¼Œé‚£ä¹ˆå®ƒåº”è¯¥æ˜¯è¿™ä¸ªæ ·å­ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name, *** MakeGreeting</span>)</span>&#123;</span><br><span class="line">MakeGreeting(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„åˆ° ***ï¼Œè¿™ä¸ªä½ç½®é€šå¸¸æ”¾ç½®çš„åº”è¯¥æ˜¯å‚æ•°çš„ç±»å‹ï¼Œä½†æ˜¯åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä»…ä»…æƒ³åˆ°çš„æ˜¯åº”è¯¥æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”æŒ‰ç…§è¿™ä¸ªæ€è·¯å»æ”¹å†™GreetPeopleæ–¹æ³•ï¼Œç°åœ¨å°±å‡ºç°äº†ä¸€ä¸ªå¤§é—®é¢˜ï¼šè¿™ä¸ªä»£è¡¨ç€æ–¹æ³•çš„MakeGreetingå‚æ•°åº”è¯¥æ˜¯ä»€ä¹ˆç±»å‹çš„ï¼Ÿ</p><p>**è¯´æ˜ï¼š**è¿™é‡Œå·²ç»ä¸å†éœ€è¦æšä¸¾äº†ï¼Œå› ä¸ºåœ¨ç»™MakeGreetingèµ‹å€¼çš„æ—¶å€™åŠ¨æ€åœ°å†³å®šä½¿ç”¨å“ªä¸ªæ–¹æ³•ï¼Œæ˜¯ChineseGreetingè¿˜æ˜¯EnglishGreetingï¼Œè€Œåœ¨è¿™ä¸¤ä¸ªæ–¹æ³•å†…éƒ¨ï¼Œå·²ç»å¯¹ä½¿ç”¨GroodMoringè¿˜æ˜¯æ—©ä¸Šå¥½åšäº†åŒºåˆ†ã€‚</p><p>ä¸‹é¢å°±è¯¥å§”æ‰˜å‡ºåœºäº†ï¼š</p><p>æˆ‘ä»¬MakeGreetingä»£è¡¨çš„ä¸¤ä¸ªæ–¹æ³•çš„ç­¾åå¦‚ä¸‹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EnglishGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">chineseGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br></pre></td></tr></table></figure><p>å¦‚åŒ<code>name</code>å¯ä»¥æ¥å—stringç±»å‹çš„æ•°æ®ä¸€æ ·ï¼ŒMakeGreetingå®ƒä¹Ÿä»£è¡¨ç€æ¥å—ç›¸åŒçš„ä¸€ç±»æ•°æ®ï¼Œå†è¿›ä¸€æ­¥è®²ï¼Œå°±æ˜¯MakeGreetingä»£è¡¨äº†å‚æ•°ç±»å‹å’Œè¿”å›ç±»å‹éƒ½ç›¸åŒçš„ä¸€ç±»æ–¹æ³•ã€‚æœ¬ä¾‹ä¸­å§”æ‰˜çš„å®šä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">GreetingDelegate</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br></pre></td></tr></table></figure><p>ä¸ä¸Šé¢EnglishGreeting()æ–¹æ³•çš„ç­¾åå¯¹æ¯”ä¸€ä¸‹ï¼Œå‡ºäº†åŠ å…¥delegateå…³é”®å­—ä»¥å¤–ï¼Œå…¶ä»–çš„éƒ¨åˆ†éƒ½æ˜¯å®Œå…¨ä¸€æ ·çš„ï¼Œé‚£ä¹ˆå†æ¬¡è°ƒç”¨GreetPeopleæ–¹æ³•ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">Greetingdelegate</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name, Greetingdelegate MakeGreeting</span>)</span>&#123;</span><br><span class="line">MakeGreeting(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å§”æ‰˜Greeting Delegatå‡ºç°çš„ä½ç½®å’Œstringç›¸åŒï¼Œstringæ˜¯ä¸€ä¸ªç±»å‹ï¼ŒGreeting Delegateä¹Ÿæ˜¯ä¸€ä¸ªç±»å‹ï¼Œæˆ–è€…è¯´æ˜¯ä¸€ä¸ªç±»ã€‚ä½†æ˜¯å§”æ‰˜çš„å£°æ˜æ–¹å¼å’Œç±»å®Œå…¨ä¸åŒã€‚å®é™…ä¸Šï¼Œå§”æ‰˜åœ¨ç¼–è¯‘çš„æ—¶å€™ç¡®å®ä¼šè¢«ç¼–è¯‘æˆç±»ã€‚å› ä¸ºDelegateæ˜¯ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥åœ¨ä»»ä½•å¯ä»¥å£°æ˜ç±»çš„åœ°æ–¹éƒ½å¯ä»¥å£°æ˜å§”æ‰˜ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä»£ç ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">GreetingDelegate</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">EnglishGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Good Morning, &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">ChineseGreeting</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ—©ä¸Šå¥½, &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">GreetPeople</span>(<span class="params"><span class="built_in">string</span> name, GreetingDelegate MakeGreeting</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MakeGreeting(name);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        GreetPeople(<span class="string">&quot;Joe&quot;</span>, EnglishGreeting);</span><br><span class="line">        GreetPeople(<span class="string">&quot;å‘¨æ°ä¼¦&quot;</span>, ChineseGreeting);</span><br><span class="line">        Console.ReadLine();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“åˆæ¸¸æˆå¼€å‘ä¸­çš„å®é™…åº”ç”¨ï¼Œæˆ‘ä»¬ç»å¸¸è®²å§”æ‰˜å’Œå•ä¾‹æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ç­‰è®¾è®¡æ¨¡å¼ç»“åˆåœ¨ä¸€èµ·ä½¿ç”¨ï¼Œä¸‹é¢æˆ‘å°†å°è¯•æŠ½è±¡å‡ºä¸€ä¸ªäº‹ä»¶ä¸­å¿ƒçš„ç±»ï¼Œå®ƒä¸“é—¨è´Ÿè´£å¤„ç†å„ç§å§”æ‰˜äº‹ä»¶ï¼Œç”±äºåœ¨ä¸€ä¸ªæ¸¸æˆè¿›ç¨‹ä¸­åªä¼šæœ‰ä¸€ä¸ª<strong>äº‹ä»¶å¤„ç†ä¸­å¿ƒ</strong>ï¼Œæ‰€ä»¥æˆ‘è¦å°†å®ƒè®¾è®¡æˆ<a href="http://soincredible777.com.cn/posts/279644bd/">å•ä¾‹æ¨¡å¼</a>ã€‚</p><p><strong>æˆ‘ä»¬ç°åœ¨å¯¹å§”æ‰˜åšä¸€ä¸ªæ€»ç»“ï¼šå§”æ‰˜æ˜¯ä¸€ä¸ªç±»ï¼Œå®ƒå®šä¹‰äº†æ–¹æ³•çš„ç±»å‹ï¼Œä½¿å¾—å¯ä»¥å°†æ–¹æ³•ä½œä¸ºå¦ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ¥è¿›è¡Œä¼ é€’ï¼Œè¿™ç§å°†æ–¹æ³•åŠ¨æ€åœ°èµ‹ç»™å‚æ•°çš„åšæ³•ï¼Œå¯ä»¥é¿å…åœ¨ç¨‹åºä¸­å¤§é‡åœ°ä½¿ç”¨if-else(switch)è¯­å¥ï¼ŒåŒæ—¶ä½¿å¾—ç¨‹åºå…·æœ‰æ›´å¥½çš„å¯æ‰©å±•æ€§ã€‚</strong></p><h2 id="å£°æ˜å§”æ‰˜">å£°æ˜å§”æ‰˜</h2><p>å§”æ‰˜å£°æ˜å†³å®šäº†å¯ç”±è¯¥å§”æ‰˜å¼•ç”¨çš„æ–¹æ³•ã€‚å§”æ‰˜å¯æŒ‡å‘ä¸€ä¸ªä¸å…¶å…·æœ‰ç›¸åŒæ ‡ç­¾çš„æ–¹æ³•ã€‚</p><p>å‡è®¾æœ‰ä¸€ä¸ªå§”æ‰˜ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">MyDelegate</span>(<span class="params"><span class="built_in">string</span> s</span>)</span>;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„å§”æ‰˜å¯è¢«ç”¨äºå¼•ç”¨ä»»ä½•ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå•ä¸€çš„stringå‚æ•°çš„æ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ªint ç±»å‹çš„å˜é‡ã€‚</p><p>å£°æ˜å§”æ‰˜çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">delegate</span> &lt;<span class="keyword">return</span> type&gt;&lt;<span class="built_in">delegate</span>-name&gt;&lt;parameter list&gt;</span><br></pre></td></tr></table></figure><h2 id="å®ä¾‹åŒ–å§”æ‰˜">å®ä¾‹åŒ–å§”æ‰˜</h2><p>ä¸€æ—¦å£°æ˜äº†å§”æ‰˜ç±»å‹ï¼Œå§”æ‰˜å¯¹è±¡å°±å¿…é¡»ä½¿ç”¨newå…³é”®å­—æ¥åˆ›å»ºï¼Œå¹¶ä¸”ä¸ä¸€ä¸ªç‰¹å®šçš„æ–¹æ³•æœ‰å…³ï¼Œå½“å§”æ‰˜åˆ›å»ºæ—¶ï¼Œä¼ é€’åˆ°newè¯­å¥çš„å‚æ•°å°±åƒæ–¹æ³•è°ƒç”¨ä¸€æ ·ä¹¦å†™ï¼Œä½†æ˜¯ä¸å¸¦æœ‰å‚æ•°ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">printString</span>(<span class="params"><span class="built_in">string</span> s</span>)</span>;</span><br><span class="line">pringString ps1 = <span class="keyword">new</span> printString(WriteToScreen);</span><br><span class="line">printString ps2 = <span class="keyword">new</span> printString(WriteToFile);</span><br></pre></td></tr></table></figure><p>ä¸‹é¢çš„å®ä¾‹æ¼”ç¤ºäº†å§”æ‰˜çš„å£°æ˜ã€å®ä¾‹åŒ–å’Œä½¿ç”¨ï¼Œè¯¥å§”æ‰˜å¯ç”¨äºå¼•ç”¨å¸¦æœ‰ä¸€ä¸ªæ•´å½¢å‚æ•°çš„æ–¹æ³•ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´å‹å€¼ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Diagnostics;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">NumberChanger</span>(<span class="params"><span class="built_in">int</span> n</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DelegateAppl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">TestDelegate</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">AddNum</span>(<span class="params"><span class="built_in">int</span> p</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            num += p;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">MultNum</span>(<span class="params"><span class="built_in">int</span> q</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            num *= q;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">getNum</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            NumberChanger nc1 = <span class="keyword">new</span> NumberChanger(AddNum);</span><br><span class="line">            NumberChanger nc2 = <span class="keyword">new</span> NumberChanger(MultNum);</span><br><span class="line">            nc1(<span class="number">25</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Value of Num: &#123;0&#125;&quot;</span>, getNum());</span><br><span class="line">            nc2(<span class="number">5</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Value of Num: &#123;0&#125;&quot;</span>, getNum());</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ä¸Šé¢ä»£ç è¢«ç¼–è¯‘å’Œæ‰§è¡Œçš„æ—¶å€™ï¼Œå®ƒä¼šäº§ç”Ÿå¦‚ä¸‹ç»“æœï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Value of Num: 35</span><br><span class="line">Value of Num: 175</span><br></pre></td></tr></table></figure><p><strong>è¡¥å……ï¼š</strong></p><ol><li>å§”æ‰˜é‡Œé¢å­˜å‚¨çš„æ–¹æ³•å¯ä»¥æ˜¯é™æ€æ–¹æ³•ä¹Ÿå¯ä»¥æ˜¯éé™æ€çš„æ–¹æ³•ã€‚</li><li>å½“å£°æ˜çš„å§”æ‰˜åŒ…å«è¿”å›å€¼çš„æ—¶å€™ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨Invokeæ–¹æ³•ï¼Œå¦åˆ™åªä¼šå¾—åˆ°æœ€åä¸€ä¸ªæ–¹æ³•çš„ç»“æœã€‚</li><li>å®šä¹‰å§”æ‰˜ä¸å®šä¹‰æ–¹æ³•ç›¸æ¯”ï¼Œä¸€æ˜¯æ²¡æœ‰æ–¹æ³•ä½“ï¼Œè€Œæ˜¯å¤šç”¨äº†delegateä¿®é¥°ã€‚</li></ol><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">Program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">MyDelegate</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Test1</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a * b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">int</span> <span class="title">Test2</span>(<span class="params"><span class="built_in">int</span> a, <span class="built_in">int</span> b</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Program program = <span class="keyword">new</span> Program();</span><br><span class="line">        MyDelegate myDelegate = <span class="keyword">new</span> MyDelegate(program.Test1);</span><br><span class="line">        myDelegate += program.Test2;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// å°†delegateå­˜æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­æ‰èƒ½ä¾æ¬¡è·å–æ¯ä¸€ä¸ªæ–¹æ³•çš„è¿”å›å€¼ã€‚</span></span><br><span class="line">        Delegate[] delegates = myDelegate.GetInvocationList();</span><br><span class="line">        <span class="keyword">foreach</span> (MyDelegate item <span class="keyword">in</span> delegates)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(item(<span class="number">1</span>, <span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å§”æ‰˜çš„å¤šæ’­-Multicasting-of-a-Delegate">å§”æ‰˜çš„å¤šæ’­(Multicasting of a Delegate)</h2><p>å§”æ‰˜å¯¹è±¡å¯ä»¥ä½¿ç”¨&quot;+â€œè¿ç®—ç¬¦è¿›è¡Œåˆå¹¶ã€‚ä¸€ä¸ªåˆå¹¶å§”æ‰˜è°ƒç”¨å®ƒæ‰€åˆå¹¶çš„ä¸¤ä¸ªå§”æ‰˜ã€‚åªæœ‰ç›¸åŒç±»å‹çš„å§”æ‰˜å¯ä»¥è¢«åˆå¹¶ã€‚â€-&quot;è¿ç®—ç¬¦å¯ç”¨äºä»åˆå¹¶çš„å§”æ‰˜ä¸­ç§»é™¤ç»„ä»¶å§”æ‰˜ã€‚</p><p>ä½¿ç”¨å§”æ‰˜çš„è¿™ä¸ªç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªå§”æ‰˜è¢«è°ƒç”¨æ—¶è¦è°ƒç”¨çš„æ–¹æ³•çš„è°ƒç”¨åˆ—è¡¨ï¼Œè¿™ç§è¡Œä¸ºè¢«ç§°ä¸ºå§”æ‰˜çš„å¤šæ’­(multicasting)ï¼Œä¹Ÿå«ç»„æ’­ã€‚ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†å§”æ‰˜çš„å¤šæ’­ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="built_in">int</span> <span class="title">NumberChanger</span>(<span class="params"><span class="built_in">int</span> n</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DelegateAppl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">testdelegate</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">int</span> num = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">AddNum</span>(<span class="params"><span class="built_in">int</span> p</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            num += p;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">MultNum</span>(<span class="params"><span class="built_in">int</span> q</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            num *= q;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="built_in">int</span> <span class="title">getNum</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            NumberChanger nc;</span><br><span class="line">            NumberChanger nc1 = <span class="keyword">new</span> NumberChanger(AddNum);</span><br><span class="line">            NumberChanger nc2 = <span class="keyword">new</span> NumberChanger(MultNum);</span><br><span class="line"></span><br><span class="line">            nc = nc1;</span><br><span class="line">            nc += nc2;</span><br><span class="line">            nc += AddNum;</span><br><span class="line">            nc(<span class="number">5</span>);</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;Value of Num: &#123;0&#125;&quot;</span>, getNum());</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å§”æ‰˜çš„ç”¨é€”">å§”æ‰˜çš„ç”¨é€”</h2><p>ä¸‹é¢å®é™…æ¼”ç¤ºäº†å§”æ‰˜çš„ç”¨æ³•ï¼Œå§”æ‰˜<code>printString</code>å¯ç”¨äºå¼•ç”¨å¸¦æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¾“å…¥çš„æ–¹æ³•ï¼Œå¹¶ä¸è¿”å›ä»»ä½•ä¸œè¥¿ã€‚</p><p>æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªå§”æ‰˜æ¥è°ƒç”¨ä¸¤ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªæŠŠå­—ç¬¦ä¸²æ‰“å°åˆ°æ§åˆ¶å°ï¼Œç¬¬äºŒä¸ªæŠŠå­—ç¬¦ä¸²æ‰“å°åˆ°æ–‡ä»¶ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.IO;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">DelegateAppl</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title">PrintString</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> FileStream fs;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> StreamWriter sw;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">printString</span>(<span class="params"><span class="built_in">string</span> s</span>)</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">WriteToScreen</span>(<span class="params"><span class="built_in">string</span> str</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;The String is:&#123;0&#125;&quot;</span>, str);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">WriteToFile</span>(<span class="params"><span class="built_in">string</span> s</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            fs = <span class="keyword">new</span> FileStream(<span class="string">&quot;./message.txt&quot;</span>, FileMode.Append, FileAccess.Write);</span><br><span class="line">            sw = <span class="keyword">new</span> StreamWriter(fs);</span><br><span class="line">            sw.WriteLine(s);</span><br><span class="line">            sw.Flush();</span><br><span class="line">            sw.Close();</span><br><span class="line">            fs.Close();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">sendString</span>(<span class="params">printString ps</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            ps(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            printString ps1 = <span class="keyword">new</span> printString(WriteToScreen);</span><br><span class="line">            printString ps2 = <span class="keyword">new</span> printString(WriteToFile);</span><br><span class="line">            sendString(ps1);</span><br><span class="line">            sendString(ps2);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>äº‹ä»¶</h1><p>äº‹ä»¶åŸºæœ¬ä¸Šè¯´æ˜¯ä¸€ä¸ªç”¨æˆ·çš„æ“ä½œï¼Œæ¯”å¦‚æŒ‰é”®ã€ç‚¹å‡»ã€é¼ æ ‡ç§»åŠ¨ç­‰ç­‰ï¼Œæˆ–è€…æ˜¯ä¸€äº›æç¤ºä¿¡æ¯ï¼Œå¦‚ç³»ç»Ÿç”Ÿæˆçš„é€šçŸ¥ã€‚åº”ç”¨ç¨‹åºéœ€è¦åœ¨äº‹ä»¶å‘ç”Ÿæ—¶å“åº”äº‹ä»¶ï¼Œæ¯”å¦‚ä¸­æ–­ã€‚</p><p>C#ä¸­ä½¿ç”¨äº‹ä»¶æœºåˆ¶å®ç°çº¿ç¨‹é—´çš„é€šä¿¡ã€‚</p><p>äº‹ä»¶æ˜¯ä¸€ä¸ªå—é™åˆ¶çš„å§”æ‰˜ï¼Œå…ˆçœ‹å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyDelegate</span>()</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">MyDelegateClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> MyDelegate? myDelegate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (myDelegate != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            myDelegate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MyDelegateClass delegateClass = <span class="keyword">new</span> MyDelegateClass();</span><br><span class="line">        delegateClass.myDelegate += Run;</span><br><span class="line">        delegateClass.myDelegate.Invoke();</span><br><span class="line">        delegateClass.Test();</span><br><span class="line">        delegateClass.myDelegate = <span class="keyword">new</span> MyDelegate(Run);</span><br><span class="line">        delegateClass.myDelegate();</span><br><span class="line"></span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Running.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç è¿è¡Œæ—¶æ²¡æœ‰é—®é¢˜çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬åœ¨MyDelegateClassä¸­å£°æ˜çš„å§”æ‰˜ï¼Œæ—¢å¯ä»¥åœ¨å½“å‰ç±»ä¸­æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥åœ¨å…¶ä»–çš„ç±»ä¸­æ‰§è¡Œï¼Œè¿˜å¯ä»¥åœ¨å…¶ä»–çš„ç±»ä¸­é‡æ–°èµ‹å€¼åå†è¢«è°ƒç”¨æ‰§è¡Œã€‚</p><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹äº‹ä»¶å£°æ˜çš„æƒ…å†µï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyDelegate</span>()</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">MyDelegateClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> MyDelegate? myDelegate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Test</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (myDelegate != <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            myDelegate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Test</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MyDelegateClass delegateClass = <span class="keyword">new</span> MyDelegateClass();</span><br><span class="line">        delegateClass.myDelegate += Run;</span><br><span class="line">        delegateClass.myDelegate.Invoke();</span><br><span class="line">        delegateClass.Test();</span><br><span class="line">        delegateClass.myDelegate = <span class="keyword">new</span> MyDelegate(Run);</span><br><span class="line">        delegateClass.myDelegate();</span><br><span class="line"></span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Running.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œæˆ‘ä»¬çœ‹åˆ°å£°æ˜äº‹ä»¶å…¶å®å°±æ˜¯åœ¨å£°æ˜å§”æ‰˜å˜é‡çš„æ¡ä»¶ä¸‹ï¼Œåªç”¨äº†ä¸ª<code>event</code>ä¿®é¥°è€Œå·²ï¼Œå³<code>myDelegate</code>ç°åœ¨æ˜¯ä¸€ä¸ªäº‹ä»¶å˜é‡ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå§”æ‰˜å˜é‡äº†ï¼Œæˆ‘ä»¬å‘ç°å®ƒä»ç„¶èƒ½åœ¨å½“å‰ç±»ä¸­è¢«æ‰§è¡Œï¼Œä½†æ˜¯åœ¨å¦å¤–çš„ä¸€ä¸ªç±»ä¸­ï¼Œæ—¢ä¸èƒ½è¢«ç›´æ¥è°ƒç”¨æ‰§è¡Œï¼Œä¹Ÿä¸èƒ½è¢«é‡æ–°èµ‹å€¼äº†ï¼Œåªèƒ½é€šè¿‡<code>+=</code>æˆ–è€…<code>-=</code>æ¥å¢å‡å‡½æ•°ï¼Œè¿™å°±æ˜¯äº‹ä»¶å­˜åœ¨çš„å¿…è¦ï¼Œå› ä¸ºäº‹ä»¶çš„è¿™ä¸¤ä¸ªé™åˆ¶æ¡ä»¶ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šä¼šæ›´å®‰å…¨ã€‚</p><p>**ç–‘é—®ï¼š**å¦‚æœæˆ‘åœ¨ç±»ä¸­å£°æ˜äº†ä¸€ä¸ªå§”æ‰˜ï¼Œé‚£ä¹ˆåœ¨å®ä¾‹åŒ–è¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘å¹¶æ²¡æœ‰æ˜¾å¼åœ°ç»™ç»™è¿™ä¸ªå§”æ‰˜èµ‹å€¼ï¼Œ<s>ä¸ºä»€ä¹ˆä¸ä¼šæŠ¥é”™å‘¢</s>ï¼Ÿä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨Mainå‡½æ•°ä¸­å®ä¾‹åŒ–ä¸€ä¸ªå§”æ‰˜ï¼Œä¸ç»™ä»–èµ‹å€¼çš„è¯ï¼Œå°±ä¼šæŠ¥é”™ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</p><p>ä¸‹é¢çš„ä»£ç ç»™å‡ºäº†ç­”æ¡ˆï¼Œä¸Šé¢è¯´çš„ä¸¤ç§æƒ…å†µéƒ½ä¼šæŠ¥é”™çš„ï¼Œä½†æ˜¯åœ¨å®ä¾‹åŒ–å¯¹è±¡çš„æ—¶å€™è¿˜éœ€è¦æ‰‹åŠ¨åœ°åŠ ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶ï¼Œåˆ¤æ–­å®ä¾‹åŒ–çš„å¯¹è±¡ä¸­çš„å§”æ‰˜æ˜¯ä¸æ˜¯ç©ºçš„ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MyDelegate</span>()</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">internal</span> <span class="keyword">class</span> <span class="title">MyDelegateClass</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">protected</span> MyDelegate? myDelegate;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">RegitserDelegate</span>(<span class="params">MyDelegate mmm</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        myDelegate += mmm;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">InvokeDelegate</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (myDelegate == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;å§”æ‰˜æ˜¯ç©ºçš„ï¼ä¸èƒ½è°ƒç”¨ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            myDelegate.Invoke();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Run</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Running.......&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">Func</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MyDelegateClass delegateClass = <span class="keyword">new</span> MyDelegateClass();</span><br><span class="line">        delegateClass.InvokeDelegate();</span><br><span class="line">        MyDelegate mm = <span class="keyword">new</span> MyDelegate(MyDelegateClass.Run);</span><br><span class="line">        delegateClass.RegitserDelegate(mm);</span><br><span class="line">        delegateClass.InvokeDelegate();</span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç ä¸­ç”¨åˆ°äº†ä¸€äº›è®¿é—®ä¿®é¥°ç¬¦</p><ul><li><code>public</code>: å…¬æœ‰è®¿é—®ï¼Œä¸å—ä»»ä½•é™åˆ¶</li><li><code>private</code>: ç§æœ‰è®¿é—®ï¼Œåªé™äºæœ¬ç±»æˆå‘˜è®¿é—®ï¼Œå­ç±»ã€å®ä¾‹éƒ½ä¸èƒ½è®¿é—®</li><li><code>protected</code>: ä¿æŠ¤è®¿é—®ï¼Œåªé™äºæœ¬ç±»å’Œå­ç±»è®¿é—®ï¼Œå®ä¾‹ä¸èƒ½è®¿é—®</li><li><code>internal</code>: å†…éƒ¨è®¿é—®ï¼Œ åªé™äºæœ¬é¡¹ç›®å†…è®¿é—®ï¼Œå…¶ä»–ä¸èƒ½è®¿é—®</li></ul><p>**TIPSï¼š**åœ¨è®¡ç®—æœºç§‘å­¦é¢†åŸŸï¼Œ<code>å£°æ˜(Decalration)</code>æŒ‡çš„æ˜¯å‘ç¼–è¯‘å™¨è¯´æ˜ä¸€ä¸ªå˜é‡æˆ–è€…å‡½æ•°ä¿¡æ¯ï¼ŒåŒ…æ´»ï¼šåå­—ã€ç±»å‹ã€åˆå§‹å€¼ç­‰ç­‰ï¼Œå³å£°æ˜å˜é‡ã€å‡½æ•°çš„å±æ€§ç»†èŠ‚ï¼›è€Œ<code>å®šä¹‰(Definition)</code>åˆ™æŒ‡æ˜å˜é‡ã€å‡½æ•°å­˜å‚¨åœ¨å“ªé‡Œï¼Œå½“å®šä¹‰å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä¸ºå˜é‡æˆ–è€…å‡½æ•°åˆ†é…å†…å­˜å•å…ƒã€‚</p><h2 id="é€šè¿‡äº‹ä»¶ä½¿ç”¨å§”æ‰˜">é€šè¿‡äº‹ä»¶ä½¿ç”¨å§”æ‰˜</h2><p>äº‹ä»¶åœ¨ç±»ä¸­å£°æ˜ä¸”ç”Ÿæˆï¼Œä¸”é€šè¿‡ä½¿ç”¨åŒä¸€ä¸ªç±»æˆ–è€…å…¶ä»–ç±»ä¸­çš„å§”æ‰˜ä¸äº‹ä»¶å¤„ç†ç¨‹åºå…³è”ã€‚åŒ…å«äº‹ä»¶çš„ç±»ç”¨äºå‘å¸ƒäº‹ä»¶ï¼Œå®ƒè¢«ç§°ä¸ºå‘å¸ƒå™¨(publisher)ç±»ã€‚å…¶ä»–æ¥å—è¯¥äº‹ä»¶çš„ç±»è¢«ç§°ä¸ºè®¢é˜…å™¨(subscriber)ç±»ã€‚äº‹ä»¶ä½¿ç”¨å‘å¸ƒ-è®¢é˜…(publisher-subscriber)æ¨¡å‹ã€‚</p><p>å‘å¸ƒå™¨(publisher)æ˜¯ä¸€ä¸ªåŒ…å«äº‹ä»¶å’Œå§”æ‰˜å®šä¹‰çš„å¯¹è±¡ã€‚äº‹ä»¶å’Œå§”æ‰˜ä¹‹é—´çš„è”ç³»ä¹Ÿå®šä¹‰åœ¨è¿™ä¸ªå¯¹è±¡ä¸­ã€‚å‘å¸ƒå™¨ç±»çš„å¯¹è±¡è°ƒç”¨è¿™ä¸ªäº‹ä»¶ï¼Œå¹¶é€šçŸ¥å…¶ä»–çš„å¯¹è±¡ã€‚</p><p>è®¢é˜…å™¨(subscriber)æ˜¯ä¸€ä¸ªæ¥å—äº‹ä»¶å¹¶æä¾›äº‹ä»¶å¤„ç†ç¨‹åºçš„å¯¹è±¡ã€‚åœ¨å‘å¸ƒå™¨ç±»ä¸­çš„å§”æ‰˜è°ƒç”¨è®¢é˜…å™¨ç±»ä¸­ã€‚</p><h2 id="å£°æ˜äº‹ä»¶-Event">å£°æ˜äº‹ä»¶(Event)</h2><p>åœ¨ç±»çš„å†…éƒ¨å£°æ˜äº‹ä»¶ï¼Œé¦–å…ˆå¿…é¡»å£°æ˜è¯¥äº‹ä»¶çš„å§”æ‰˜ç±»å‹ã€‚å¦‚ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">BoilerLogHandler</span>(<span class="params"><span class="built_in">string</span> status</span>)</span>;</span><br></pre></td></tr></table></figure><p>ç„¶åï¼Œå£°æ˜äº‹ä»¶æœ¬èº«ï¼Œä½¿ç”¨eventå…³é”®å­—ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">event</span> BoilerLogHandler BoilerEventLog;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç å®šä¹‰äº†ä¸€ä¸ªåä¸ºBoilerLogHandlerçš„å§”æ‰˜å’Œä¸€ä¸ªåä¸ºBoilerEventLogçš„äº‹ä»¶ï¼Œè¯¥äº‹ä»¶åœ¨ç”Ÿæˆçš„æ—¶å€™ä¼šè°ƒç”¨å§”æ‰˜ã€‚</p><h2 id="å®ä¾‹">å®ä¾‹</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">SimpleEvent</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">/******å‘å¸ƒå™¨ç±»*******/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EventTest</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="built_in">int</span> <span class="keyword">value</span>;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">NumManipulationHandler</span>()</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">event</span> NumManipulationHandler ChangeNum;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">OnNumChanged</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (ChangeNum != <span class="literal">null</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                ChangeNum(); <span class="comment">// äº‹ä»¶è¢«è§¦å‘</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(<span class="string">&quot;Event not fire&quot;</span>);</span><br><span class="line">                Console.ReadKey();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">EventTest</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> n = <span class="number">5</span>;</span><br><span class="line">            SetValue(<span class="number">5</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SetValue</span>(<span class="params"><span class="built_in">int</span> n</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">value</span> != n)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">value</span> = n;</span><br><span class="line">                OnNumChanged();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/********è®¢é˜…å™¨ç±»********/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">subscribEvent</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printf</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;event fire&quot;</span>);</span><br><span class="line">            Console.ReadKey();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/********è§¦å‘********/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MainClass</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            EventTest e = <span class="keyword">new</span> EventTest(); <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡ï¼Œç¬¬ä¸€æ¬¡æ²¡æœ‰è§¦å‘äº‹ä»¶</span></span><br><span class="line">            subscribEvent v = <span class="keyword">new</span> subscribEvent();</span><br><span class="line">            e.ChangeNum += <span class="keyword">new</span> EventTest.NumManipulationHandler(v.printf); <span class="comment">// æ³¨å†Œ</span></span><br><span class="line">            e.SetValue(<span class="number">7</span>);</span><br><span class="line">            e.SetValue(<span class="number">11</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å°æ•…äº‹ï¼š">å°æ•…äº‹ï¼š</h2><p>æ›¾ç».NETåªæœ‰ä¸€ä¸ªDelegateï¼Œåˆ«äººæƒ³è¦ä½¿ç”¨å§”æ‰˜çš„æ—¶å€™ï¼Œå¿…é¡»ä½¿ç”¨delegateå…³é”®å­—æ¥å®šä¹‰ä¸€ä¸ªå§”æ‰˜ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€ä¸ªå¼Šç«¯ï¼Œé‚£å°±æ˜¯delegateå¯ä»¥ä½¿ç”¨<code>=</code>å°†æ‰€æœ‰å·²ç»è®¢é˜…çš„å–æ¶ˆï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨<code>+</code>å’Œ<code>-</code>å¯¹è®¢é˜…è¿›è¡Œåˆå¹¶å’Œåˆ é™¤ï¼Œåªä¿ç•™<code>=</code>ä¹‹åçš„æ–°çš„è®¢é˜…ï¼Œè¿™å°±ç»™äº†çŠ¯ç½ªåˆ†å­å¯ä¹˜ä¹‹æœºã€‚æ‰€ä»¥eventåº”è¿è€Œç”Ÿï¼Œeventæ˜¯ä¸€ç§ç‰¹æ®Šçš„å§”æ‰˜ï¼Œå®ƒåªèƒ½ä½¿ç”¨<code>+=</code>ã€<code>-=</code>ï¼Œè€Œä¸èƒ½ç›´æ¥ä½¿ç”¨<code>=</code>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œeventåœ¨å®šä¹‰ç±»ï¼ˆå‘å¸ƒè€…ï¼‰ä¸­æ˜¯å¯ä»¥ç›´æ¥<code>=</code>çš„ï¼Œä½†æ˜¯åœ¨å…¶ä»–ç±»ä¸­ï¼ˆè®¢é˜…è€…ï¼‰å°±åªèƒ½ä½¿ç”¨<code>+=</code>ã€<code>-=</code>äº†ï¼Œä¹Ÿå°±æ˜¯è¯´å‘å¸ƒè€…å‘å¸ƒäº†ä¸€ä¸ªäº‹ä»¶ä¹‹åï¼Œè®¢é˜…è€…é’ˆå¯¹ä»–åªèƒ½è¿›è¡Œè‡ªèº«çš„è®¢é˜…å’Œå–æ¶ˆã€‚ä½†æ˜¯åœ¨äº‹ä»¶å‘å¸ƒå’Œè®¢é˜…çš„è¿‡ç¨‹ä¸­ï¼Œå®šä¹‰äº‹ä»¶çš„åŸå‹å§”æ‰˜ç±»å‹å¸¸å¸¸æ˜¯ä¸€ä»¶é‡å¤æ€§çš„å·¥ä½œã€‚æ‰€ä»¥<code>Event Handler</code>åº”è¿è€Œç”Ÿï¼Œå®ƒçš„å‡ºç°å°±æ˜¯ä¸ºäº†é¿å…è¿™ç§é‡å¤æ€§çš„å·¥ä½œï¼Œå¹¶å»ºè®®å°½é‡ä½¿ç”¨è¯¥ç±»å‹ä½œä¸ºäº‹ä»¶çš„åŸå‹ã€‚</p><p>ä¸‹é¢æ˜¯EvenHandlerçš„å®ä¾‹ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">TeacherArgs</span> : <span class="title">EventArgs</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> EventHandler acthandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è€å¸ˆæ¥äº†&quot;</span>);</span><br><span class="line">        TeacherArgs args = <span class="keyword">new</span> TeacherArgs() &#123; Name = Name &#125;;</span><br><span class="line">        acthandler(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">HeadArgs</span> : <span class="title">EventArgs</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> MedalCount &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Headmaster</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span> MedalCount;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> EventHandler actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Headmaster</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        MedalCount = medalCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿æ¥äº†&quot;</span>);</span><br><span class="line">        HeadArgs args = <span class="keyword">new</span> HeadArgs() &#123; Name = Name, MedalCount = MedalCount &#125;;</span><br><span class="line">        actHandler(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Teacher</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        TeacherArgs args = e <span class="keyword">as</span> TeacherArgs;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½ï¼&quot;</span>, args.Name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Master</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        HeadArgs args = e <span class="keyword">as</span> HeadArgs;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½&quot;</span>, args.Name);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿è·å¥–æ•°ä¸ºï¼š&#123;0&#125;&quot;</span>, args.MedalCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Monitor</span>(<span class="params"><span class="built_in">object</span> sender, EventArgs e</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        MonitorArgs args = e <span class="keyword">as</span> MonitorArgs;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å‚æ•°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MonitorArgs</span> : <span class="title">EventArgs</span></span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Monitor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> EventHandler actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆå‚æ•°éƒ½æ²¡æœ‰&quot;</span>);</span><br><span class="line">        MonitorArgs args = <span class="keyword">new</span> MonitorArgs() &#123; &#125;;</span><br><span class="line">        actHandler(<span class="literal">null</span>, args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Students students = <span class="keyword">new</span> Students();</span><br><span class="line">        Headmaster headmaster = <span class="keyword">new</span> Headmaster(<span class="string">&quot;å­™æ ¡é•¿&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;åˆ˜è€å¸ˆ&quot;</span>);</span><br><span class="line">        Monitor monitor = <span class="keyword">new</span> Monitor();</span><br><span class="line">        headmaster.actHandler += students.Action_Master;</span><br><span class="line">        teacher.acthandler += students.Action_Teacher;</span><br><span class="line">        monitor.actHandler += students.Action_Monitor;</span><br><span class="line">        teacher.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        headmaster.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        monitor.Come();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>**æ€»ç»“ï¼š**ä½¿ç”¨EventHandlerå¯ä»¥</p><ol><li>æ ‡å‡†åŒ–</li><li>å¯ä»¥çœç•¥å®šä¹‰å§”æ‰˜è¿™ä¸€æ­¥ï¼Œä¸å¿…å®šä¹‰å¤šä¸ªä¸åŒç±»å‹çš„å§”æ‰˜</li><li>æ­é…EventArgsï¼Œå¯ä»¥ä¼ é€’å¤šä¸ªä¿¡æ¯</li></ol><p>ä¸‹é¢çš„ä»£ç æ˜¯ä¸ä½¿ç”¨EventHandlerçš„å®ç°ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Diagnostics.Metrics;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">TeacherDelegate</span>(<span class="params"><span class="built_in">string</span> name</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">HeadMasterDelegate</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">MonitorDelegate</span>()</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> TeacherDelegate acthandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è€å¸ˆæ¥äº†&quot;</span>);</span><br><span class="line">        acthandler(Name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Headmaster</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> MedalCount;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> HeadMasterDelegate actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Headmaster</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        MedalCount = medalCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿æ¥äº†&quot;</span>);</span><br><span class="line">        actHandler(Name, MedalCount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Monitor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">event</span> MonitorDelegate actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆå‚æ•°éƒ½æ²¡æœ‰&quot;</span>);</span><br><span class="line">        actHandler();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½ï¼&quot;</span>, name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Master</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½&quot;</span>, name);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿è·å¥–æ•°ä¸ºï¼š&#123;0&#125;&quot;</span>, medalCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Monitor</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å‚æ•°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Students students = <span class="keyword">new</span> Students();</span><br><span class="line">        Headmaster headmaster = <span class="keyword">new</span> Headmaster(<span class="string">&quot;å­™æ ¡é•¿&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;åˆ˜è€å¸ˆ&quot;</span>);</span><br><span class="line">        Monitor monitor = <span class="keyword">new</span> Monitor();</span><br><span class="line">        headmaster.actHandler += students.Action_Master;</span><br><span class="line">        teacher.acthandler += students.Action_Teacher;</span><br><span class="line">        monitor.actHandler += students.Action_Monitor;</span><br><span class="line">        teacher.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        headmaster.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        monitor.Come();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»§ç»­å›åˆ°å°æ•…äº‹ï¼šåœ¨è¿™ä¸ªæ•…äº‹ä¸­ï¼ŒDelegateæ˜¯è€å¤§å“¥ï¼Œä½†æ˜¯EventHandleræ˜¯eventçš„å°å¼Ÿï¼Œè€å¤§å“¥ä¸å¤ªé«˜å…´äº†ï¼Œè¯´æˆ‘ä¹Ÿè¦æœ‰å°å¼Ÿï¼Œä½†æ›´é‡è¦çš„åŸå› æ˜¯æ¯æ¬¡å®šä¹‰Delegateä¹Ÿæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œæ‰€ä»¥Actionåº”è¿è€Œç”Ÿï¼ŒActionæ˜¯ç³»ç»Ÿé¢„å®šä¹‰çš„ä¸€ç§å§”æ‰˜ï¼Œæ²¡æœ‰<strong>è¿”å›å€¼</strong>ï¼Œå‚æ•°åœ¨<code>&lt;&gt;</code>ä¸­ä¼ å…¥ï¼Œä¸‹é¢å°±æ˜¯ä½¿ç”¨Actionçš„æ–¹æ³•æ¥å®ç°ä¸Šé¢çš„ä»£ç ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Action&lt;<span class="built_in">string</span>&gt; acthandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è€å¸ˆæ¥äº†&quot;</span>);</span><br><span class="line">        acthandler(Name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Headmaster</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> MedalCount;</span><br><span class="line">    <span class="keyword">public</span> Action&lt;<span class="built_in">string</span>, <span class="built_in">int</span>&gt; actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Headmaster</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        MedalCount = medalCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿æ¥äº†&quot;</span>);</span><br><span class="line">        actHandler(Name, MedalCount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Monitor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Action actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆå‚æ•°éƒ½æ²¡æœ‰&quot;</span>);</span><br><span class="line">        actHandler();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½ï¼&quot;</span>, name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Master</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½&quot;</span>, name);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿è·å¥–æ•°ä¸ºï¼š&#123;0&#125;&quot;</span>, medalCount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Action_Monitor</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å‚æ•°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Students students = <span class="keyword">new</span> Students();</span><br><span class="line">        Headmaster headmaster = <span class="keyword">new</span> Headmaster(<span class="string">&quot;å­™æ ¡é•¿&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;åˆ˜è€å¸ˆ&quot;</span>);</span><br><span class="line">        Monitor monitor = <span class="keyword">new</span> Monitor();</span><br><span class="line">        headmaster.actHandler += students.Action_Master;</span><br><span class="line">        teacher.acthandler += students.Action_Teacher;</span><br><span class="line">        monitor.actHandler += students.Action_Monitor;</span><br><span class="line">        teacher.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        headmaster.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        monitor.Come();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‹é¢è¿™æ®µä»£ç æ˜¯ç”¨Funcçš„æ–¹å¼å®ç°çš„ï¼ŒFun<code>&lt;&gt;</code>ä¸­æ¯”æ³¨å†Œçš„å‡½æ•°çš„å‚æ•°å¤š1ä¸ªï¼Œæœ€åä¸€ä¸ªæ˜¯å‚æ•°æ˜¯å‡½æ•°çš„è¿”å›ç±»å‹ã€‚</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Teacher</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Func&lt;<span class="built_in">string</span>, <span class="built_in">bool</span>&gt; acthandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;è€å¸ˆæ¥äº†&quot;</span>);</span><br><span class="line">        acthandler(Name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Headmaster</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">string</span> Name;</span><br><span class="line">    <span class="keyword">private</span> <span class="built_in">int</span> MedalCount;</span><br><span class="line">    <span class="keyword">public</span> Func&lt;<span class="built_in">string</span>, <span class="built_in">int</span>, <span class="built_in">bool</span>&gt; actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Headmaster</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Name = name;</span><br><span class="line">        MedalCount = medalCount;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿æ¥äº†&quot;</span>);</span><br><span class="line">        actHandler(Name, MedalCount);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Monitor</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Func&lt;<span class="built_in">bool</span>&gt; actHandler;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Come</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯ä»€ä¹ˆå‚æ•°éƒ½æ²¡æœ‰&quot;</span>);</span><br><span class="line">        actHandler();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Students</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Action_Teacher</span>(<span class="params"><span class="built_in">string</span> name</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½ï¼&quot;</span>, name);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Action_Master</span>(<span class="params"><span class="built_in">string</span> name, <span class="built_in">int</span> medalCount</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;å…¨ä½“èµ·ç«‹ï¼Œå–Šï¼š&#123;0&#125;å¥½&quot;</span>, name);</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ ¡é•¿è·å¥–æ•°ä¸ºï¼š&#123;0&#125;&quot;</span>, medalCount);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">Action_Monitor</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç­é•¿æ¥äº†ï¼Œä½†æ˜¯æ²¡æœ‰ä»»ä½•å‚æ•°&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title">program</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Students students = <span class="keyword">new</span> Students();</span><br><span class="line">        Headmaster headmaster = <span class="keyword">new</span> Headmaster(<span class="string">&quot;å­™æ ¡é•¿&quot;</span>, <span class="number">10</span>);</span><br><span class="line">        Teacher teacher = <span class="keyword">new</span> Teacher(<span class="string">&quot;åˆ˜è€å¸ˆ&quot;</span>);</span><br><span class="line">        Monitor monitor = <span class="keyword">new</span> Monitor();</span><br><span class="line">        headmaster.actHandler += students.Action_Master;</span><br><span class="line">        teacher.acthandler += students.Action_Teacher;</span><br><span class="line">        monitor.actHandler += students.Action_Monitor;</span><br><span class="line">        teacher.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        headmaster.Come();</span><br><span class="line"></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        monitor.Come();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>å†™ä¸€ä¸ªå¸¦æœ‰äº‹ä»¶ä¸­å¿ƒçš„å‘å¸ƒã€è®¢é˜…ç³»ç»Ÿ</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Runtime.CompilerServices;</span><br><span class="line"><span class="keyword">using</span> Microsoft.VisualBasic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">PlayerState</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayerDeath</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç©å®¶æ­»äº¡ï¼å‘äº‹ä»¶ä¸­å¿ƒå‘é€æ¶ˆæ¯ï¼&quot;</span>);</span><br><span class="line">        MessageCenter.Instance.SendMessage();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AudioManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> AudioManager Instance = <span class="keyword">new</span> AudioManager();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">AudioManager</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æˆ‘æ˜¯AudioManagerï¼Œæˆ‘å·²ç»åˆ›å»ºå®Œæ¯•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">PlayDeathAudio</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æ‰§è¡Œæ­»äº¡éŸ³æ•ˆ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DataManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> DataManager Instance = <span class="keyword">new</span> DataManager();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">DataManager</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æˆ‘æ˜¯DataManagerï¼Œæˆ‘å·²ç»åˆ›å»ºå®Œæ¯•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">ResetData</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç©å®¶æ­»äº¡ï¼Œæ‰§è¡Œæ•°æ®é‡åˆ¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">EnenyManager</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> EnenyManager Instance = <span class="keyword">new</span> EnenyManager();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">EnenyManager</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æˆ‘æ˜¯EnemyManagerï¼Œæˆ‘å·²ç»åˆ›å»ºå®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">EnemyVictory</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;ç©å®¶æ­»äº¡ï¼Œæ•Œäººèƒœåˆ©ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MessageCenter</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œæ˜¯äº‹ä»¶ä¸­å¿ƒï¼Œå¤„ç†æ¸¸æˆä¸­å„ç±»äº‹ä»¶</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> MessageCenter Instance = <span class="keyword">new</span> MessageCenter();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">MessageCenter</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// æ„é€ å‡½æ•°ä½¿ç”¨privateå…³é”®å­—å°±å¯ä»¥é¿å…åœ¨åˆ«çš„ç±»ä¸­ä½¿ç”¨newå®ä¾‹åŒ–å¯¹è±¡äº†</span></span><br><span class="line">        Console.WriteLine(<span class="string">&quot;æˆ‘æ˜¯äº‹ä»¶ä¸­å¿ƒï¼Œæˆ‘å·²ç»åˆå§‹åŒ–å®Œæˆï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">delegate</span> <span class="keyword">void</span> <span class="title">PlayerDeathDelegate</span>()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> PlayerDeathDelegate DeathDelegate;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">SendMessage</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (DeathDelegate == <span class="literal">null</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">&quot;å§”æ‰˜æ˜¯ç©ºçš„ï¼æ²¡æœ‰ä»€ä¹ˆå¥½æ‰§è¡Œçš„ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            DeathDelegate.Invoke();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">PlayerDeathDelegate deathDelegate</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        DeathDelegate += deathDelegate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">GameStart</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="function"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Main</span>(<span class="params"><span class="built_in">string</span>[] args</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        PlayerState player = <span class="keyword">new</span> PlayerState();</span><br><span class="line">        <span class="comment">// æ¸¸æˆå¼€å§‹åè¦å…ˆå°†å‡½æ•°æ³¨å†Œåˆ°äº‹ä»¶ä¸­å¿ƒå»</span></span><br><span class="line">        MessageCenter.Instance.Register(AudioManager.Instance.PlayDeathAudio);</span><br><span class="line">        MessageCenter.Instance.Register(DataManager.Instance.ResetData);</span><br><span class="line">        MessageCenter.Instance.Register(EnenyManager.Instance.EnemyVictory);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        player.PlayerDeath();</span><br><span class="line"></span><br><span class="line">        Console.ReadKey();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢çš„ä»£ç è¿˜ä¸å¤Ÿå®Œå–„ï¼Œæ¯”å¦‚ç°åœ¨åªæ˜¯å¤„ç†äº†ç©å®¶æ­»äº¡è¿™ä¸€ç§äº‹ä»¶ï¼Œé‚£å¦‚ä½•å¤„ç†ç©å®¶å…¶ä»–çŠ¶æ€çš„äº‹ä»¶å‘¢ï¼Ÿè¿˜æœ‰å¦‚æœä¸æ˜¯ç©å®¶ï¼Œæ˜¯åˆ«çš„ä»€ä¹ˆæ¯”å¦‚å®ç‰©ã€ä½¿ç”¨è¯æ°´ç­‰ç­‰å„ç§çš„å§”æ‰˜ï¼Œè¯¥æ€ä¹ˆå®ç°ï¼Ÿè¿™éƒ½æ˜¯åè¯äº†ï¼Œå§”æ‰˜çš„å­¦ä¹ åˆ°æ­¤å¯ä»¥å…ˆå‘Šä¸€æ®µè½äº†ã€‚</p><h1>é¡¹ç›®ä¸­çš„æŒ‰é’®å“åº”ç‚¹å‡»äº‹ä»¶çš„æ–¹æ³•</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"><span class="keyword">using</span> UnityEngine.UI;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ButtonUI</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> Button btn;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Collections;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> UI.Extension;</span><br><span class="line"><span class="keyword">using</span> UnityEngine;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">ButtonPage</span> : <span class="title">MonoBehaviour</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> ButtonUI _ui;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Start is called before the first frame update</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        _ui = gameObject.GetComponent&lt;ButtonUI&gt;();</span><br><span class="line">        _ui.btn.onClick.AddListener(OnBtnClicked);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">OnBtnClicked</span>()</span></span><br><span class="line">    &#123;</span><br><span class="line">        Debug.Log(<span class="string">&quot;æˆ‘è¢«ç‚¹å‡»äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;å§”æ‰˜&lt;/h1&gt;
&lt;p&gt;ä¸€ç¯‡å¾ˆå¥½çš„åšå®¢https://www.cnblogs.com/skysoot/archive/2012/04/05/2433639.html&lt;/p&gt;
&lt;p&gt;C#ä¸­çš„å§”æ‰˜ç±»ä¼¼äºCæˆ–C++ä¸­çš„å‡½æ•°æŒ‡é’ˆã€‚å§”æ‰˜æ˜¯å­˜æœ‰å¯¹æŸä¸ªæ–¹æ³•çš„å¼•ç”¨çš„ä¸€ç§å¼•ç”¨ç±»å‹å˜é‡ï¼Œå¼•ç”¨å¯</summary>
      
    
    
    
    
  </entry>
  
</feed>
