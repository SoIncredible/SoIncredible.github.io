<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>EddieLee</title>
  
  <subtitle>to infinity and beyondâœ¨ğŸ›¸.</subtitle>
  <link href="https://soincredible.github.io/atom.xml" rel="self"/>
  
  <link href="https://soincredible.github.io/"/>
  <updated>2025-10-09T01:58:44.715Z</updated>
  <id>https://soincredible.github.io/</id>
  
  <author>
    <name>Eddie Lee</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>éšè®°</title>
    <link href="https://soincredible.github.io/posts/f211d1c6/"/>
    <id>https://soincredible.github.io/posts/f211d1c6/</id>
    <published>2025-10-06T02:47:10.000Z</published>
    <updated>2025-10-09T01:58:44.715Z</updated>
    
    <content type="html"><![CDATA[<p>çˆ¶äº²è¿‡åˆ†åœ°å¤¸å¤§äº†äººé™…å…³ç³»åœ¨äººäº‹ä¸šä¸­çš„å æ¯”, å¯æ˜¯ä¸ªäººèƒ½åŠ›æ‰æ˜¯ä¸€åˆ‡çš„åŸºç¡€, å³ä½¿æœ‰è´µäººç›¸åŠ©, æ²¡æœ‰èƒ½åŠ›, æœºä¼šæ¥äº†, è´µäººä¹Ÿæ²¡åŠæ³•æŠŠä½ æ‰˜ä¸¾ä¸Šå».</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;çˆ¶äº²è¿‡åˆ†åœ°å¤¸å¤§äº†äººé™…å…³ç³»åœ¨äººäº‹ä¸šä¸­çš„å æ¯”, å¯æ˜¯ä¸ªäººèƒ½åŠ›æ‰æ˜¯ä¸€åˆ‡çš„åŸºç¡€, å³ä½¿æœ‰è´µäººç›¸åŠ©, æ²¡æœ‰èƒ½åŠ›, æœºä¼šæ¥äº†, è´µäººä¹Ÿæ²¡åŠæ³•æŠŠä½ æ‰˜ä¸¾ä¸Šå».&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>3Dæ•°å­¦åŸºç¡€â€”â€”çº¿æ€§ä»£æ•°çš„èµ·æº</title>
    <link href="https://soincredible.github.io/posts/f9ac7a69/"/>
    <id>https://soincredible.github.io/posts/f9ac7a69/</id>
    <published>2025-09-30T03:28:57.000Z</published>
    <updated>2025-10-10T08:34:08.381Z</updated>
    
    <content type="html"><![CDATA[<p>çº¿æ€§ä»£æ•°èµ·æºäºå¯¹çº¿æ€§æ–¹ç¨‹ç»„çš„åˆ†æ, å¤„ç†ç©ºé—´ä¸­çš„å˜æ¢å°±æ˜¯åœ¨è§£çº¿æ€§æ–¹ç¨‹ç»„. ç©ºé—´ä¸­çš„ä»»æ„ç‚¹$(x, y, z)$, ç»è¿‡ä»»æ„æ“ä½œAå˜æ¢æˆ$(x_1, y_1, z_1)$, é‚£ä¹ˆæ“ä½œAå¯ä»¥é€šè¿‡ä¸€ä¸ªçŸ©é˜µæ¥æè¿°.</p><p>æ“ä½œçš„åˆ†ç±»</p><p>æ—‹è½¬<br>å¹³ç§»<br>ç¼©æ”¾<br>é”™åˆ‡<br>åå°„</p><h1>ä½¿ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„</h1><p>ä½¿ç”¨çŸ©é˜µè¡¨ç¤ºæ—‹è½¬, åœ¨ä¸‰ç»´ç©ºé—´çš„å·¦æ‰‹åæ ‡ç³»ä¸­, ä»¥ç»•ç€yè½´é¡ºæ—¶é’ˆæ—‹è½¬$\theta$åº¦, æ³¨æ„å·¦æ‰‹ç³»ä¸­, é¡ºæ—¶é’ˆæ—‹è½¬ä¸ºæ­£å‘æ—‹è½¬. æ¥æ„å»ºæ–¹ç¨‹ç»„<br>è®¾ç‚¹$P_1(x_1, y_1, z_1)$, ç»è¿‡ä¸Šè¿°æ‰€è¯´çš„æ—‹è½¬çŸ©é˜µM, æ—‹è½¬åˆ°$P_2(x_2, y_2, z_2)$, $P_1$ã€$P_2$å·²çŸ¥, æ±‚æ—‹è½¬çŸ©é˜µM.</p><p>æ„å»ºæ–¹ç¨‹ç»„<br>å·²çŸ¥å‘é‡$\vec{OP_1}$ã€$\vec{OP_2}$<br>æ ¹æ®å‘é‡å†…ç§¯(ç‚¹ç§¯)<br>$$ \vec{OP_1} \cdot \vec{OP_2} = |\vec{OP_1}||\vec{OP_2}|cos\theta $$<br>æ ¹æ®å‘é‡å¤–ç§¯(å‰ç§¯)<br>$$ \begin{bmatrix}<br>x_1\<br>y_1\<br>z_1<br>\end{bmatrix}^T<br>\times<br>\begin{bmatrix}<br>x_2\<br>y_2\<br>z_2<br>\end{bmatrix}^T<br>= \begin{bmatrix}<br>y_1z_2 - z_1y_2\<br>z_1x_2 - x_1z_2\<br>x_1y_2 - y_1x_2<br>\end{bmatrix}^T<br>$$</p><h1>å‚è€ƒèµ„æ–™</h1><p><a href="https://www.ebsco.com/research-starters/mathematics/linear-algebra">Linear algebra</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;çº¿æ€§ä»£æ•°èµ·æºäºå¯¹çº¿æ€§æ–¹ç¨‹ç»„çš„åˆ†æ, å¤„ç†ç©ºé—´ä¸­çš„å˜æ¢å°±æ˜¯åœ¨è§£çº¿æ€§æ–¹ç¨‹ç»„. ç©ºé—´ä¸­çš„ä»»æ„ç‚¹$(x, y, z)$, ç»è¿‡ä»»æ„æ“ä½œAå˜æ¢æˆ$(x_1, y_1, z_1)$, é‚£ä¹ˆæ“ä½œAå¯ä»¥é€šè¿‡ä¸€ä¸ªçŸ©é˜µæ¥æè¿°.&lt;/p&gt;
&lt;p&gt;æ“ä½œçš„åˆ†ç±»&lt;/p&gt;
&lt;p&gt;æ—‹è½¬&lt;br&gt;
å¹³ç§»&lt;br&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>æ¸¸æˆå¼€å‘ä¸­çš„è®¾è®¡æ¨¡å¼â€”â€”åŒç¼“å†²</title>
    <link href="https://soincredible.github.io/posts/2c673fe4/"/>
    <id>https://soincredible.github.io/posts/2c673fe4/</id>
    <published>2025-09-24T08:03:41.000Z</published>
    <updated>2025-09-30T10:09:01.240Z</updated>
    
    <content type="html"><![CDATA[<p>åŒç¼“å†²çš„å…³é”®æ˜¯, å¯¹å¤–éƒ¨çš„ä½¿ç”¨è€…æ¥è¯´, å¤–éƒ¨ä½¿ç”¨è€…æ°¸è¿œéƒ½æ˜¯å’Œbuffer1è¿›è¡Œæ²Ÿé€š, buffer2ä¸ä¼šæš´éœ²åœ¨å¤–éƒ¨.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åŒç¼“å†²çš„å…³é”®æ˜¯, å¯¹å¤–éƒ¨çš„ä½¿ç”¨è€…æ¥è¯´, å¤–éƒ¨ä½¿ç”¨è€…æ°¸è¿œéƒ½æ˜¯å’Œbuffer1è¿›è¡Œæ²Ÿé€š, buffer2ä¸ä¼šæš´éœ²åœ¨å¤–éƒ¨.&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>ç»æµå­¦</title>
    <link href="https://soincredible.github.io/posts/d315c0a7/"/>
    <id>https://soincredible.github.io/posts/d315c0a7/</id>
    <published>2025-09-17T07:03:52.000Z</published>
    <updated>2025-09-30T10:09:01.241Z</updated>
    
    <content type="html"><![CDATA[<p>æˆ‘ä»¬æƒ³èµšçš„ä¸æ˜¯é’±æœ¬èº«, è€Œæ˜¯é’±èƒŒåçš„ä¸œè¥¿: èµ„æºã€äº§å“å’ŒæœåŠ¡</p><p>é“¶è¡Œçš„å‚¨è“„ä½, å°±éœ€è¦é¼“åŠ±æ°‘ä¼—å­˜é’±, å°±å¾—æé«˜å‚¨è“„çš„åˆ©ç‡, å› ä¸ºé“¶è¡Œæœ¬èº«å‚¨è“„å°±ä½, å€Ÿè´·ç»™åˆ›ä¸šè€…çš„é’±å°±å°‘, æŠ—é£é™©èƒ½åŠ›ä½, å¹¶ä¸”é“¶è¡Œéœ€è¦è¦æ±‚åˆ›ä¸šè€…è¿”è¿˜è´·æ¬¾çš„åˆ©æ¯ä¹Ÿå°±æ›´é«˜äº†.<br>é“¶è¡Œå‚¨è“„é«˜, å°±éœ€è¦é¼“åŠ±æ°‘ä¼—æŠ•èµ„, é™ä½å‚¨è“„çš„åˆ©ç‡, ä»è€Œé™ä½æ°‘ä¼—çš„å‚¨è“„æ„æ„¿. å€Ÿè´·ç»™åˆ›ä¸šè€…çš„é’±å°±å¤š, æŠ—é£é™©èƒ½åŠ›é«˜, é“¶è¡Œéœ€è¦è¦æ±‚åˆ›ä¸šè€…è¿”è¿˜è´·æ¬¾çš„åˆ©æ¯ä¹Ÿå°±æ›´ä½äº†.</p><p>ç”Ÿäº§åŠ›çš„æé«˜æ˜¯é€šè´§ç´§ç¼©çš„å……åˆ†ä¸å¿…è¦æ¡ä»¶, å‰ææ˜¯è´§å¸ä¾›åº”é‡ä¸å˜ã€ç¤¾ä¼šæ€»éœ€æ±‚ä¸å˜, è´§å¸çš„ä¾›åº”é‡å˜å°, å˜ç›¸å¾—è®©è´§å¸çš„è´­ä¹°åŠ›æå‡äº†, æ‰€ä»¥ä¹Ÿä¼šé€ æˆé€šè´§ç´§ç¼©</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;æˆ‘ä»¬æƒ³èµšçš„ä¸æ˜¯é’±æœ¬èº«, è€Œæ˜¯é’±èƒŒåçš„ä¸œè¥¿: èµ„æºã€äº§å“å’ŒæœåŠ¡&lt;/p&gt;
&lt;p&gt;é“¶è¡Œçš„å‚¨è“„ä½, å°±éœ€è¦é¼“åŠ±æ°‘ä¼—å­˜é’±, å°±å¾—æé«˜å‚¨è“„çš„åˆ©ç‡, å› ä¸ºé“¶è¡Œæœ¬èº«å‚¨è“„å°±ä½, å€Ÿè´·ç»™åˆ›ä¸šè€…çš„é’±å°±å°‘, æŠ—é£é™©èƒ½åŠ›ä½, å¹¶ä¸”é“¶è¡Œéœ€è¦è¦æ±‚åˆ›ä¸šè€…è¿”è¿˜è´·æ¬¾çš„åˆ©æ¯ä¹Ÿå°±æ›´é«˜äº†.&lt;br&gt;
é“¶è¡Œå‚¨è“„é«˜, å°±</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>CSharpä¸­çš„GC</title>
    <link href="https://soincredible.github.io/posts/aa627dfb/"/>
    <id>https://soincredible.github.io/posts/aa627dfb/</id>
    <published>2025-09-17T01:59:42.000Z</published>
    <updated>2025-09-30T10:09:01.239Z</updated>
    
    <content type="html"><![CDATA[<h1>åŸºäºä»£çš„åƒåœ¾å›æ”¶æœºåˆ¶</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;åŸºäºä»£çš„åƒåœ¾å›æ”¶æœºåˆ¶&lt;/h1&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è¿·æ€â€”â€”å¼‚æ­¥</title>
    <link href="https://soincredible.github.io/posts/519cf715/"/>
    <id>https://soincredible.github.io/posts/519cf715/</id>
    <published>2025-09-16T09:43:11.000Z</published>
    <updated>2025-09-30T10:09:01.241Z</updated>
    
    <content type="html"><![CDATA[<p>ä»£ç æ˜¯çœŸçš„è¦å»å†™æ‰èƒ½æœ‰æ·±åˆ»ä½“ä¼š</p><h1>çœ‹ä¸¤ä¸ªUnityçš„å¼‚æ­¥æ¥å£</h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> IEnumerator <span class="title">LoadSceneAsync</span>(<span class="params"><span class="built_in">string</span> sceneName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> YooAssets.LoadSceneAsync(sceneName);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">LoadSceneAsync</span>(<span class="params"><span class="built_in">string</span> sceneName</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> handle = YooAssets.LoadSceneAsync(sceneName);</span><br><span class="line">    GameManager.Instance.StartCoroutine(handle);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»¥ä¸Šå“ªç§æ˜¯çœŸæ­£çš„å¼‚æ­¥å‘¢? æ‰€è°“å¼‚æ­¥, æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£: æˆ‘åœ¨ä¸€æ®µä¸šåŠ¡ä»£ç ä¸­, æœ‰æ“ä½œAã€Bã€Cã€D, å…¶ä¸­æ“ä½œBæœ‰å¯èƒ½ååˆ†è€—æ—¶, è€Œä¸” Aã€Bã€Cã€Dä¹‹é—´æ²¡æœ‰ä»»ä½•çš„ä¾èµ–å…³ç³», é‚£ä¹ˆæˆ‘ä»¬è‚¯å®šæ˜¯å¸Œæœ›è¿™æ®µé€»è¾‘è¶Šå¿«æ‰§è¡Œå®Œè¶Šå¥½.</p><p>å¼‚æ­¥çš„é¡¶å±‚è¦ç”±StartCoroutineç»ˆç»“, å“ªé‡Œè°ƒç”¨äº†StartCoroutine, å“ªé‡Œå°±æ˜¯çœŸæ­£å¼‚æ­¥æ“ä½œçš„å…¥å£. ä»¥æ­¤ç±»æ¨ åœ¨async/awaitç¼–ç¨‹æ¨¡å‹ä¸­, å“ªé‡Œè°ƒç”¨äº†Task.Start, å“ªé‡Œæ‰æ˜¯å¼‚æ­¥çœŸæ­£çš„å…¥å£<br>UniTaskä¸­çš„ç»ˆç»“æ˜¯åœ¨å“ªé‡Œ?</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ä»£ç æ˜¯çœŸçš„è¦å»å†™æ‰èƒ½æœ‰æ·±åˆ»ä½“ä¼š&lt;/p&gt;
&lt;h1&gt;çœ‹ä¸¤ä¸ªUnityçš„å¼‚æ­¥æ¥å£&lt;/h1&gt;
&lt;figure class=&quot;highlight c#&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>2025ä¹¦å•</title>
    <link href="https://soincredible.github.io/posts/c56dc2fa/"/>
    <id>https://soincredible.github.io/posts/c56dc2fa/</id>
    <published>2025-09-15T01:51:03.000Z</published>
    <updated>2025-09-30T10:09:01.237Z</updated>
    
    <content type="html"><![CDATA[<p>ã€ŠUnity3Dç½‘ç»œæ¸¸æˆå®æˆ˜(ç¬¬äºŒç‰ˆ)ã€‹<br>ã€Šä»¥æ—¥ä¸ºé‰´ã€‹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ã€ŠUnity3Dç½‘ç»œæ¸¸æˆå®æˆ˜(ç¬¬äºŒç‰ˆ)ã€‹&lt;br&gt;
ã€Šä»¥æ—¥ä¸ºé‰´ã€‹&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>UnitySourceCodeâ€”â€”C++ä¸C#ä¹‹é—´çš„é€šè®¯</title>
    <link href="https://soincredible.github.io/posts/21f751b8/"/>
    <id>https://soincredible.github.io/posts/21f751b8/</id>
    <published>2025-09-13T09:57:31.000Z</published>
    <updated>2025-09-15T01:45:56.172Z</updated>
    
    <content type="html"><![CDATA[<h1>Scriptingå®¶æ—</h1><h1>PPtr</h1><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">pragma</span> once</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/BaseClasses/BaseObject.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> ALLOW_AUTOLOAD_PPTR_DEREFERNCE (UNITY_EDITOR || 1)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PPtr</span></span><br><span class="line">&#123;</span><br><span class="line">    InstanceID  m_InstanceID;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    <span class="keyword">mutable</span> T*          m_DEBUGPtr;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">AssignObject</span><span class="params">(<span class="type">const</span> Object* o)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">const</span> <span class="type">char</span>* <span class="title">GetTypeString</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">MightContainPPtr</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="literal">true</span>; &#125;</span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">AllowTransferOptimization</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="literal">false</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> TransferFunction&gt;</span></span><br><span class="line"><span class="function">    <span class="type">void</span> <span class="title">Transfer</span><span class="params">(TransferFunction&amp; transfer)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Assignment</span></span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">PPtr</span><span class="params">(InstanceID instanceID)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        m_InstanceID = instanceID;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">        m_DEBUGPtr = <span class="literal">NULL</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">PPtr</span>(<span class="type">const</span> T* o)                               &#123; <span class="built_in">AssignObject</span>(o); &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">U</span>&gt;</span><br><span class="line">    <span class="built_in">PPtr</span>&lt;T&gt;(<span class="type">const</span> PPtr&lt;U&gt;&amp;o)</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_RELEASE</span></span><br><span class="line">        <span class="comment">// This is here to force a compile error in case a down cast from U to T is attempted</span></span><br><span class="line">        T* dummy = <span class="built_in">reinterpret_cast</span>&lt;U*&gt;(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">UNUSED</span>(dummy);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        m_DEBUGPtr = o.<span class="built_in">GetDEBUGPtr</span>();</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        m_InstanceID = o.<span class="built_in">GetInstanceID</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">PPtr</span>()</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">        m_DEBUGPtr = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        m_InstanceID = InstanceID_None;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PPtr&amp; <span class="keyword">operator</span>=(<span class="type">const</span> T* o)                   &#123; <span class="built_in">AssignObject</span>(o); <span class="keyword">return</span> *<span class="keyword">this</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">U</span>&gt;</span><br><span class="line">    PPtr&amp; <span class="keyword">operator</span>=(<span class="type">const</span> PPtr&lt;U&gt;&amp; o)</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_RELEASE</span></span><br><span class="line">        <span class="comment">// This is here to force a compile error in case a down cast from U to T is attempted</span></span><br><span class="line">        T* dummy = <span class="built_in">reinterpret_cast</span>&lt;U*&gt;(<span class="number">0</span>);</span><br><span class="line">        <span class="built_in">UNUSED</span>(dummy);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">        m_DEBUGPtr = o.<span class="built_in">GetDEBUGPtr</span>();</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        m_InstanceID = o.<span class="built_in">GetInstanceID</span>();</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">SetInstanceID</span><span class="params">(InstanceID instanceID)</span>      </span>&#123; m_InstanceID = instanceID; &#125;</span><br><span class="line">    <span class="function">InstanceID <span class="title">GetInstanceID</span><span class="params">()</span> <span class="type">const</span>               </span>&#123; <span class="keyword">return</span> m_InstanceID; &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    <span class="function">T* <span class="title">GetDEBUGPtr</span><span class="params">()</span> <span class="type">const</span> </span>&#123; <span class="keyword">return</span> m_DEBUGPtr; &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">AssignObjectFromInstanceID</span><span class="params">(InstanceID instanceID, <span class="type">bool</span> threadedLoading)</span> </span>&#123; m_InstanceID = instanceID; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Comparison</span></span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>&lt;(<span class="type">const</span> PPtr&amp; p) <span class="type">const</span>   &#123; <span class="keyword">return</span> m_InstanceID &lt; p.m_InstanceID; &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>==(<span class="type">const</span> PPtr&amp; p) <span class="type">const</span>   &#123; <span class="keyword">return</span> m_InstanceID == p.m_InstanceID; &#125;</span><br><span class="line">    <span class="type">bool</span> <span class="keyword">operator</span>!=(<span class="type">const</span> PPtr&amp; p) <span class="type">const</span>   &#123; <span class="keyword">return</span> m_InstanceID != p.m_InstanceID; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// MSVC gets confused whether it should use operator bool(), or operator T* with implicit</span></span><br><span class="line">    <span class="comment">// comparison to NULL. So we add explicit functions and use them instead.</span></span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">IsNull</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line">    <span class="function"><span class="type">bool</span> <span class="title">IsValid</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function">T* <span class="title">ForceLoadPtr</span><span class="params">()</span> <span class="type">const</span></span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">operator</span> T*() <span class="type">const</span>;</span><br><span class="line">    T* <span class="keyword">operator</span>-&gt;() <span class="type">const</span>;</span><br><span class="line">    T&amp; <span class="keyword">operator</span>*() <span class="type">const</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class</span> <span class="title class_">PtrToType</span>;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class</span> <span class="title class_">PtrToType</span>&lt;T*&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> T value_type;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">class</span> <span class="title class_">PtrToType</span>&lt;<span class="type">const</span> T*&gt;</span><br><span class="line">&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">typedef</span> T value_type;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> U&gt;</span></span><br><span class="line"><span class="function">T <span class="title">dynamic_pptr_cast</span><span class="params">(U* ptr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">typedef</span> <span class="keyword">typename</span> PtrToType&lt;T&gt;::value_type Type;</span><br><span class="line">    T castedPtr = (T)(ptr);</span><br><span class="line">    <span class="keyword">if</span> (castedPtr &amp;&amp; castedPtr-&gt;<span class="keyword">template</span> <span class="built_in">IsDerivedFrom</span>&lt;Type&gt;())</span><br><span class="line">        <span class="keyword">return</span> castedPtr;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> U&gt;</span></span><br><span class="line"><span class="function">T <span class="title">dynamic_pptr_cast</span><span class="params">(<span class="type">const</span> PPtr&lt;U&gt;&amp; ptr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    U* o = ptr;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dynamic_pptr_cast</span>&lt;T&gt;(o);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="keyword">inline</span></span></span><br><span class="line"><span class="function">T <span class="title">dynamic_instanceID_cast</span><span class="params">(InstanceID instanceID)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Object* o = <span class="built_in">PPtr</span>&lt;Object&gt;(instanceID);</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">dynamic_pptr_cast</span>&lt;T&gt;(o);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T, <span class="keyword">class</span> U&gt;</span></span><br><span class="line"><span class="function">PPtr&lt;T&gt; <span class="title">assert_pptr_cast</span><span class="params">(<span class="type">const</span> PPtr&lt;U&gt;&amp; ptr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE</span></span><br><span class="line">    U* u = ptr;</span><br><span class="line">    <span class="built_in">Assert</span>(!(<span class="built_in">dynamic_pptr_cast</span>&lt;U*&gt;(u) == <span class="literal">NULL</span> &amp;&amp; u != <span class="literal">NULL</span>));</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">PPtr</span>&lt;T&gt;(ptr.<span class="built_in">GetInstanceID</span>());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Enables boost::mem_fn to use PPtr properly, needed for boost::bind</span></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keyword">inline</span> T * <span class="title">get_pointer</span><span class="params">(PPtr&lt;T&gt; <span class="type">const</span> &amp; p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">inline</span> <span class="type">void</span> PPtr&lt;T&gt;::<span class="built_in">AssignObject</span>(<span class="type">const</span> Object* o)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (o == <span class="literal">NULL</span>)</span><br><span class="line">        m_InstanceID = InstanceID_None;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        m_InstanceID = o-&gt;<span class="built_in">GetInstanceID</span>();</span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    m_DEBUGPtr = (T*)(o);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line">T* PPtr&lt;T&gt;::<span class="built_in">ForceLoadPtr</span>() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">GetInstanceID</span>() == InstanceID_None)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    Object* temp = Object::<span class="built_in">IDToPointer</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        temp = <span class="built_in">ReadObjectFromPersistentManager</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    m_DEBUGPtr = (T*)(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE || UNITY_EDITOR</span></span><br><span class="line">    T* casted = <span class="built_in">dynamic_pptr_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="keyword">if</span> (casted == temp)</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ErrorStringObject</span>(<span class="built_in">Format</span>(<span class="string">&quot;PPtr cast failed when dereferencing! Casting from %s to %s!&quot;</span>, temp-&gt;<span class="built_in">GetTypeName</span>(), <span class="built_in">TypeOf</span>&lt;T&gt;()-&gt;<span class="built_in">GetName</span>()), temp);</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line">PPtr&lt;T&gt;::<span class="keyword">operator</span> T*() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">GetInstanceID</span>() == InstanceID_None)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    Object* temp = Object::<span class="built_in">IDToPointer</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> ALLOW_AUTOLOAD_PPTR_DEREFERNCE</span></span><br><span class="line">    <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        temp = <span class="built_in">ReadObjectFromPersistentManager</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    m_DEBUGPtr = (T*)(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE || UNITY_EDITOR</span></span><br><span class="line">    T* casted = <span class="built_in">dynamic_pptr_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="keyword">if</span> (casted == temp)</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ErrorStringObject</span>(<span class="built_in">Format</span>(<span class="string">&quot;PPtr cast failed when dereferencing! Casting from %s to %s!&quot;</span>, temp-&gt;<span class="built_in">GetTypeName</span>(), <span class="built_in">TypeOf</span>&lt;T&gt;()-&gt;<span class="built_in">GetName</span>()), temp);</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line">T* PPtr&lt;T&gt;::<span class="keyword">operator</span>-&gt;() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    Object* temp = Object::<span class="built_in">IDToPointer</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> ALLOW_AUTOLOAD_PPTR_DEREFERNCE</span></span><br><span class="line">    <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        temp = <span class="built_in">ReadObjectFromPersistentManager</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    m_DEBUGPtr = (T*)(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE || UNITY_EDITOR</span></span><br><span class="line">    T* casted = <span class="built_in">dynamic_pptr_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="keyword">if</span> (casted != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">ErrorStringObject</span>(<span class="built_in">Format</span>(<span class="string">&quot;PPtr cast failed when dereferencing! Casting from %s to %s!&quot;</span>, temp-&gt;<span class="built_in">GetTypeName</span>(), <span class="built_in">TypeOf</span>&lt;T&gt;()-&gt;<span class="built_in">GetName</span>()), temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">ErrorString</span>(<span class="string">&quot;Dereferencing NULL PPtr!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line">T&amp; PPtr&lt;T&gt;::<span class="keyword">operator</span>*() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    Object* temp = Object::<span class="built_in">IDToPointer</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> ALLOW_AUTOLOAD_PPTR_DEREFERNCE</span></span><br><span class="line">    <span class="keyword">if</span> (temp == <span class="literal">NULL</span>)</span><br><span class="line">        temp = <span class="built_in">ReadObjectFromPersistentManager</span>(<span class="built_in">GetInstanceID</span>());</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> !UNITY_RELEASE</span></span><br><span class="line">    m_DEBUGPtr = (T*)(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE || UNITY_EDITOR</span></span><br><span class="line">    T* casted = <span class="built_in">dynamic_pptr_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="keyword">if</span> (casted != <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> *casted;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (temp != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">ErrorStringObject</span>(<span class="built_in">Format</span>(<span class="string">&quot;PPtr cast failed when dereferencing! Casting from %s to %s!&quot;</span>, temp-&gt;<span class="built_in">GetTypeName</span>(), <span class="built_in">TypeOf</span>&lt;T&gt;()-&gt;<span class="built_in">GetName</span>()), temp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">ErrorString</span>(<span class="string">&quot;Dereferencing NULL PPtr!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">ANALYSIS_ASSUME</span>(casted);</span><br><span class="line">        <span class="keyword">return</span> *casted;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> *<span class="built_in">static_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line"><span class="type">bool</span> PPtr&lt;T&gt;::<span class="built_in">IsNull</span>() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    T* casted = *<span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">return</span> casted == <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line"><span class="type">bool</span> PPtr&lt;T&gt;::<span class="built_in">IsValid</span>() <span class="type">const</span></span><br><span class="line">&#123;</span><br><span class="line">    T* casted = *<span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">return</span> casted != <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt; <span class="keyword">inline</span></span><br><span class="line"><span class="type">const</span> <span class="type">char</span>* PPtr&lt;T&gt;::<span class="built_in">GetTypeString</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">return</span> T::<span class="built_in">GetPPtrTypeString</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">T</span>&gt;</span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> <span class="title class_">TransferFunction</span>&gt; <span class="keyword">inline</span></span><br><span class="line"><span class="type">void</span> PPtr&lt;T&gt;::<span class="built_in">Transfer</span>(TransferFunction&amp; transfer)</span><br><span class="line">&#123;</span><br><span class="line">    LocalSerializedObjectIdentifier localIdentifier;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (transfer.<span class="built_in">NeedsInstanceIDRemapping</span>())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">Assert</span>(transfer.<span class="built_in">IsWriting</span>() || transfer.<span class="built_in">IsReading</span>());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (transfer.<span class="built_in">IsReading</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localSerializedFileIndex, <span class="string">&quot;m_FileID&quot;</span>, kHideInEditorMask);</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localIdentifierInFile, <span class="string">&quot;m_PathID&quot;</span>, kHideInEditorMask);</span><br><span class="line">            <span class="built_in">LocalSerializedObjectIdentifierToInstanceID</span>(localIdentifier, m_InstanceID);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (transfer.<span class="built_in">IsWriting</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">InstanceIDToLocalSerializedObjectIdentifier</span>(m_InstanceID, localIdentifier);</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localSerializedFileIndex, <span class="string">&quot;m_FileID&quot;</span>, kHideInEditorMask);</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localIdentifierInFile, <span class="string">&quot;m_PathID&quot;</span>, kHideInEditorMask);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localSerializedFileIndex, <span class="string">&quot;m_FileID&quot;</span>, kHideInEditorMask);</span><br><span class="line">            transfer.<span class="built_in">Transfer</span>(localIdentifier.localIdentifierInFile, <span class="string">&quot;m_PathID&quot;</span>, kHideInEditorMask);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        transfer.<span class="built_in">Transfer</span>(m_InstanceID, <span class="string">&quot;m_FileID&quot;</span>, kHideInEditorMask);</span><br><span class="line">        transfer.<span class="built_in">Transfer</span>(localIdentifier.localIdentifierInFile, <span class="string">&quot;m_PathID&quot;</span>, kHideInEditorMask);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;</span></span><br><span class="line"><span class="function">T* <span class="title">PPtrToObjectDontLoadNoThreadCheck</span><span class="params">(PPtr&lt;T&gt; pptr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (pptr.<span class="built_in">GetInstanceID</span>() == InstanceID_None)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    Object* temp = Object::<span class="built_in">IDToPointerNoThreadCheck</span>(pptr.<span class="built_in">GetInstanceID</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUGMODE || UNITY_EDITOR</span></span><br><span class="line">    T* casted = <span class="built_in">dynamic_pptr_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="keyword">if</span> (casted == temp)</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ErrorStringObject</span>(<span class="built_in">Format</span>(<span class="string">&quot;PPtr cast failed when dereferencing! Casting from %s to %s!&quot;</span>, temp-&gt;<span class="built_in">GetTypeName</span>(), <span class="built_in">TypeOf</span>&lt;T&gt;()-&gt;<span class="built_in">GetName</span>()), temp);</span><br><span class="line">        <span class="keyword">return</span> casted;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">static_cast</span>&lt;T*&gt;(temp);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;Scriptingå®¶æ—&lt;/h1&gt;
&lt;h1&gt;PPtr&lt;/h1&gt;
&lt;figure class=&quot;highlight c++&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span cla</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>UnitySourceCodeâ€”â€”Coroutine</title>
    <link href="https://soincredible.github.io/posts/da596cf9/"/>
    <id>https://soincredible.github.io/posts/da596cf9/</id>
    <published>2025-09-11T11:52:27.000Z</published>
    <updated>2025-09-13T07:19:23.814Z</updated>
    
    <content type="html"><![CDATA[<p>ç¿»ä¸€ä¸‹è¿™æ®µä»£ç </p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">WXGameCaptureProcess</span> : <span class="title">IEnumerator</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="built_in">bool</span> shareOver;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="built_in">object</span> Current</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">get</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="keyword">new</span> WaitForEndOfFrame();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="title">WXGameCaptureProcess</span>(<span class="params">Rect captureRect, Action&lt;<span class="built_in">string</span>&gt; callback</span>)</span></span><br><span class="line">            &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> DDZ_WXMINIGAME</span></span><br><span class="line">                WXCanvas.ToTempFilePath(<span class="keyword">new</span> WXToTempFilePathParam()</span><br><span class="line">                &#123;</span><br><span class="line">                    x = (<span class="built_in">int</span>)captureRect.x,</span><br><span class="line">                    y = (<span class="built_in">int</span>)(Screen.height - captureRect.y - captureRect.height),</span><br><span class="line">                    width = (<span class="built_in">int</span>)captureRect.width,</span><br><span class="line">                    height = (<span class="built_in">int</span>)captureRect.height,</span><br><span class="line">                    destWidth = (<span class="built_in">int</span>)captureRect.width,</span><br><span class="line">                    destHeight = (<span class="built_in">int</span>)captureRect.height,</span><br><span class="line">                    success = (ret) =&gt;</span><br><span class="line">                    &#123;</span><br><span class="line">                        Debug.Log(<span class="string">&quot;Screenshot saved: &quot;</span> + ret.tempFilePath);</span><br><span class="line">                        callback?.Invoke(ret.tempFilePath);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    fail = (msg) =&gt;</span><br><span class="line">                    &#123;</span><br><span class="line">                        callback?.Invoke(<span class="literal">null</span>);</span><br><span class="line">                    &#125;,</span><br><span class="line">                    complete = (msg) =&gt;</span><br><span class="line">                    &#123;</span><br><span class="line">                        shareOver = <span class="literal">true</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">                callback?.Invoke(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="built_in">bool</span> <span class="title">MoveNext</span>()</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> !shareOver;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Reset</span>()</span></span><br><span class="line">            &#123;</span><br><span class="line">                shareOver = <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>åœ¨Unityçš„MonoBehaviourä¸­, ä¼šè·å¾—IEnumeratorçš„Currentçš„ç±»å‹, ç„¶åæ ¹æ®Currentçš„ç±»å‹åˆ¤æ–­è¦æ‰§è¡Œä»€ä¹ˆå¤„ç†</p><p>ä½ é—®å¾—å¾ˆæœ‰é’ˆå¯¹æ€§ï¼Œæ¥çœ‹ä½ çš„é—®é¢˜ï¼š</p><hr><p><strong>é—®é¢˜ç®€è¿°ï¼š</strong><br>ä½ å®šä¹‰äº†ä¸€ä¸ª <code>WXGameCaptureProcess</code> ç»§æ‰¿è‡ª <code>IEnumerator</code>ã€‚<br>åœ¨ Unity åç¨‹ä¸­ï¼Œ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WXGameCaptureProcess</span>(<span class="params">...</span>)</span>;</span><br></pre></td></tr></table></figure><p>å’Œ</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForEndOfFrame</span>()</span>;</span><br></pre></td></tr></table></figure><p>æœ‰ä»€ä¹ˆå…³ç³»ï¼ŸäºŒè€…ç­‰ä»·å—ï¼Ÿå®ƒä»¬è¡Œä¸ºæœ‰ä½•åŒºåˆ«ï¼Ÿ</p><hr><h2 id="1-yield-return-new-WaitForEndOfFrame">1. yield return new WaitForEndOfFrame()</h2><ul><li><strong>è¡Œä¸ºï¼š</strong> ç­‰å¾… <strong>æœ¬å¸§æ¸²æŸ“</strong> ç»“æŸåï¼Œåç¨‹ç»§ç»­è¿›è¡Œã€‚</li><li><strong>æ•ˆæœ</strong>ï¼šåªâ€œæš‚åœâ€ä¸€å¸§ï¼Œé©¬ä¸Šè¿›å…¥ä¸‹ä¸€æ­¥ä»£ç ã€‚</li></ul><hr><h2 id="2-yield-return-new-WXGameCaptureProcess-â€¦">2. yield return new WXGameCaptureProcess(â€¦)</h2><p>è¿™æ˜¯ä¸ªè‡ªå®šä¹‰çš„ IEnumeratorï¼Œåˆ†æå…¶å®ç°ï¼š</p><h3 id="å…³é”®å®ç°">å…³é”®å®ç°</h3><ul><li><code>MoveNext</code>ï¼šåªè¦ <code>!shareOver</code> ä¸ºçœŸï¼Œå°±ä¼šåœ¨åç¨‹é‡Œä¸åœâ€œç­‰å¾…â€ã€‚</li><li><code>Current</code>ï¼šæ¯æ¬¡ç­‰å¾…ï¼Œè¿”å›çš„å¯¹è±¡æ˜¯ <code>new WaitForEndOfFrame()</code></li><li>åªæœ‰å½“ä½ ä¼ å…¥çš„ <code>callback</code> çš„ successã€failã€complete è¢«è§¦å‘ï¼ˆé—´æ¥å¯¼è‡´ <code>shareOver = true</code>ï¼‰ï¼Œ<code>MoveNext</code> è¿”å› falseï¼Œåç¨‹æ‰å¼€å§‹æ‰§è¡Œä¸‹ä¸€æ¡è¯­å¥ã€‚</li></ul><h3 id="è¡¨ç°">è¡¨ç°</h3><p>è¿™ä¸ªè‡ªå®šä¹‰è¿­ä»£å™¨ï¼Œåœ¨ä¸šåŠ¡äº‹ä»¶æ²¡å®Œæˆä¹‹å‰ï¼ˆæ¯”å¦‚æˆªå›¾è¿˜æ²¡ä¿å­˜ï¼‰ï¼Œæ¯ä¸€å¸§è¿”å› <code>WaitForEndOfFrame()</code>ï¼Œ<strong>è®©åç¨‹ç­‰å¾…â€œè‹¥å¹²å¸§â€</strong>ï¼Œç›´åˆ°ä¸šåŠ¡äº‹ä»¶å®Œæˆã€‚å®Œæˆååç¨‹æ‰å¾€ä¸‹èµ°ã€‚</p><hr><h3 id="ç›´è§‚è¯´æ˜">ç›´è§‚è¯´æ˜</h3><ul><li><p><code>yield return new WaitForEndOfFrame();</code></p><ul><li>ç­‰ä¸€å¸§ã€‚</li></ul></li><li><p><code>yield return new WXGameCaptureProcess(...);</code></p><ul><li><strong>å…¶å®æ˜¯â€œæ¯å¸§éƒ½ yield return new WaitForEndOfFrame()â€ï¼Œç›´åˆ°æ•è·ï¼ˆæˆªå›¾æ“ä½œï¼‰çŠ¶æ€ shareOver==trueï¼Œæ‰ç»§ç»­åç¨‹ä¸‹å»ã€‚ç­‰å¾…çš„æ˜¯ä¸€ä¸ªâ€œå¼‚æ­¥äº‹ä»¶â€çš„å®Œæˆï¼</strong></li></ul></li></ul><hr><h2 id="3-æ˜¯å¦ç­‰ä»·ï¼Ÿ">3. æ˜¯å¦ç­‰ä»·ï¼Ÿ</h2><p><strong>ç»“è®ºï¼š</strong></p><ul><li><code>yield return new WXGameCaptureProcess(...)</code> <strong>ç»ä¸ç­‰ä»·äº</strong> åª <code>yield return new WaitForEndOfFrame();</code><ul><li>å‰è€…æ˜¯ï¼š<strong>ç­‰å¾…â€œå¤šå¸§â€â€”â€”æ¯å¸§ç»“å°¾éƒ½ yield â€” ç›´åˆ°å¤–éƒ¨å¼‚æ­¥äº‹ä»¶ç»“æŸ</strong></li><li>åè€…æ˜¯ï¼š<strong>åªæš‚åœä¸€å¸§</strong></li></ul></li><li><strong>WXGameCaptureProcess</strong> å¯ä»¥ç­‰å¾…ä¸€ä¸ªå¼‚æ­¥å›è°ƒï¼Œæ¯”å¦‚æˆªå›¾ã€ç½‘ç»œã€åŠ¨ç”»ç­‰ï¼Œé€‚åˆç­‰å¾…â€œéç«‹å³å®Œæˆâ€çš„ä¸šåŠ¡ã€‚</li></ul><hr><h2 id="4-å½¢å¼æ€»ç»“">4. å½¢å¼æ€»ç»“</h2><p>å®é™…ä¸Šï¼Œä½ çš„</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WXGameCaptureProcess</span>(<span class="params">...</span>)</span>;</span><br></pre></td></tr></table></figure><p>ç­‰ä»·äº</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ªä»£ç ç¤ºæ„ï¼Œæ•ˆæœç±»ä¼¼äºï¼š</span></span><br><span class="line"><span class="keyword">while</span> (!shareOver) &#123;</span><br><span class="line">    <span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForEndOfFrame</span>()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// shareOver==true æ—¶ç»§ç»­åç¨‹</span></span><br></pre></td></tr></table></figure><p>è€Œä¸æ˜¯</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">yield</span> <span class="keyword">return</span> <span class="keyword">new</span> <span class="title">WaitForEndOfFrame</span>()</span>;</span><br></pre></td></tr></table></figure><hr><h3 id="ã€ä¸“ä¸šè‹±æ–‡ç»“è®ºã€‘">ã€ä¸“ä¸šè‹±æ–‡ç»“è®ºã€‘</h3><blockquote><p><code>yield return new WXGameCaptureProcess(...)</code> is <strong>not equivalent</strong> to <code>yield return new WaitForEndOfFrame();</code>. The first form will keep yielding <code>WaitForEndOfFrame</code> each frame until the async capture process is finished (<code>shareOver == true</code>), while the latter only waits for one frame.</p></blockquote><hr><p>å¦‚æœä½ æƒ³ç­‰å¾…ä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„å®Œæˆè€Œä¸æ˜¯åªæš‚åœä¸€å¸§ï¼Œè¿™ç§è‡ªå®šä¹‰ <code>IEnumerator</code> å†™æ³•æ˜¯ä¸šç•Œå¸¸ç”¨å¥—è·¯ã€‚è¿™ç§å†™æ³•æ‰©å±•æ€§ä¹Ÿå¾ˆå¼ºã€‚</p><hr><p>Coroutineä¸­ä¼šæŒæœ‰m_Currentå­—æ®µ, ç„¶åé€šè¿‡å¦‚ä¸‹çš„æ¥å£åˆ¤æ–­m_Currentçš„ç±»å‹<br>ä»£ç å¦‚ä¸‹:</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;UnityPrefix.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Coroutine.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Misc/AsyncOperation.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Mono/MonoBehaviour.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Mono/MonoScript.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Mono/MonoIncludes.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Mono/MonoManager.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/GameCode/CallDelayed.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Scripting/ScriptingUtility.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/ScriptingBackend/ScriptingApi.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/Scripting/ScriptingObjectWithIntPtrField.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_IPHONE_API</span></span><br><span class="line"><span class="meta"># <span class="keyword">include</span> <span class="string">&quot;Runtime/Input/OnScreenKeyboard.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Runtime/ScriptingBackend/ScriptingApi.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// copied from MonoBehaviour.cpp</span></span><br><span class="line"><span class="comment">// if they should be synced - blame the author not me ;-)</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG_COROUTINE 0</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DEBUG_COROUTINE_LEAK 0</span></span><br><span class="line"></span><br><span class="line">Coroutine::<span class="built_in">Coroutine</span>()</span><br><span class="line">    : <span class="built_in">m_DoneRunning</span>(<span class="literal">false</span>)</span><br><span class="line">    , <span class="built_in">m_CoroutineEnumeratorGCHandle</span>()</span><br><span class="line">    , <span class="built_in">m_IsIEnumeratorCoroutine</span>(<span class="literal">false</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> coroutineCounter = <span class="number">0</span>;</span><br><span class="line">    coroutineCounter++;</span><br><span class="line">    <span class="built_in">printf_console</span>(<span class="string">&quot;Allocating coroutine %d --- %d : 0x%x\n&quot;</span>, <span class="keyword">this</span>, coroutineCounter, &amp;m_RefCount);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Coroutine::~<span class="built_in">Coroutine</span>()</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">Assert</span>(!m_CoroutineEnumeratorGCHandle.<span class="built_in">HasTarget</span>());</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="built_in">printf_console</span>(<span class="string">&quot;Deconstructor coroutine %d\n&quot;</span>, <span class="keyword">this</span>);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Coroutine::SetMoveNextMethod</span><span class="params">(ScriptingMethodPtr method)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_MoveNext = method;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Coroutine::SetCurrentMethod</span><span class="params">(ScriptingMethodPtr method)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    m_Current = method;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">CallObjectState <span class="title">Coroutine::ContinueCoroutine</span><span class="params">(Object* o, <span class="type">void</span>* userData)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* coroutine = (Coroutine*)userData;</span><br><span class="line">    <span class="built_in">Assert</span>(coroutine-&gt;m_RefCount &gt; <span class="number">0</span> &amp;&amp; coroutine-&gt;m_RefCount &lt; <span class="number">1000000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((Object*)coroutine-&gt;m_Behaviour != o)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">ErrorString</span>(<span class="string">&quot;Coroutine continue failure&quot;</span>);</span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">        <span class="keyword">if</span> ((Object*)coroutine-&gt;m_Behaviour != o)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">printf_console</span>(<span class="string">&quot;continue Coroutine corruption %d refcount: %d behaviour: %d \n&quot;</span>, coroutine, coroutine-&gt;m_RefCount, coroutine-&gt;m_Behaviour);</span><br><span class="line">            <span class="built_in">printf_console</span>(<span class="string">&quot;continue Coroutine corruption name: %s methodname\n&quot;</span>, ((MonoBehaviour*)(o))-&gt;<span class="built_in">GetScript</span>()-&gt;<span class="built_in">GetName</span>());</span><br><span class="line">            <span class="keyword">if</span> (!coroutine-&gt;m_CoroutineMethod.<span class="built_in">IsNull</span>())</span><br><span class="line">                <span class="built_in">printf_console</span>(<span class="string">&quot;continue Coroutine methodname: %s\n&quot;</span>, <span class="built_in">scripting_method_get_name</span>(coroutine-&gt;m_CoroutineMethod));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> coroutine-&gt;<span class="built_in">Run</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">CallObjectState <span class="title">Coroutine::CleanupCoroutine</span><span class="params">(<span class="type">void</span>* userData)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* coroutine = (Coroutine*)userData;</span><br><span class="line">    <span class="built_in">Assert</span>(coroutine-&gt;m_RefCount &gt; <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">Assert</span>(coroutine-&gt;m_RefCount &lt;= <span class="number">1000000</span>);</span><br><span class="line">    coroutine-&gt;m_RefCount--;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="built_in">printf_console</span>(<span class="string">&quot;decrease refcount %d - active: %d \n&quot;</span>, coroutine, coroutine-&gt;m_RefCount);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_RefCount &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line"></span><br><span class="line">    coroutine-&gt;m_DoneRunning = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="built_in">printf_console</span>(<span class="string">&quot;CleanupCoroutine %d\n&quot;</span>, coroutine);</span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_Behaviour &amp;&amp; <span class="built_in">GetDelayedCallManager</span>().<span class="built_in">HasDelayedCall</span>(coroutine-&gt;m_Behaviour, Coroutine::ContinueCoroutine, CompareCoroutineMethodName, coroutine))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf_console</span>(<span class="string">&quot;CORRUPTION is still in delayed call manager%d!\n&quot;</span>, coroutine-&gt;m_Behaviour);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_ContinueWhenFinished)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">CleanupCoroutine</span>(coroutine-&gt;m_ContinueWhenFinished);</span><br><span class="line">        coroutine-&gt;m_ContinueWhenFinished = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_WaitingFor)</span><br><span class="line">    &#123;</span><br><span class="line">        coroutine-&gt;m_WaitingFor-&gt;m_ContinueWhenFinished = <span class="literal">NULL</span>;</span><br><span class="line">        <span class="comment">//Set the WaitingFor variable to NULL. Otherwise it might happen that a coroutine is cleaned up because another coroutine has it set as its m_ContinueWhenFinished.</span></span><br><span class="line">        <span class="comment">//If then this coroutine is cleaned up using MonoBehaviour::StopCoroutine, it will be cleaned up again and trigger asserts</span></span><br><span class="line">        coroutine-&gt;m_WaitingFor = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    coroutine-&gt;<span class="built_in">RemoveFromList</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_AsyncOperation)</span><br><span class="line">    &#123;</span><br><span class="line">        coroutine-&gt;m_AsyncOperation-&gt;<span class="built_in">SetCoroutineCallback</span>(<span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>, <span class="literal">NULL</span>);</span><br><span class="line">        coroutine-&gt;m_AsyncOperation-&gt;<span class="built_in">Release</span>();</span><br><span class="line">        coroutine-&gt;m_AsyncOperation = <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Assert</span>(coroutine-&gt;m_CoroutineEnumeratorGCHandle.<span class="built_in">HasTarget</span>());</span><br><span class="line">    coroutine-&gt;m_CoroutineEnumeratorGCHandle.<span class="built_in">ReleaseAndClear</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!coroutine-&gt;m_IsReferencedByMono)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">delete</span> coroutine;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE_LEAK</span></span><br><span class="line">        gCoroutineCounter--;</span><br><span class="line">        <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">return</span> kCallObjectDestroyed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Coroutine::CleanupCoroutineGC</span><span class="params">(<span class="type">void</span>* userData)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* coroutine = (Coroutine*)userData;</span><br><span class="line">    <span class="keyword">if</span> (!coroutine-&gt;m_IsReferencedByMono)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_RefCount != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        coroutine-&gt;m_IsReferencedByMono = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ErrorIf</span>(coroutine-&gt;<span class="built_in">IsInList</span>());</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span> coroutine;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="built_in">printf_console</span>(<span class="string">&quot;GC free coroutine: %d\n&quot;</span>, coroutine);</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE_LEAK</span></span><br><span class="line">    gCoroutineCounter--;</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Coroutine::CompareCoroutineMethodName</span><span class="params">(<span class="type">void</span>* callBackUserData, <span class="type">void</span>* cancelUserdata)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* coroutine = (Coroutine*)callBackUserData;</span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_CoroutineMethod.<span class="built_in">IsNull</span>())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">strcmp</span>(<span class="built_in">scripting_method_get_name</span>(coroutine-&gt;m_CoroutineMethod), (<span class="type">const</span> <span class="type">char</span>*)cancelUserdata) == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">bool</span> <span class="title">ScriptingObjectPtrsEqual</span><span class="params">(ScriptingObjectPtr o1, ScriptingObjectPtr o2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> ENABLE_DOTNET</span></span><br><span class="line">    <span class="keyword">return</span> WinRT::Bridge::<span class="built_in">GetUtils</span>()-&gt;<span class="built_in">CompareObjects</span>(o1, o2);</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="keyword">return</span> o1 == o2;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Coroutine::CompareCoroutineEnumerator</span><span class="params">(<span class="type">void</span>* callBackUserData, <span class="type">void</span>* cancelUserdata)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* coroutine = (Coroutine*)callBackUserData;</span><br><span class="line">    <span class="keyword">if</span> (!coroutine-&gt;m_CoroutineEnumeratorGCHandle.<span class="built_in">HasTarget</span>())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    ScriptingObjectPtr* handle = (ScriptingObjectPtr*)cancelUserdata;</span><br><span class="line">    <span class="keyword">if</span> (!handle)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">ScriptingObjectPtrsEqual</span>(coroutine-&gt;m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>(), *handle))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!coroutine-&gt;m_IsIEnumeratorCoroutine)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (coroutine-&gt;m_ContinueWhenFinished == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">ScriptingObjectPtrsEqual</span>(coroutine-&gt;m_ContinueWhenFinished-&gt;m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>(), *handle);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Coroutine::CompareCoroutineDirect</span><span class="params">(<span class="type">void</span>* callBackUserData, <span class="type">void</span>* cancelUserdata)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Coroutine* callBackCoroutine = (Coroutine*)callBackUserData;</span><br><span class="line">    Coroutine* cancelCoroutine = (Coroutine*)cancelUserdata;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (callBackCoroutine == cancelCoroutine)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!callBackCoroutine-&gt;m_IsIEnumeratorCoroutine)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (callBackCoroutine-&gt;m_ContinueWhenFinished == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> callBackCoroutine-&gt;m_ContinueWhenFinished == cancelCoroutine;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">Coroutine::InvokeMoveNext</span><span class="params">(ScriptingExceptionPtr* exception)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">bool</span> result = <span class="literal">false</span>;</span><br><span class="line">    <span class="function">ScriptingInvocation <span class="title">invocation</span><span class="params">(GetCoreScriptingClasses().invokeMoveNext)</span></span>;</span><br><span class="line">    invocation.<span class="built_in">AddObject</span>(m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>());</span><br><span class="line">    invocation.<span class="built_in">AddIntPtr</span>(&amp;result);</span><br><span class="line">    invocation.classContextForProfiler = m_Behaviour-&gt;<span class="built_in">GetClass</span>();</span><br><span class="line">    invocation.methodContextForProfiler = m_MoveNext;</span><br><span class="line">    invocation.objectInstanceIDContextForException = m_Behaviour-&gt;<span class="built_in">GetInstanceID</span>();</span><br><span class="line">    invocation.<span class="built_in">Invoke</span>(exception);</span><br><span class="line">    <span class="keyword">return</span> result &amp;&amp; *exception == SCRIPTING_NULL;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">CallObjectState <span class="title">Coroutine::Run</span><span class="params">(<span class="type">bool</span> *exceptionThrown)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">Assert</span>(m_RefCount != <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">Assert</span>(m_Behaviour != <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">if</span> DEBUG_COROUTINE</span></span><br><span class="line">    <span class="built_in">Assert</span>(!<span class="built_in">GetDelayedCallManager</span>().<span class="built_in">HasDelayedCall</span>(m_Behaviour, Coroutine::ContinueCoroutine, CompareCoroutineMethodName, <span class="keyword">this</span>));</span><br><span class="line">    <span class="keyword">if</span> (m_Behaviour == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf_console</span>(<span class="string">&quot;Coroutine error %d refcount: %d behaviour%d\n&quot;</span>, <span class="keyword">this</span>, m_RefCount, m_Behaviour);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// - Call MoveNext (This processes the function until the next yield!)</span></span><br><span class="line">    <span class="comment">// - Call Current (This returns condition when to continue the coroutine next.)</span></span><br><span class="line">    <span class="comment">//   -&gt; Queue it based on the continue condition</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Temporarily increase refcount so the object will not get destroyed during the m_MoveNext call</span></span><br><span class="line">    m_RefCount++;</span><br><span class="line">    ScriptingExceptionPtr exception = SCRIPTING_NULL;</span><br><span class="line">    <span class="type">bool</span> keepLooping = <span class="built_in">InvokeMoveNext</span>(&amp;exception);</span><br><span class="line">    <span class="built_in">Assert</span>(m_RefCount &gt; <span class="number">0</span> &amp;&amp; m_RefCount &lt;= <span class="number">10000000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">bool</span> coroutineWasDestroyedDuringMoveNext = m_RefCount == <span class="number">1</span>;</span><br><span class="line">    Coroutine* continueWhenFinished = m_ContinueWhenFinished;</span><br><span class="line">    <span class="comment">// Decrease temporary refcount so the object will not get destroyed during the m_MoveNext call</span></span><br><span class="line">    <span class="built_in">CleanupCoroutine</span>(<span class="keyword">this</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// The coroutine has been destroyed in the mean time, probably due to a call to StopAllCoroutines, stop executing further</span></span><br><span class="line">    <span class="keyword">if</span> (coroutineWasDestroyedDuringMoveNext)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">Assert</span>(continueWhenFinished == <span class="literal">NULL</span>);</span><br><span class="line">        <span class="keyword">return</span> kCallObjectDestroyed;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (exceptionThrown)</span><br><span class="line">        *exceptionThrown = exception != SCRIPTING_NULL;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (exception != SCRIPTING_NULL)</span><br><span class="line">        <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Are we done with this coroutine?</span></span><br><span class="line">    <span class="keyword">if</span> (!keepLooping)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// If there is a coroutine waiting for this one to finish Run it!</span></span><br><span class="line">        <span class="keyword">if</span> (m_ContinueWhenFinished)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">Assert</span>(<span class="keyword">this</span> == m_ContinueWhenFinished-&gt;m_WaitingFor);</span><br><span class="line">            Coroutine* continueWhenFinished = m_ContinueWhenFinished;</span><br><span class="line">            m_ContinueWhenFinished-&gt;m_WaitingFor = <span class="literal">NULL</span>;</span><br><span class="line">            m_ContinueWhenFinished = <span class="literal">NULL</span>;</span><br><span class="line">            <span class="comment">// The coroutine might have been stopped inside of the last coroutine invokation</span></span><br><span class="line">            <span class="keyword">if</span> (continueWhenFinished-&gt;m_Behaviour)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">// If the continuation coroutine yields waiting for this coroutine, it must know that this coroutine is finished</span></span><br><span class="line">                m_DoneRunning = <span class="literal">true</span>;</span><br><span class="line">                continueWhenFinished-&gt;<span class="built_in">Run</span>();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="built_in">CleanupCoroutine</span>(continueWhenFinished);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (m_Behaviour == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">ProcessCoroutineCurrent</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> kCallObjectAlive;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Coroutine::ProcessCoroutineCurrent</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ScriptingExceptionPtr exception = SCRIPTING_NULL;</span><br><span class="line"></span><br><span class="line">    <span class="function">ScriptingInvocation <span class="title">invocation</span><span class="params">(m_Current)</span></span>;</span><br><span class="line">    invocation.objectInstanceIDContextForException = m_Behaviour-&gt;<span class="built_in">GetInstanceID</span>();</span><br><span class="line">    invocation.classContextForProfiler = m_Behaviour-&gt;<span class="built_in">GetClass</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">if</span> !ENABLE_DOTNET</span></span><br><span class="line">    ScriptingClassPtr methodKlass = <span class="built_in">scripting_method_get_class</span>(m_Current);</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_valuetype</span>(methodKlass))</span><br><span class="line">        invocation.<span class="built_in">SetTarget</span>(<span class="built_in">scripting_object_unbox</span>(m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>()));</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    &#123;</span><br><span class="line">        invocation.<span class="built_in">SetTarget</span>(m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ScriptingObjectPtr monoWait = invocation.<span class="built_in">Invoke</span>(&amp;exception);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Assert</span>(m_RefCount &gt; <span class="number">0</span> &amp;&amp; m_RefCount &lt;= <span class="number">10000000</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (exception != SCRIPTING_NULL)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (monoWait == SCRIPTING_NULL)</span><br><span class="line">    &#123;</span><br><span class="line">        m_RefCount++;</span><br><span class="line">        <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">HandleIEnumerableCurrentReturnValue</span>(monoWait);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Coroutine::HandleIEnumerableCurrentReturnValue</span><span class="params">(ScriptingObjectPtr monoWait)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    AsyncOperation* async = <span class="literal">NULL</span>;</span><br><span class="line">    ScriptingClassPtr waitClass = <span class="built_in">scripting_object_get_class</span>(monoWait);</span><br><span class="line">    <span class="type">const</span> CommonScriptingClasses&amp; classes = <span class="built_in">GetMonoManager</span>().<span class="built_in">GetCommonClasses</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Continue the coroutine in &#x27;wait&#x27; seconds</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, <span class="built_in">GetCoreScriptingClasses</span>().waitForSeconds))</span><br><span class="line">    &#123;</span><br><span class="line">        m_RefCount++;</span><br><span class="line"></span><br><span class="line">        ScriptingWaitForSeconds wait;</span><br><span class="line">        <span class="built_in">MarshallManagedStructIntoNative</span>(monoWait, &amp;wait);</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">IsNAN</span>(wait.m_Seconds))</span><br><span class="line">            <span class="built_in">ErrorString</span>(<span class="string">&quot;float.NaN has been passed into WaitForSeconds which will result in an infinite wait time.&quot;</span>);</span><br><span class="line">        <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, wait.m_Seconds, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Continue the coroutine on the next fixed update</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, <span class="built_in">GetCoreScriptingClasses</span>().waitForFixedUpdate))</span><br><span class="line">    &#123;</span><br><span class="line">        m_RefCount++;</span><br><span class="line">        <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunFixedFrameRate);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Continue the coroutine at the end of frame</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, <span class="built_in">GetCoreScriptingClasses</span>().waitForEndOfFrame))</span><br><span class="line">    &#123;</span><br><span class="line">        m_RefCount++;</span><br><span class="line">        <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">-1.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kEndOfFrame);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, classes.iEnumerator))</span><br><span class="line">    &#123;</span><br><span class="line"><span class="meta">#<span class="keyword">if</span> UNITY_EDITOR</span></span><br><span class="line">        <span class="keyword">if</span> (m_CoroutineEnumeratorGCHandle.<span class="built_in">Resolve</span>() == monoWait)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">const</span> <span class="type">char</span>* className = <span class="built_in">scripting_class_get_name</span>(waitClass);</span><br><span class="line">            <span class="built_in">WarningStringMsg</span>(<span class="string">&quot;IEnumerator class %s is returning this (itself) in %s.Current, which can lead to infinite recursion.&quot;</span>, className, className);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">        m_RefCount++;</span><br><span class="line"></span><br><span class="line">        Coroutine* waitForCoroutine;</span><br><span class="line">        <span class="keyword">if</span> (!m_Behaviour-&gt;<span class="built_in">TryCreateAndRunCoroutine</span>(monoWait, <span class="literal">NULL</span>, &amp;waitForCoroutine))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// coroutine has already finished (empty enumerator block); just reschedulle current one..</span></span><br><span class="line">        <span class="keyword">if</span> (waitForCoroutine == <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="built_in">AssertMsg</span>(!waitForCoroutine-&gt;m_DoneRunning, <span class="string">&quot;Coroutine initialized incorrectly&quot;</span>);</span><br><span class="line">        <span class="built_in">AssertMsg</span>(waitForCoroutine-&gt;m_ContinueWhenFinished == <span class="literal">NULL</span>, <span class="string">&quot;Coroutine initialized incorrectly&quot;</span>);</span><br><span class="line"></span><br><span class="line">        waitForCoroutine-&gt;m_IsIEnumeratorCoroutine = <span class="literal">true</span>;</span><br><span class="line">        waitForCoroutine-&gt;m_ContinueWhenFinished = <span class="keyword">this</span>;</span><br><span class="line">        m_IsIEnumeratorCoroutine = <span class="literal">true</span>;</span><br><span class="line">        m_WaitingFor = waitForCoroutine;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Continue after another coroutine is finished</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, <span class="built_in">GetCoreScriptingClasses</span>().coroutine))</span><br><span class="line">    &#123;</span><br><span class="line">        Coroutine* waitForCoroutine;</span><br><span class="line">        <span class="built_in">MarshallManagedStructIntoNative</span>(monoWait, &amp;waitForCoroutine);</span><br><span class="line">        <span class="keyword">if</span> (waitForCoroutine-&gt;m_DoneRunning)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// continue executing.</span></span><br><span class="line">            <span class="built_in">ContinueCoroutine</span>(m_Behaviour, <span class="keyword">this</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (waitForCoroutine-&gt;m_ContinueWhenFinished != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">LogStringObject</span>(<span class="string">&quot;Another coroutine is already waiting for this coroutine!\nCurrently only one coroutine can wait for another coroutine!&quot;</span>, m_Behaviour);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        m_RefCount++;</span><br><span class="line">        waitForCoroutine-&gt;m_ContinueWhenFinished = <span class="keyword">this</span>;</span><br><span class="line">        m_WaitingFor = waitForCoroutine;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((<span class="built_in">scripting_class_is_subclass_of</span>(waitClass, <span class="built_in">GetCoreScriptingClasses</span>().asyncOperation)) &amp;&amp; (async = <span class="built_in">ScriptingObjectWithIntPtrField</span>&lt;AsyncOperation&gt;(monoWait).<span class="built_in">GetPtr</span>()) != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        m_RefCount++;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (async-&gt;<span class="built_in">IsDone</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Use AysncOperation ContinueCoroutine - default path</span></span><br><span class="line">        <span class="keyword">if</span> (async-&gt;<span class="built_in">HasCoroutineCallback</span>())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">////@<span class="doctag">TODO:</span> Throw exception?</span></span><br><span class="line">            <span class="built_in">ErrorString</span>(<span class="string">&quot;This asynchronous operation is already being yielded from another coroutine. An asynchronous operation can only be yielded once.&quot;</span>);</span><br><span class="line">            <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        async-&gt;<span class="built_in">SetCoroutineCallback</span>(ContinueCoroutine, m_Behaviour, <span class="keyword">this</span>, CleanupCoroutine);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (m_AsyncOperation != <span class="literal">NULL</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            m_AsyncOperation-&gt;<span class="built_in">Release</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        m_AsyncOperation = async;</span><br><span class="line">        m_AsyncOperation-&gt;<span class="built_in">AddRef</span>();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Continue the coroutine on the next dynamic frame update</span></span><br><span class="line">    m_RefCount++;</span><br><span class="line">    <span class="built_in">CallDelayed</span>(ContinueCoroutine, m_Behaviour, <span class="number">0.0F</span>, <span class="keyword">this</span>, <span class="number">0.0F</span>, CleanupCoroutine, DelayedCallManager::kRunDynamicFrameRate | DelayedCallManager::kWaitForNextFrame);</span><br><span class="line">    <span class="comment">//Ext_MarshalMap_Release_ScriptingObject(monoWait);//RH TODO : RELEASE THE MONOWAIT OBJECTS SOMEWHERE</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>C++åˆ°C#çš„ç†è§£æœ‰äº›éš¾åº¦, æˆ‘ä»¬å¯ä»¥å®ç°ä¸€ä¸ªçº¯C#çš„åç¨‹:</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ç¿»ä¸€ä¸‹è¿™æ®µä»£ç &lt;/p&gt;
&lt;figure class=&quot;highlight c#&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è¿·æ€â€”â€”å…³äºå·¥ä½œè§„èŒƒ</title>
    <link href="https://soincredible.github.io/posts/fcb99509/"/>
    <id>https://soincredible.github.io/posts/fcb99509/</id>
    <published>2025-09-11T02:24:20.000Z</published>
    <updated>2025-09-28T07:59:32.071Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨è‹±æ–‡çš„å¼€å‘å’Œæµ‹è¯•æµç¨‹ä¸­ï¼Œ<strong>æè¿°bugå¤ç°è·¯å¾„æˆ–åŸå› ï¼Œå¸¸ç”¨çš„ä¸“ä¸šåè¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</strong></p><hr><h3 id="1-Reproduction-Steps-Steps-to-Reproduce">1. <strong>Reproduction Steps / Steps to Reproduce</strong></h3><ul><li><strong>è§£é‡Š</strong>ï¼šæœ€å¸¸ç”¨çš„æœ¯è¯­ï¼Œæ„ä¸ºâ€œå¤ç°æ­¥éª¤â€ï¼Œå³è¯¦ç»†è®°å½•è®©bugå‘ç”Ÿçš„å…·ä½“æ“ä½œæˆ–æ¡ä»¶ã€‚</li><li><strong>å®ä¾‹</strong>ï¼š<ul><li><em>â€œPlease provide detailed <strong>reproduction steps</strong> so we can investigate the issue.â€</em></li><li><em>â€œSteps to reproduce: 1. Open menu. 2. Click Save. 3. Observe crash.â€</em></li></ul></li></ul><h3 id="2-Reproducibility">2. <strong>Reproducibility</strong></h3><ul><li><strong>è§£é‡Š</strong>ï¼šæŒ‡è¯¥bugèƒ½å¦ç¨³å®šæˆ–å¶ç„¶è¢«å¤ç°çš„ç‰¹æ€§ã€‚æœ‰æ—¶ä¹Ÿå†™æˆrepro rateï¼ˆå¤ç°æ¦‚ç‡ï¼‰ã€‚</li><li><strong>å®ä¾‹</strong>ï¼š<ul><li><em>â€œThe reproducibility of this bug is 100%.â€</em></li><li><em>â€œPlease indicate the reproducibility in your bug report.â€</em></li></ul></li></ul><h3 id="3-Root-Cause">3. <strong>Root Cause</strong></h3><ul><li><strong>è§£é‡Š</strong>ï¼šè¡¨ç¤ºbugçš„æ ¹æœ¬åŸå› ã€‚é€šå¸¸ç”¨äºæè¿°ç©¶ç«Ÿæ˜¯å“ªä¸ªé€»è¾‘/ä»£ç /æ¡ä»¶å¯¼è‡´æ­¤bugäº§ç”Ÿã€‚</li><li><strong>å®ä¾‹</strong>ï¼š<ul><li><em>â€œAfter analysis, the <strong>root cause</strong> of the issue was found to be a missing null check.â€</em></li></ul></li></ul><h3 id="4-Issue-Trigger-Trigger-Condition">4. <strong>Issue Trigger/Trigger Condition</strong></h3><ul><li><strong>è§£é‡Š</strong>ï¼šæœ‰æ—¶å€™ä¼šç”¨triggerï¼ˆè§¦å‘æ¡ä»¶ï¼‰æè¿°èƒ½å¯¼è‡´è¿™ä¸ªé—®é¢˜çš„å…·ä½“æ¡ä»¶æˆ–åŠ¨ä½œã€‚</li><li><strong>å®ä¾‹</strong>ï¼š<ul><li><em>â€œThe trigger for this issue is clicking the submit button twice.â€</em></li></ul></li></ul><h3 id="5-Repro-Case-Test-Case">5. <strong>Repro Case / Test Case</strong></h3><ul><li><strong>è§£é‡Š</strong>ï¼š&quot;Repro case&quot;æŒ‡çš„æ˜¯èƒ½ç²¾ç¡®å¤ç°bugçš„æµ‹è¯•ç”¨ä¾‹ï¼Œåœ¨è‡ªåŠ¨åŒ–æˆ–è¯¦ç»†è°ƒæŸ¥æ—¶ä½¿ç”¨ã€‚<ul><li><em>â€œIâ€™ve attached a minimal repro case for this bug.â€</em></li></ul></li></ul><hr><h2 id="æ€»ç»“æ¨è">æ€»ç»“æ¨è</h2><p><strong>ä½ å¦‚æœæŒ‡çš„æ˜¯â€œå¤ç°è·¯å¾„/æ­¥éª¤â€ï¼Œæœ€å¸¸ç”¨çš„ä¸“ä¸šè¯æ±‡å°±æ˜¯ï¼š</strong></p><ul><li><strong>Steps to Reproduce</strong></li><li><strong>Reproduction Steps</strong></li></ul><p><strong>ä½ å¦‚æœå¼ºè°ƒâ€œåŸå› â€ï¼Œæœ€æ ‡å‡†çš„æœ¯è¯­æ˜¯ï¼š</strong></p><ul><li><strong>Root Cause</strong></li></ul><hr><h2 id="å‚è€ƒæ ¼å¼ï¼ˆè‹±æ–‡BugæŠ¥å‘Šæ ‡å‡†æ¨¡ç‰ˆï¼‰">å‚è€ƒæ ¼å¼ï¼ˆè‹±æ–‡BugæŠ¥å‘Šæ ‡å‡†æ¨¡ç‰ˆï¼‰</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Summary: [brief bug description]</span><br><span class="line"></span><br><span class="line">Steps to Reproduce:</span><br><span class="line">1. ...</span><br><span class="line">2. ...</span><br><span class="line">3. ...</span><br><span class="line"></span><br><span class="line">Expected Result: ...</span><br><span class="line">Actual Result: ...</span><br><span class="line"></span><br><span class="line">Reproducibility: (Always/Sometimes/Random)</span><br><span class="line">Root Cause: [if known]</span><br></pre></td></tr></table></figure><hr><p>å¦‚è¦è¡¨è¾¾&quot;å¤ç°è·¯å¾„&quot;ï¼Œå°±ç”¨__Steps to Reproduce__æˆ–__Reproduction Steps__ï¼›<br>å¦‚è¦è¡¨è¾¾&quot;åŸå› &quot;ï¼Œç”¨__Root Cause__ã€‚</p><hr><p>è¡¥å……ï¼š<br>æ›´å£è¯­ä¸€ç‚¹ï¼Œä¹Ÿå¯è¯´*â€œhow to reproduceâ€ this bug*ã€‚<br>ä½†<strong>æ­£å¼æœ¯è¯­</strong>æ°¸è¿œæ˜¯ <em>Steps to Reproduce</em>ã€‚</p><p>å¾ˆå¥½çš„é—®é¢˜ï¼</p><p>åœ¨è‹±æ–‡å¼€å‘åŠæµ‹è¯•æµç¨‹ä¸­ï¼Œ**â€œè§£å†³æ–¹æ¡ˆâ€â€œå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜â€**çš„ä¸“ä¸šæœ¯è¯­å’Œè¡¨è¾¾æ–¹å¼å¦‚ä¸‹ï¼š</p><hr><h2 id="1-Solution">1. <strong>Solution</strong></h2><ul><li>æœ€ç›´æ¥ã€æœ€å¹¿æ³›çš„æœ¯è¯­ï¼Œæ„ä¸ºâ€œè§£å†³æ–¹æ¡ˆâ€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œProposed solution:â€</em></li><li><em>â€œThe solution is toâ€¦â€</em></li></ul></li></ul><h2 id="2-Fix-Bug-Fix">2. <strong>Fix / Bug Fix</strong></h2><ul><li>æ›´åå·¥ç¨‹å®è·µï¼Œç”¨äºæŒ‡â€œä¿®å¤æªæ–½â€æˆ–å…·ä½“çš„â€œä¿®å¤ç‚¹â€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œThe fix for this issue isâ€¦â€</em></li><li><em>â€œBug fix implemented byâ€¦â€</em></li></ul></li></ul><h2 id="3-Resolution">3. <strong>Resolution</strong></h2><ul><li>ä¸€èˆ¬ç”¨äºbugçŠ¶æ€æµè½¬ï¼ˆæ¯”å¦‚Jiraã€Bugzillaï¼‰ï¼Œè¡¨ç¤ºâ€œæœ€ç»ˆè§£å†³æ–¹å¼â€æˆ–â€œå·²è§£å†³â€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œResolution: Fixedâ€</em></li><li><em>â€œResolution: Wonâ€™t Fixâ€</em></li></ul></li></ul><h2 id="4-Remediation">4. <strong>Remediation</strong></h2><ul><li>åæ­£å¼ã€ç”¨äºå®‰å…¨é¢†åŸŸæˆ–å¤§å…¬å¸çš„æŠ¥å‘Šï¼ŒæŒ‡â€œè¡¥æ•‘æªæ–½â€æˆ–â€œç¼“è§£åŠæ³•â€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œRecommended remediation:â€</em></li></ul></li></ul><h2 id="5-Mitigation">5. <strong>Mitigation</strong></h2><ul><li>å¦‚æœä¸æ˜¯å½»åº•ä¿®å¤ï¼Œè€Œæ˜¯é™ä½å½±å“ï¼Œå«â€œç¼“è§£æªæ–½â€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œMitigation step:â€</em></li><li><em>â€œMitigation: Limit the input size to 256 characters.â€</em></li></ul></li></ul><h2 id="6-Workaround">6. <strong>Workaround</strong></h2><ul><li>å¦‚æœè¿˜æ²¡ä¿®å¥½ï¼Œä½†å¯ä»¥ä¸´æ—¶è§„é¿ï¼Œç”¨â€œä¸´æ—¶è§£å†³åŠæ³•â€ã€‚</li><li>å¸¸ç”¨è¡¨è¾¾ï¼š<ul><li><em>â€œWorkaround: Restart the application.â€</em></li></ul></li></ul><hr><h2 id="å¸¸ç”¨ä¸“ä¸šè¡¨è¾¾">å¸¸ç”¨ä¸“ä¸šè¡¨è¾¾</h2><ul><li><strong>How to solve this issue?</strong></li><li><strong>The solution to this problem isâ€¦</strong></li><li><strong>Resolution:</strong> (åœ¨bugæŠ¥å‘Šè¡¨å•ä¸Š)</li><li><strong>Proposed fix:</strong> æˆ– <strong>Fix:</strong> ï¼ˆå¼€å‘è€…æè¿°ä¿®å¤æ€è·¯ï¼‰</li><li><strong>Remediation:</strong> (æ­£å¼æˆ–å®‰å…¨ç›¸å…³å†™æ³•)</li><li><strong>Mitigation:</strong> (åªèƒ½ç¼“è§£ï¼Œä¸èƒ½æ ¹æ²»æ—¶)</li><li><strong>Workaround:</strong> (ä¸´æ—¶åŠæ³•)</li></ul><hr><h2 id="å…¸å‹Bug-Reportæ¨¡æ¿ç‰‡æ®µï¼ˆè‹±è¯­ä¸“ä¸šè¡¨è¾¾ï¼‰">å…¸å‹Bug Reportæ¨¡æ¿ç‰‡æ®µï¼ˆè‹±è¯­ä¸“ä¸šè¡¨è¾¾ï¼‰</h2><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Issue Summary: [description of the problem]</span><br><span class="line"></span><br><span class="line">Steps to Reproduce: [how to trigger the bug]</span><br><span class="line"></span><br><span class="line">Expected Result: [what should happen]</span><br><span class="line">Actual Result: [what happens]</span><br><span class="line">Root Cause: [why it happens]</span><br><span class="line"></span><br><span class="line">Solution / Fix / Resolution:</span><br><span class="line">- [How to fix / what code change / what configuration to adjust / etc.]</span><br></pre></td></tr></table></figure><hr><h2 id="æ€»ç»“">æ€»ç»“</h2><h3 id="ä½ é—®â€œè§£å†³æ–¹æ¡ˆ-å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜â€ï¼Œä¸“ä¸šæœ¯è¯­å¯ä»¥ç”¨ï¼š">ä½ é—®â€œè§£å†³æ–¹æ¡ˆ/å¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜â€ï¼Œä¸“ä¸šæœ¯è¯­å¯ä»¥ç”¨ï¼š</h3><ul><li><strong>Solution</strong></li><li><strong>Fix</strong></li><li><strong>Resolution</strong></li><li><strong>Remediation</strong></li><li>ï¼ˆå¦‚æœæ˜¯ä¸´æ—¶æªæ–½ï¼Œåˆ™ç”¨ Mitigation æˆ– Workaroundï¼‰</li></ul><hr><p><strong>æœ€å¸¸è§çš„è¡¨è¾¾ï¼š</strong></p><blockquote><p><strong>Solution:</strong><br><strong>Proposed Fix:</strong><br><strong>Resolution:</strong></p></blockquote><hr><p>å¦‚æœéœ€è¦å†™code reviewã€bugæŠ¥å‘Šã€æäº¤æ—¥å¿—ï¼Œå»ºè®®ç”¨è¿™äº›æ ‡å‡†è¯æ±‡ã€‚<br>å¦‚è¦å…·ä½“åœºæ™¯ä¸¾ä¾‹æˆ–æ›´æ·±å…¥ç”¨æ³•ï¼Œå¯ä»¥ç»§ç»­é—®ï¼</p><h1>å¤ç°çš„è‹±æ–‡ä¸ºreproduce</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;åœ¨è‹±æ–‡çš„å¼€å‘å’Œæµ‹è¯•æµç¨‹ä¸­ï¼Œ&lt;strong&gt;æè¿°bugå¤ç°è·¯å¾„æˆ–åŸå› ï¼Œå¸¸ç”¨çš„ä¸“ä¸šåè¯ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š&lt;/strong&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h3 id=&quot;1-Reproduction-Steps-Steps-to-Reproduce&quot;&gt;1. &lt;strong&gt;Reproduct</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>RPGæ¸¸æˆå¼€å‘è®°å½•(äº”)ï¼šæ¥å…¥YooAsset</title>
    <link href="https://soincredible.github.io/posts/564f2f1d/"/>
    <id>https://soincredible.github.io/posts/564f2f1d/</id>
    <published>2025-09-10T11:22:57.000Z</published>
    <updated>2025-09-11T01:44:39.371Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>C#ä¸­çš„åºåˆ—åŒ–</title>
    <link href="https://soincredible.github.io/posts/57ac4e9b/"/>
    <id>https://soincredible.github.io/posts/57ac4e9b/</id>
    <published>2025-09-10T02:09:10.000Z</published>
    <updated>2025-09-10T06:40:47.710Z</updated>
    
    
    
    
    
  </entry>
  
  <entry>
    <title>ä½œå®¶ä»¬</title>
    <link href="https://soincredible.github.io/posts/2375413b/"/>
    <id>https://soincredible.github.io/posts/2375413b/</id>
    <published>2025-09-10T00:25:23.000Z</published>
    <updated>2025-09-10T06:40:47.711Z</updated>
    
    <content type="html"><![CDATA[<p>é˜¿ç‘Ÿå…‹æ‹‰å…‹ ã€Šä¸ç½—æ‘©ç›¸ä¼šã€‹</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;é˜¿ç‘Ÿå…‹æ‹‰å…‹ ã€Šä¸ç½—æ‘©ç›¸ä¼šã€‹&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è¿·æ€â€”â€”å…³äºæ‹–å»¶ä¸ç”Ÿæ´»çš„å……å®æ„Ÿ</title>
    <link href="https://soincredible.github.io/posts/360942ff/"/>
    <id>https://soincredible.github.io/posts/360942ff/</id>
    <published>2025-09-10T00:21:49.000Z</published>
    <updated>2025-09-10T09:44:05.914Z</updated>
    
    <content type="html"><![CDATA[<h1>ä¸æƒ³æ´—æ¾¡</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;ä¸æƒ³æ´—æ¾¡&lt;/h1&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>è¿·æ€â€”â€”æ˜¯è¦è¿‡ç¨‹è¿˜æ˜¯è¦ç»“æœ</title>
    <link href="https://soincredible.github.io/posts/8518d869/"/>
    <id>https://soincredible.github.io/posts/8518d869/</id>
    <published>2025-09-09T02:02:54.000Z</published>
    <updated>2025-09-09T10:30:20.761Z</updated>
    
    <content type="html"><![CDATA[<p>è¦åšä¸€ä¸ªtransformä»æŸç‚¹ç§»åŠ¨åˆ°æŸç‚¹çš„æ•ˆæœ, ä¸¤ç§æ–¹å¼, ç¬¬ä¸€ç§åœ¨Updateé‡Œé¢æ¯å¸§å»æ›´æ–°ä½ç½®, ç¬¬äºŒç§ä½¿ç”¨DoTween, ç»™ä¸€ä¸ªèµ·å§‹ç‚¹, ç»™ä¸€ä¸ªç»ˆç‚¹å°±å®Œäº‹äº†.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;è¦åšä¸€ä¸ªtransformä»æŸç‚¹ç§»åŠ¨åˆ°æŸç‚¹çš„æ•ˆæœ, ä¸¤ç§æ–¹å¼, ç¬¬ä¸€ç§åœ¨Updateé‡Œé¢æ¯å¸§å»æ›´æ–°ä½ç½®, ç¬¬äºŒç§ä½¿ç”¨DoTween, ç»™ä¸€ä¸ªèµ·å§‹ç‚¹, ç»™ä¸€ä¸ªç»ˆç‚¹å°±å®Œäº‹äº†.&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>UnityEditorUITookitå¼€å‘</title>
    <link href="https://soincredible.github.io/posts/7c88a7b8/"/>
    <id>https://soincredible.github.io/posts/7c88a7b8/</id>
    <published>2025-09-09T01:05:50.000Z</published>
    <updated>2025-09-09T10:30:20.759Z</updated>
    
    
    
    
    <category term="UnityEditor" scheme="https://soincredible.github.io/categories/UnityEditor/"/>
    
    
  </entry>
  
  <entry>
    <title>UnityEditorIMGUIå¼€å‘</title>
    <link href="https://soincredible.github.io/posts/7f55a4b3/"/>
    <id>https://soincredible.github.io/posts/7f55a4b3/</id>
    <published>2025-09-09T01:05:37.000Z</published>
    <updated>2025-09-10T06:40:29.370Z</updated>
    
    <content type="html"><![CDATA[<h1>ä½•ä¸ºIMGUI</h1><p>IMGUIå³Immediate Mode GUI éšç€Unityçš„ç‰ˆæœ¬æ›´æ–°, Unityå®˜æ–¹é€æ¸æŠ›å¼ƒIMGUI, è½¬ç”¨UITookit</p><h1>ä¸€äº›ç–‘é—®</h1><h1>1. Editor GUIï¼ˆOnGUIï¼‰æ¨¡å¼</h1><p>Unity çš„ Editor æ‰©å±•ï¼ˆEditorWindowã€Editorã€CustomInspector ç­‰ï¼‰ä½¿ç”¨çš„æ˜¯<strong>Immediate Mode GUI</strong>ï¼Œå³ IMGUIã€‚</p><ul><li>åœ¨ IMGUIï¼ˆOnGUIï¼‰é‡Œï¼Œæ¯æ¬¡è¦æ˜¾ç¤ºæ§ä»¶éƒ½å¿…é¡»é‡æ–°ç»˜åˆ¶ä¸€éï¼Œæ‰€ä»¥ _textArea = GUILayout.TextArea(_textArea); è¿™ç§å†™æ³•æ˜¯<strong>å¿…è¦çš„</strong>ï¼Œä¹Ÿæ˜¯æ¨èçš„ã€‚</li><li>åªè¦ä½ éœ€è¦æ–‡æœ¬è¾“å…¥æ¡†èƒ½ä¿å­˜ã€æ˜¾ç¤ºã€ä¿®æ”¹æ–‡æœ¬ï¼Œå°±å¿…é¡»æŠŠæ¯å¸§ OnGUI è¿”å›çš„æœ€æ–°å­—ç¬¦ä¸²èµ‹å€¼å›æ¥ï¼Œå¦è€…æ§ä»¶æ— æ³•å“åº”ç”¨æˆ·è¾“å…¥ã€‚</li><li>OnGUI å¹¶ä¸æ˜¯åƒ Update é‚£æ ·åªåšé€»è¾‘è¿ç®—ï¼Œå®ƒæ˜¯â€œæ¯å¸§é‡ç”»+åŒæ­¥æœ€æ–°å€¼â€çš„æœºåˆ¶ã€‚</li></ul><p><strong>è¿™ä¸ªæµç¨‹è™½ç„¶â€œæ¯å¸§èµ‹å€¼â€ï¼Œä½†å®é™…ä¸Šæ˜¯ï¼š</strong></p><ul><li>ç”¨æˆ·è¾“å…¥ â†’ æ§ä»¶æ›´æ–°ï¼Œæ§ä»¶çš„å†…å®¹é€šè¿‡ TextArea çš„è¿”å›å€¼ä¼ é€’å‡ºæ¥ã€‚</li><li>ä½ ç”¨ä¸€ä¸ªå˜é‡ä¿å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å†ä¼ è¿›å»ï¼Œå¾ªç¯å¾€å¤ã€‚</li></ul><p>å®é™…ä¸Šï¼Œè¿™æ ·çš„â€œèµ‹å€¼â€å¹¶ä¸æ˜¯çœŸæ­£â€œæ¯å¸§éƒ½åšäº†æ— ç”¨åŠŸâ€ï¼Œå®ƒä¸æ¶‰åŠå¤æ‚é€»è¾‘ï¼Œåªæ˜¯ä¿è¯æ•°æ®åŒæ­¥ï¼Œå¾ˆè½»é‡ã€‚</p><hr><h1>2. UGUIï¼ˆUnityEngine.UIï¼‰æ¨¡å¼</h1><p>UGUI ä½¿ç”¨çš„æ˜¯<strong>Retained Mode GUI</strong>ï¼Œå³â€œä¿æŒå¼ GUIâ€ã€‚</p><ul><li>UGUIï¼ˆæ¯”å¦‚ InputFieldï¼‰æ˜¯ GameObjectï¼Œä¸Šé¢æŒ‚ç€è„šæœ¬ç»„ä»¶ï¼ˆInputFieldã€Text ç­‰ï¼‰ï¼Œå€¼éƒ½æ˜¯æŒ‚åœ¨å¯¹è±¡å†…éƒ¨ï¼Œâ€œå®æ—¶ç»‘å®šã€äº‹ä»¶é©±åŠ¨â€ï¼Œåªæœ‰å½“ç”¨æˆ·è¾“å…¥å‘ç”Ÿå˜åŒ–æ—¶æ‰ä¼šæ›´æ–°å†…éƒ¨å€¼ã€‚</li><li>ä½ <strong>ä¸éœ€è¦æ¯å¸§èµ‹å€¼ InputField.text</strong>ï¼Œé€šå¸¸åªåœ¨åˆå§‹åŒ–æˆ–ç‰¹å®šé€»è¾‘ä¸­èµ‹å€¼ï¼Œæˆ–è€…é€šè¿‡äº‹ä»¶ï¼ˆonValueChangedï¼‰å¤„ç†è¾“å…¥å˜åŒ–ã€‚</li></ul><p>ä¾‹å¦‚ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> InputField input;</span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">Start</span>()</span></span><br><span class="line">&#123;</span><br><span class="line">    input.onValueChanged.AddListener(OnInputChanged);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">OnInputChanged</span>(<span class="params"><span class="built_in">string</span> newText</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œåªåœ¨ç”¨æˆ·è¾“å…¥æ”¹å˜æ—¶è§¦å‘ä¸€æ¬¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯å¸§ Update æ—¶ <strong>å¹¶ä¸éœ€è¦ assign</strong>ã€‚</p><hr><h2 id="3-ä¸ºä»€ä¹ˆ-Editor-è¦è¿™æ ·å†™ï¼Ÿ">3. ä¸ºä»€ä¹ˆ Editor è¦è¿™æ ·å†™ï¼Ÿ</h2><p>å› ä¸º IMGUI çš„æœºåˆ¶åªèƒ½ä½ è‡ªå·±æ‰‹åŠ¨æ¥ç®¡â€œå¯è§†æ§ä»¶å†…å®¹â€å’Œâ€œä½ çš„å˜é‡â€ï¼Œ<br>æ¯å¸§åŒæ­¥å…¶å®åªæ˜¯â€œçŠ¶æ€åŒæ­¥â€ï¼Œå¹¶ä¸æ˜¯åšå¤§é‡å†—ä½™é€»è¾‘ã€‚æ‰€ä»¥<strong>IMGUIé£æ ¼å°±è¯¥æ¯å¸§èµ‹å€¼ï¼›UGUIåˆ™ç”¨äº‹ä»¶é©±åŠ¨ã€‚</strong></p><hr><h2 id="4-æœ‰æ²¡æœ‰â€œæ›´ä¼˜é›…â€çš„å†™æ³•ï¼Ÿ">4. æœ‰æ²¡æœ‰â€œæ›´ä¼˜é›…â€çš„å†™æ³•ï¼Ÿ</h2><ul><li>åœ¨ Editor .OnGUIï¼Œæ²¡æœ‰æ›´ä¼˜é›…çš„æ–¹æ¡ˆï¼Œè¿™å°±æ˜¯å®˜æ–¹æ¨èç”¨æ³•ï¼ˆ<strong>èµ‹å€¼å…¶å®å°±1æ¡æŒ‡ä»¤ï¼Œæ€§èƒ½å‹åŠ›å¾ˆå°</strong>ï¼‰ã€‚</li><li>å¦‚æœä½ åªæƒ³æé«˜ä»£ç â€œè§‚æ„Ÿâ€ï¼Œå¯ä»¥åŒ…è£…ä¸€å±‚å‡½æ•°ï¼Œä½†åº•å±‚é€»è¾‘è¿˜æ˜¯è¦ä½ ç®¡æ•°æ®åŒæ­¥ã€‚</li><li>UGUIã€EditorGUILayoutã€Runtime GUIï¼Œæ²¡æœ‰æ›´ä¼˜é›…æ–¹æ¡ˆï¼Œå› ä¸ºæœºåˆ¶ä¸åŒã€‚</li></ul><hr><h2 id="ç»“è®º">ç»“è®º</h2><ul><li><strong>Editor IMGUI å°±è¦æ¯å¸§èµ‹å€¼ï¼Œè¿™æ˜¯æœºåˆ¶è¦æ±‚ã€‚</strong></li><li><strong>UGUI/InputFieldç­‰åªåœ¨éœ€è¦æ—¶èµ‹å€¼ï¼Œä¸å¿…æ¯å¸§ã€‚</strong></li><li><strong>èµ‹å€¼æœ¬èº«åªæ˜¯åŒæ­¥æ–‡æœ¬çŠ¶æ€ï¼Œä¸æ˜¯æ— ç”¨åŠŸï¼Œä¹Ÿä¸å½±å“æ€§èƒ½ã€‚</strong></li></ul><hr><h3 id="å»¶ä¼¸é˜…è¯»">å»¶ä¼¸é˜…è¯»</h3><p>å®˜æ–¹è¯´æ˜ï¼š<br><a href="https://docs.unity3d.com/Manual/UI-system-compare.html">IMGUI Vs Retained Mode</a><br><a href="https://docs.unity3d.com/ScriptReference/GUILayout.TextArea.html">Editor scripting: Immediate/Retained GUI</a></p><hr><p><strong>ç®€æ˜ä¸€å¥è¯ï¼šIMGUI æ¯å¸§èµ‹å€¼æ˜¯å¿…è¦çš„ï¼Œå°±æ˜¯å®ƒçš„æœºåˆ¶è®¾è®¡ï¼›UGUIåªåœ¨éœ€è¦è½¬ç§»æ•°æ®æ—¶æ‰èµ‹å€¼ï¼Œä¸æ˜¯æ¯å¸§ã€‚</strong></p><h1>GUIéƒ½æœ‰å“ªäº›æ§ä»¶</h1><ul><li>Button åœ¨ç”¨æˆ·ç‚¹å‡»æŒ‰é’®**ï¼ˆæŒ‰ä¸‹å¹¶æŠ¬èµ·ï¼‰**æ—¶ï¼ŒGUILayout.Button è¿”å› true</li><li>RepeatButton åœ¨ç”¨æˆ·æŒ‰ä½æŒ‰é’®æ—¶ï¼ŒGUILayout.RepeatButton æ¯å¸§éƒ½è¿”å› trueã€‚</li><li>Label</li><li>TextArea</li><li>Toggle</li><li>Box</li></ul><h1>GUIStyleState</h1><h1>GUIContent</h1><p>çœ‹ä¸€ä¸‹æºç å°±å¯ä»¥å‘ç°, å½“æˆ‘ä»¬è°ƒç”¨<code>GUI.Label(&quot;Hello&quot;)</code>è¿™æ ·çš„æ¥å£æ—¶, GUIå†…éƒ¨éƒ½æ˜¯å°†ä¼ å…¥çš„å­—ç¬¦ä¸²ä¸“æˆä¸€ä¸ªGUIContent. è¿™æ˜¯ä¸€ç§ä¾¿æ·çš„å†™æ³•</p><p>GUIContentå†³å®šæ¸²æŸ“ä»€ä¹ˆ<br>GUIStyleå†³å®šå¦‚ä½•æ¸²æŸ“</p><h1>GUIStyle</h1><p>Style</p><p>æœ‰ä¸€äº›ä»£è¡¨çŠ¶æ€çš„å­—æ®µ è¿™äº›çŠ¶æ€æ˜¯ç»™å›ºå®šçš„æ§ä»¶ä½¿ç”¨çš„.</p><ul><li>active Button</li><li>onHover</li></ul><p>GUIStyleåƒæ˜¯ä¸€ä¸ªä¸Šä¸‹æ–‡, æˆ–è€…çŠ¶æ€æœºé‡Œé¢çš„Blackboard, æ‰€æœ‰çš„UIæ§ä»¶, èƒ½å¤Ÿå‘ˆç°çš„æ ·å¼, GUIStyleä¸­çš„å­—æ®µå…¨éƒ¨åŒ…å«, ä¸€ä¸ªUIæ§ä»¶èƒ½è¡¨ç°çš„æ•ˆæœæ‰€éœ€è¦çš„å­—æ®µ, åªæ˜¯GUIStyleçš„å­é›†.</p><p>æ¯”å¦‚GUI.Label</p><h1>å¸ƒå±€å¯¹é½æœ‰ä¸¤ç§èŒƒç•´</h1><p>ç¬¬ä¸€æ˜¯ä¸€ä¸ªç»„ä»¶å†… æ¯”å¦‚Boxç»„ä»¶å†…éƒ¨çš„Textå’ŒIcon ä½¿ç”¨GUIStyleçš„alignmentæ¥å¯¹é½, ç¬¬äºŒæ˜¯æ•´ä¸ªBoxç»„ä»¶åœ¨çª—å£ä¸­çš„å¯¹é½æ–¹å¼, ä½¿ç”¨GUILayout.FlexibleSpace() + GUILayout.BeginHorizontal()æ¥å®ç°å¸ƒå±€</p><h1>GUIã€EditorGUIã€GUILayoutã€EditorGUILayoutã€EditorGUIUtilityã€GUIUtility</h1><p>GUIé™„å¸¦çš„è¿˜æœ‰GUIGroupã€GUIStyleç­‰ EditorGUIå¥½åƒæ²¡æœ‰?<br>åœ¨UnityEditorå¼€å‘ä¸­ä¸‹é¢è¿™äº›ç±»å‹éƒ½æ˜¯å¯ä»¥ç”¨çš„<br><a href="https://docs.unity3d.com/ScriptReference/GUI.html">https://docs.unity3d.com/ScriptReference/GUI.html</a><br><a href="https://docs.unity3d.com/ScriptReference/GUIContent.html">https://docs.unity3d.com/ScriptReference/GUIContent.html</a><br><a href="https://docs.unity3d.com/ScriptReference/GUISkin.html">https://docs.unity3d.com/ScriptReference/GUISkin.html</a><br><a href="https://docs.unity3d.com/ScriptReference/GUIStyle.html">https://docs.unity3d.com/ScriptReference/GUIStyle.html</a><br><a href="https://docs.unity3d.com/ScriptReference/EditorGUI.html">https://docs.unity3d.com/ScriptReference/EditorGUI.html</a><br><a href="https://docs.unity3d.com/ScriptReference/EditorStyles.html">https://docs.unity3d.com/ScriptReference/EditorStyles.html</a></p><h1>EditorToolBar</h1>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;ä½•ä¸ºIMGUI&lt;/h1&gt;
&lt;p&gt;IMGUIå³Immediate Mode GUI éšç€Unityçš„ç‰ˆæœ¬æ›´æ–°, Unityå®˜æ–¹é€æ¸æŠ›å¼ƒIMGUI, è½¬ç”¨UITookit&lt;/p&gt;
&lt;h1&gt;ä¸€äº›ç–‘é—®&lt;/h1&gt;
&lt;h1&gt;1. Editor GUIï¼ˆOnGUIï¼‰æ¨¡å¼&lt;/h1&gt;
&lt;p</summary>
      
    
    
    
    <category term="UnityEditor" scheme="https://soincredible.github.io/categories/UnityEditor/"/>
    
    
  </entry>
  
  <entry>
    <title>UnityEditorä¸‹å¼‚æ­¥çš„è®¾è®¡</title>
    <link href="https://soincredible.github.io/posts/1302a241/"/>
    <id>https://soincredible.github.io/posts/1302a241/</id>
    <published>2025-09-09T00:27:17.000Z</published>
    <updated>2025-09-10T02:16:24.516Z</updated>
    
    <content type="html"><![CDATA[<p>å‚è€ƒæ¡†æ¶: FigmaConvertToUnityã€FindReference2ã€I2</p><p>Editoræ¨¡å¼ä¸‹æ²¡åŠæ³•ä½¿ç”¨MonoBehaviouré‚£å¥—åç¨‹æ¥å®ç°å¼‚æ­¥, I2ç”¨äº†ç‚¹å¥‡æŠ€æ·«å·§, åœ¨éœ€è¦æ‰§è¡Œå¼‚æ­¥çš„æ—¶å€™, åœ¨åœºæ™¯ä¸ŠæŒ‚è½½ä¸€ä¸ªMonoçš„è„šæœ¬, ç”¨è¿™ä¸ªMonoè„šæœ¬é©±åŠ¨åç¨‹çš„æ‰§è¡Œ</p><h1>FR2</h1><p>ä½¿ç”¨çš„æ˜¯ä¼ªå¼‚æ­¥, åœ¨EditorUpdateé‡Œé¢åš</p><h1>Figmaæ’ä»¶</h1><p>è¿™ä¸ªç”¨åˆ°çš„æ˜¯C#çš„Task, å› ä¸ºå®ƒé‡Œé¢çš„ä¸€äº›å¼‚æ­¥æ“ä½œéƒ½æ˜¯å‘ç½‘ç»œè¯·æ±‚, ä¸‹è½½æ•°æ®, ä¸æ˜¯æ“ä½œUnityé‡Œé¢çš„ä¸€äº›ä¸œè¥¿, æ‰€ä»¥å¯ä»¥æ”¾å¿ƒæ”¾åˆ°åˆ«çš„çº¿ç¨‹é‡Œé¢å»åš.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;å‚è€ƒæ¡†æ¶: FigmaConvertToUnityã€FindReference2ã€I2&lt;/p&gt;
&lt;p&gt;Editoræ¨¡å¼ä¸‹æ²¡åŠæ³•ä½¿ç”¨MonoBehaviouré‚£å¥—åç¨‹æ¥å®ç°å¼‚æ­¥, I2ç”¨äº†ç‚¹å¥‡æŠ€æ·«å·§, åœ¨éœ€è¦æ‰§è¡Œå¼‚æ­¥çš„æ—¶å€™, åœ¨åœºæ™¯ä¸ŠæŒ‚è½½ä¸€ä¸ªMonoçš„è„šæœ¬, ç”¨è¿™ä¸ªMonoè„š</summary>
      
    
    
    
    <category term="UnityEditor" scheme="https://soincredible.github.io/categories/UnityEditor/"/>
    
    
  </entry>
  
  <entry>
    <title>Unityæ’ä»¶åˆé›†</title>
    <link href="https://soincredible.github.io/posts/3248703d/"/>
    <id>https://soincredible.github.io/posts/3248703d/</id>
    <published>2025-09-05T01:12:08.000Z</published>
    <updated>2025-09-10T01:48:58.098Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://assetstore.unity.com/packages/tools/utilities/vfolders-2-255470">vFolders 2</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;https://assetstore.unity.com/packages/tools/utilities/vfolders-2-255470&quot;&gt;vFolders 2&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Unityæ¸²æŸ“åˆé›†</title>
    <link href="https://soincredible.github.io/posts/b20b7f63/"/>
    <id>https://soincredible.github.io/posts/b20b7f63/</id>
    <published>2025-09-05T01:10:15.000Z</published>
    <updated>2025-09-05T01:43:31.410Z</updated>
    
    
    
    
    
  </entry>
  
</feed>
